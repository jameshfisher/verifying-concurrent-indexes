<section xmlns='http://www.w3.org/1999/xhtml' xmlns:xi='http://www.w3.org/2001/XInclude' xmlns:e='http://eegg.github.com/htmlx' xmlns:m='http://eegg.github.com/macro'><e:displaycode>/*
  Braindead implementation of an index (in a given range)
  that's pretty much guaranteed to be correct.
  Used for testing against.
*/

module array.index;

import index;

import std.stdio;
import std.algorithm;

class ArrayIndex : index.Index {
  bool[int] arr;
  this() {}

  bool search(int value) {
    return arr.get(value, false);
  }

  void insert(int value) {
    arr[value] = true;
  }

  void remove(int value) {
    arr.remove(value);
  }

  int[] contents() {
    auto keys = arr.keys;
    sort!((a,b){return a &lt; b;})(keys);
    return keys;
  }
}&#160;</e:displaycode></section>