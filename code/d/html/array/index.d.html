<!doctype html><html><head><meta charset='utf-8' /></head><link rel='stylesheet' type='text/css' href='google-code-prettify/prettify.css' /><link rel='stylesheet' type='text/css' href='main.css' /><script type='text/javascript' src='google-code-prettify/prettify.js'></script><script type='text/javascript'>window.onload = function() { prettyPrint(); }</script><body><pre class='prettyprint'>/*
  Braindead implementation of an index (in a given range)
  that's pretty much guaranteed to be correct.
  Used for testing against.
*/

module array.index;

import index;

import std.stdio;
import std.algorithm;

class ArrayIndex : index.Index {
  bool[int] arr;
  this() {}

  bool search(int value) {
    return arr.get(value, false);
  }

  void insert(int value) {
    arr[value] = true;
  }

  void remove(int value) {
    arr.remove(value);
  }

  int[] contents() {
    auto keys = arr.keys;
    sort!((a,b){return a < b;})(keys);
    return keys;
  }
}</pre></body></html>