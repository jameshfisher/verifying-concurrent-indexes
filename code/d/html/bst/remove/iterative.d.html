<?xml version="1.0" encoding="UTF-8"?>
<section class="generated_listing" xmlns="http://www.w3.org/1999/xhtml" ns:xi="http://www.w3.org/2001/XInclude" ns:e="http://eegg.github.com/htmlx" xmlns:ns="xmlns" ns:m="http://eegg.github.com/macro"><e:displaycode xmlns:e="http://eegg.github.com/htmlx">module bst.remove.iterative;

import bst.node;
import bst.remove.removeRoot;


Node * remove(Node * root, int value) {
  Node * o;
  if (!root) {
    o = null;
  }
  else if (value == root.value) {
    o = removeRoot(root);
  }
  else {
    o = root;

    Node* p = o;
    int dir = value &gt; p.value;
    Node* i = p.c[dir];
 </e:displaycode><div class="section"><pre class="indent">    </pre><div class="CommentParagraph"><div>iterate until i is the node to delete
then set link in p to removeRoot(i).</div></div></div><e:displaycode xmlns:e="http://eegg.github.com/htmlx">    while (i &amp;&amp; i.value != value) {
      p = i;
      dir = value &gt; p.value;
      i = i.c[dir];
    }
    assert(!i || i.value == value);
    assert(dir == (value &gt; p.value));

    if (i) {
      p.c[dir] = removeRoot(i);
    }
  }

  return o;
} </e:displaycode></section>