<section class='generated_listing' xmlns='http://www.w3.org/1999/xhtml' xmlns:xi='http://www.w3.org/2001/XInclude' xmlns:e='http://eegg.github.com/htmlx' xmlns:m='http://eegg.github.com/macro'><e:displaycode>module rb.insert.recursive;

import rb.node;
import rb.blacken;

Node* insert(Node* root, int value) {&#160;</e:displaycode>
<div class='section'><pre class='indent'>&#160;&#160;</pre><div class='AssertionParagraph'><div class='expl'>Function precondition.</div><e:pred name="BT"><code>root</code>, <e:st n="S"/>, <e:var n="h"/></e:pred></div></div>
<e:displaycode>
  Node* i = insert_aux(root, value);&#160;</e:displaycode>
<div class='section'><pre class='indent'>&#160;&#160;</pre><div class='AssertionParagraph'><div class='expl'>Specification for <code>insert_aux</code>.</div><e:or>
  <e:fst><e:pred name="RBT"><code>i</code>, <e:union><e:fst><e:st n="S"/></e:fst><e:snd><e:set><code>value</code></e:set></e:snd></e:union>, <e:var n="h"/></e:pred></e:fst>
  <e:snd><e:pred name="RVT"><code>i</code>, <e:union><e:fst><e:st n="S"/></e:fst><e:snd><e:set><code>value</code></e:set></e:snd></e:union>, <e:var n="h"/></e:pred></e:snd>
</e:or></div></div>
<e:displaycode>
  Node* o = blacken(i);&#160;</e:displaycode>
<div class='section'><pre class='indent'>&#160;&#160;</pre><div class='AssertionParagraph'><div class='expl'>Specification for <code>blacken</code>.</div><e:exists>
  <e:fst><e:var n="nh"/></e:fst>
  <e:snd><e:and>
    <e:fst><e:pred name="BT"><code>o</code>, <e:union><e:fst><e:st n="S"/></e:fst><e:snd><e:set><code>value</code></e:set></e:snd></e:union>, <e:var n="nh"/></e:pred></e:fst>
    <e:snd><e:in>
      <e:fst><e:var n="nh"/></e:fst>
      <e:snd><e:set>
        <e:var n="h"/>,
        <e:plus><e:fst><e:var n="h"/></e:fst><e:snd><e:const n="1"/></e:snd></e:plus>
      </e:set></e:snd>
    </e:in></e:snd>
  </e:and></e:snd>
</e:exists></div></div>
<e:displaycode>
  return o;
}&#160;</e:displaycode></section>