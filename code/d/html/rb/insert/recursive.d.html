<?xml version="1.0" encoding="UTF-8"?>
<section class="generated_listing" xmlns="http://www.w3.org/1999/xhtml" ns:xi="http://www.w3.org/2001/XInclude" ns:e="http://eegg.github.com/htmlx" xmlns:ns="xmlns" ns:m="http://eegg.github.com/macro"><e:displaycode xmlns:e="http://eegg.github.com/htmlx">module rb.insert.recursive;

import rb.node;
import rb.blacken;

Node* insert(Node* root, int value) { </e:displaycode><div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl"><div>Function precondition.</div></div><div><e:pred name="BT" xmlns:e="http://eegg.github.com/htmlx"><code>root</code>, <e:st n="S"/>, <e:var n="h"/></e:pred></div></div></div><e:displaycode xmlns:e="http://eegg.github.com/htmlx">
  Node* i = insert_aux(root, value); </e:displaycode><div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl"><div>Specification for <code>insert_aux</code>.</div></div><div><e:or xmlns:e="http://eegg.github.com/htmlx">
  <e:pred name="RBT"><code>i</code>, <e:union><e:st n="S"/><e:set><code>value</code></e:set></e:union>, <e:var n="h"/></e:pred>
  <e:pred name="RVT"><code>i</code>, <e:union><e:st n="S"/><e:set><code>value</code></e:set></e:union>, <e:var n="h"/></e:pred>
</e:or></div></div></div><e:displaycode xmlns:e="http://eegg.github.com/htmlx">
  Node* o = blacken(i); </e:displaycode><div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl"><div>Specification for <code>blacken</code>.</div></div><div><e:exists xmlns:e="http://eegg.github.com/htmlx">
  <e:vars><e:var n="nh"/></e:vars>
  <e:expr><e:and>
    <e:pred name="BT"><code>o</code>, <e:union><e:st n="S"/><e:set><code>value</code></e:set></e:union>, <e:var n="nh"/></e:pred>
    <e:in>
      <e:var n="nh"/>
      <e:set>
        <e:var n="h"/>,
        <e:plus><e:var n="h"/><e:const n="1"/></e:plus>
      </e:set>
    </e:in>
  </e:and></e:expr>
</e:exists></div></div></div><e:displaycode xmlns:e="http://eegg.github.com/htmlx">
  return o;
} </e:displaycode></section>