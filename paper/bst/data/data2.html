<section xmlns="http://www.w3.org/1999/xhtml"
	 xmlns:xi="http://www.w3.org/2001/XInclude"
	 xmlns:e="http://eegg.github.com/htmlx"
	 xmlns:m="http://eegg.github.com/macro">
  
  <e:h>The <m:bst/> data structure</e:h>

  <e:definition name="Tree">
    <e:pred name="Tree"><code>root</code><e:st n="S"/></e:pred> ≝
    <e:pred name="BoundedTree"><code>root</code><e:st n="S"/><m:inf/><m:neginf/></e:pred>.
  </e:definition>

  <e:definition name="BoundedTree">
    <e:pred name="BoundedTree"><e:ptr n="root"/><e:st n="S"/><e:var n="lower"/><e:var n="higher"/></e:pred> ≝
    <e:or>
      <e:pred name="EmptyBoundedTree"><code>root</code><e:st n="S"/><e:var n="lower"/><e:var n="higher"/></e:pred>
      <e:pred name="NonEmptyBoundedTree"><code>root</code><e:st n="S"/><e:var n="lower"/><e:var n="higher"/></e:pred>
    </e:or>.
  </e:definition>

  <e:definition name="EmptyBoundedTree">
    <e:pred name="EmptyBoundedTree"><e:ptr n="root"/><e:st n="S"/><e:var n="lower"/><e:var n="higher"/></e:pred> ≝
    <e:and>
      <e:eq><e:ptr n="root"/><m:null/></e:eq>
      <e:eq><e:st n="S"/><m:empty/></e:eq>
    </e:and>.
  </e:definition>

  <e:definition name="NonEmptyBoundedTree">
    <e:pred name="NonEmptyBoundedTree"><e:ptr n="root"/><e:st n="S"/><e:var n="lower"/><e:var n="higher"/></e:pred> ≝
    <e:exists>
      <e:vars><e:var n="v"/></e:vars>
      <e:expr><e:pred name="TopOfBoundedTree"><e:ptr n="root"/><e:var n="v"/><e:st n="S"/><e:var n="lower"/><e:var n="higher"/></e:pred></e:expr>
    </e:exists>.
  </e:definition>

  <e:definition name="TopOfBoundedTree">
    <e:pred name="TopOfBoundedTree"><e:ptr n="root"/><e:var n="v"/><e:st n="S"/><e:var n="lower"/><e:var n="higher"/></e:pred> ≝
    <e:indent>
      <e:exists>
	<e:vars><e:ptr n="l"/><e:ptr n="r"/><e:st n="L"/><e:st n="R"/></e:vars>
	<e:expr><e:indent>
	  <e:and type="lines">
	    <e:sep>
	      <e:fcell>
		<e:ptr n="root"/>
		<e:vars><e:ptr n="l"/><e:var n="v"/><e:ptr n="r"/></e:vars>
	      </e:fcell>
	      <e:pred name="BoundedTree"><e:ptr n="l"/><e:st n="L"/><e:var n="lower"/><e:var n="v"/></e:pred>
	      <e:pred name="BoundedTree"><e:ptr n="r"/><e:st n="R"/><e:var n="v"/><e:var n="higher"/></e:pred>
	    </e:sep>
	    <e:eq>
	      <e:union><e:st n="L"/><e:set><e:var n="v"/></e:set><e:st n="R"/></e:union>
	      <e:st n="S"/>
	    </e:eq>
	    <e:lt>
	      <e:var n="lower"/>
	      <e:var n="v"/>
	      <e:var n="higher"/>
	    </e:lt>
	  </e:and>
	</e:indent></e:expr>
	</e:exists>.
    </e:indent>
  </e:definition>
</section>
