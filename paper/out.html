<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:e="http://eegg.github.com/htmlx" xmlns:m="http://eegg.github.com/macro">
  <head>
    <meta charset="utf-8"/>

    <link rel="stylesheet" type="text/css" href="http://eegg.github.com/style/css/common.css"/>
    <link rel="stylesheet" type="text/css" href="css/style.css"/>

    <link rel="stylesheet" type="text/css" href="css/google-code-prettify/prettify.css"/>
    <link rel="stylesheet" type="text/css" href="css/main.css"/>

    <script type="text/javascript" src="css/google-code-prettify/prettify.js"> </script>
    <script type="text/javascript">window.addEventListener("load", function() { prettyPrint(); });</script>

    <title>Verifying concurrent indexes</title>
  </head>
  <body>
    <section class="content">
      <hgroup>
	<h1>Verifying concurrent indexes</h1>
      </hgroup>

      <table>
	<tbody>
	  <tr>
	    <th>Name</th>
	    <td>James Fisher</td>
	  </tr>
	</tbody>
      </table>

      <section xml:base="introduction/introduction.html">
  <h2>Introduction</h2>

  <section>
  <h3>What is an index?</h3>

  An index<span class="note">The same data type also goes by the names <em>map</em>, <em>dictionary</em>, <em>associative array</em>, <em>table</em>, and <em>hash</em>.</span> stores values,
  where each value has a distinct name.
  Many data sets fit this description.
  For example, a contact list stores <em>phone numbers</em>, where each number is accessed with (indexed by) a person's <em>name</em>.
  The Web can be modeled as a store of <em>pages</em>, where each page is indexed by a <abbr title="Uniform Resource Locator" class="smallcaps">URL</abbr>.
  More abstractly, an index defines a function from some <em>range</em> to some <em>domain</em>.

  <section xml:base="what_is_an_index/the_index_api.html">

  <h4>The index <abbr title="Application Programming Interface" class="smallcaps">API</abbr></h4>

  <p>
    As a fundamental data type, almost every programming language has an index implementation.<span class="note">wp_mapping</span>
    <!--(Indeed, in some languages, such as Javascript,
    all objects are indexes.<e:cite>ecmascript, p.\ 2.</e:cite>)-->
    With it,
    the programmer can memoize the results of a function,
    model the houses on her street,
    or describe a directed graph.
    Here is pseudocode for a web cache:<span class="note">I use a syntax similar to C++ in my examples.</span>

    <pre class="prettyprint">Index&lt;Url, Page&gt; cache;  // `cache` stores webpages previously accessed.

Page get(Url u) {  // return the webpage at the URL `u`.
  Page p = cache.search(u);  // First look in the cache ...

  if (p != null &amp;&amp; !p.expired())
    // if the cache has an entry for this URL and it has not expired,
    return p;  // just return that.

  p = http_get(u);  // Otherwise, fetch the page from the Web.

  if (p == null) cache.remove(u);  // If the page doesn't exist, remove our records of it,
  else           cache.insert(u, p);  // otherwise cache it for future requests.

  return p;
}
</pre>
  </p>

  <p>
    This small example illustrates the entire <abbr>API</abbr>.
    Notice that the <code>Index</code> is an <q>abstract</q>, or <q>container</q> data type:
    we must supply the types of the keys and the values
    (in the above, the keys are <code>Url</code>s and the values are <code>Page</code>s).
    The resulting <q>concrete</q> data type can then be instantiated.
    The instantiated index <code>cache</code> has three operations that can be performed on it:
    <code>search</code>, <code>insert</code> and <code>remove</code>.
    For an index <code>i</code>
    that maps keys of type <code>K</code> onto  values of type <code>V</code>,
    these operations do the following:
  </p>

  <ul>
    <li><strong class="item"><code>value = i.search(key)</code></strong>
	If there is a value associated with <code>key</code> in <code>i</code>,
	<code>value</code> will be that value.
	Otherwise, <code>value</code> will be <code>null</code>.
	<!--The <code>search</code> function is also called <code>find</code>, <code>fetch</code>, <code>read</code>, and <code>get</code>.-->
      </li>
    <li><strong class="item">
	<code>i.insert(key, value)</code>
      </strong>
	Subsequent calls to <code>i.search(key)</code> will return <code>value</code>,
	until a subsequent call to <code>i.insert(k, —)</code> or <code>i.remove(k)</code>,
	where <code>k == key</code>.
	<!--The <code>insert</code> function is also called <code>store</code>, <code>set</code>, <code>save</code>, and <code>add</code>.-->
      </li>
    <li><strong class="item">
	<code>i.remove(key)</code>
      </strong>
	Subsequent calls to <code>i.search(key)</code> will return <code>null</code>,
	until subsequent calls to <code>i.insert(k, —)</code> or <code>i.remove(k)</code>,
	where <code>k == key</code>.
	<!--The <code>remove</code> function is also called <code>delete</code>.
	    It may also be absent,
	    in favour of <code>insert(k, null)</code>
	    (suggesting the <q>total function</q> interpretation).-->
      </li>
  </ul>

</section>
  <!--<xi:include href="what_is_an_index/formalizing_behavior_a_set_adt.html" />
  <xi:include href="what_is_an_index/formalizing_index_behavior.html" />-->
</section>
  <!--<xi:include href="index_algorithms.html" />
  <xi:include href="indexes_in_the_wild.html" />
  <xi:include href="some_predicate_definitions.html" />-->
</section>
      <section xml:base="ll/ll.html">

  <h2>Verifying linked lists</h2>

  <section>

  <h3>The <abbr title="Linked List" class="smallcaps">LL</abbr> data structure</h3>

  <p>
    The linked list (<abbr title="Linked List" class="smallcaps">LL</abbr>) is the simplest set data structure
    that will submit to fairly efficient insertion, deletion and search
    of elements from a general ordered universe.
    It is a good place to start to set out the principles of verification
    that we can then aplly to more complex algorithms.
  </p>

  <p>
    A <abbr title="Linked List" class="smallcaps">LL</abbr> representing set <span class="st">S</span> consists of a set of |<span class="st">S</span>| records,
    called <em>nodes</em>, in memory.
    There is a one-to-one correspondence between elements of <span class="st">S</span>
    and the set of <code>Node</code>s in the <abbr title="Linked List" class="smallcaps">LL</abbr> representing <span class="st">S</span>.
    Each node contains two fields, <code>value</code> and <code>tail</code>.
    This can be written in a few lines:

    <div class="display">
      <section class="generated_listing" xml:base="../../code/d/html/ll/node.d.html"><pre class="prettyprint">module ll.node;

struct Node {
  int value;   // The lowest value in the set
  Node* tail;  // list containing all values greater than `value`

  this(int value) {
    this.value = value;  // The tail pointer is initialized to null
  }

  this(int value, Node* tail) {
    this.value = value;
    this.tail = tail;
  }
} </pre></section>
    </div>
  </p>

  <p>
    The fields <code>value</code> and <code>tail</code> have fixed length,
    respectively <span class="var">v</span> and <span class="var">t</span>.
    An instance of the <code>Node</code> record thus has a fixed length in memory
    <e:fst><span class="var">l</span></e:fst> = <e:snd><e:fst><span class="var">v</span></e:fst> + <e:snd><span class="var">t</span></e:snd></e:snd>.
    Therefore any node beginning at some address <span class="var">a</span> spans the contiguous addresses
    <span class="var">a</span>…<e:fst><span class="var">a</span></e:fst> + <e:snd><span class="var">l</span></e:snd>.
    The addresses occupied by the <code>Node</code>s are <em>disjoint</em>;
    <i>i.e.</i>, for any <code>Node</code>, its occupied addresses
    are occupied no other <code>Node</code>.
    We say that a record beginning at address <span class="var">a</span> is <q>at <span class="var">a</span></q>.
  </p>

  <p>
    As there is a one-to-one correspondence between elements of <span class="st">S</span> and <code>Node</code>s,
    each <code>Node</code> contains as its <code>value</code> field one element of <span class="st">S</span>,
    and for each element of <span class="st">S</span>, there exists a <code>Node</code> containing it.
    The <code>tail</code> field of a record holds the address of another record in the data structure.
    Specifically, for a record <code>r</code> representing element <span class="var">s</span>,
    if there are elements in <span class="st">S</span> larger than <span class="var">s</span>,
    the <code>tail</code> field of <code>r</code> is set to
    the address of the <code>Node</code> representing the next-largest element;
    otherwise, the <code>tail</code> field is set to <code>null</code>.
  </p>

  <p>
    The final necessary piece of information is 
    the address of the record representing the smallest element in <span class="st">S</span>,
    which we call <code>head</code>.
    This address and the set of memory locations occupied by the <code>Node</code>s comprise the <abbr title="Linked List" class="smallcaps">LL</abbr> data structure.
  </p>

  <p>
    We can visualize the address space of memory as a line of cells,
    from address <span class="constant">0</span> on the left-hand-side to <span class="constant">address_max</span> on the right.
    Here is an example <abbr title="Linked List" class="smallcaps">LL</abbr> representing the set
    <e:fst><span class="st">S</span></e:fst> = <e:snd>{ 
	  <span class="constant">2</span>,
	  <span class="constant">29</span>,
	  <span class="constant">30</span>,
	  <span class="constant">77</span>
       }</e:snd> from the domain of natural numbers &lt; 256.
    There are <e:pow><e:fst>2</e:fst><e:snd>16</e:snd></e:pow> memory locations,
    spanning addresses <span class="constant">0</span> to <span class="constant">65,535</span>,
    so a memory address is two bytes long.
    Memory locations are one byte long.
    The domain of the set is representable by one byte,
    so the <code>value</code> field is one byte long;
    and the <code>tail</code> field, being an address, is two bytes long;
    an single record is thus three bytes in total.
    In the following diagram, arrows are used to highlight fields that reference other memory locations.

    <div class="display">
      <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="788.3858" height="106.29922" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="example.svg">
  <defs id="defs4">
    <marker inkscape:stockid="SquareM" orient="auto" refY="0.0" refX="0.0" id="SquareM" style="overflow:visible">
      <path id="path5430" d="M -5.0,-5.0 L -5.0,5.0 L 5.0,5.0 L 5.0,-5.0 L -5.0,-5.0 z " style="fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none" transform="scale(0.4)"/>
    </marker>
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.4" inkscape:cx="306.46789" inkscape:cy="85.281233" inkscape:document-units="mm" inkscape:current-layer="layer1" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="2.5mm" spacingy="2.5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(354.33072,-379.13382)">
    <rect style="fill:none;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect4005" width="761.81104" height="35.433071" x="-336.61417" y="432.28345"/>
    <g id="g3038" transform="translate(106.29921,1.2420149e-5)">
      <g transform="translate(-35.43307,88.582679)" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-opacity:1" id="g3924">
        <path inkscape:connector-curvature="0" id="path3103" d="m 79.724406,343.70076 0,35.43307" style="opacity:0.3;fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.77165354, 1.77165354;stroke-dashoffset:0"/>
        <rect style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect3913" width="106.29922" height="35.433071" x="8.858264" y="343.70074"/>
        <path style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 44.291339,35.433069 0,35.433071" id="path3915" inkscape:connector-curvature="0" transform="translate(-4e-6,308.26769)"/>
      </g>
      <text sodipodi:linespacing="125%" id="text3004" y="453.99997" x="-8.8582716" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="453.99997" x="-8.8582716" id="tspan3006" sodipodi:role="line">2</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="44.291336" y="453.99997" id="text3920" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3922" x="44.291336" y="453.99997" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">2,034</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-8.8582716" y="476.57477" id="text3928" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3930" x="-8.8582716" y="476.57477" style="font-size:8px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">36,945</tspan></text>
      <text sodipodi:linespacing="125%" id="text3932" y="476.57477" x="26.5748" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:8px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="476.57477" x="26.5748" id="tspan3934" sodipodi:role="line">36,946</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.00787" y="476.57477" id="text3099" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3101" x="62.00787" y="476.57477" style="font-size:8px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">36,947</tspan></text>
    </g>
    <g transform="translate(-248.0315,1.2420149e-5)" id="g3915">
      <g id="g3921" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-opacity:1" transform="translate(-35.43307,88.582679)">
        <path style="opacity:0.3;fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.77165354, 1.77165354;stroke-dashoffset:0" d="m 79.724406,343.70076 0,35.43307" id="path3923" inkscape:connector-curvature="0"/>
        <rect y="343.70074" x="8.858264" height="35.433071" width="106.29922" id="rect3925" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
        <path transform="translate(-4e-6,308.26769)" inkscape:connector-curvature="0" id="path3927" d="m 44.291339,35.433069 0,35.433071" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-8.8582716" y="453.99997" id="text3917" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3919" x="-8.8582716" y="453.99997" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">29</tspan></text>
      <text sodipodi:linespacing="125%" id="text3929" y="453.99997" x="44.291336" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="453.99997" x="44.291336" id="tspan3931" sodipodi:role="line">34,562</tspan></text>
      <text sodipodi:linespacing="125%" id="text3933" y="476.57477" x="-8.8582716" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:8px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="476.57477" x="-8.8582716" id="tspan3935" sodipodi:role="line">2,034</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="26.5748" y="476.57477" id="text3937" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3939" x="26.5748" y="476.57477" style="font-size:8px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">2,035</tspan></text>
      <text sodipodi:linespacing="125%" id="text3941" y="476.57477" x="62.00787" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:8px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="476.57477" x="62.00787" id="tspan3943" sodipodi:role="line">2,036</tspan></text>
    </g>
    <g id="g3945" transform="translate(-70.866142,1.2420149e-5)">
      <g transform="translate(-35.43307,88.582679)" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-opacity:1" id="g3951">
        <path inkscape:connector-curvature="0" id="path3953" d="m 79.724406,343.70076 0,35.43307" style="opacity:0.3;fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.77165354, 1.77165354;stroke-dashoffset:0"/>
        <rect style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect3955" width="106.29922" height="35.433071" x="8.858264" y="343.70074"/>
        <path style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 44.291339,35.433069 0,35.433071" id="path3957" inkscape:connector-curvature="0" transform="translate(-4e-6,308.26769)"/>
      </g>
      <text sodipodi:linespacing="125%" id="text3947" y="453.99997" x="-8.8582716" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="453.99997" x="-8.8582716" id="tspan3949" sodipodi:role="line">30</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="44.291336" y="453.99997" id="text3959" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3961" x="44.291336" y="453.99997" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">54,396</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-8.8582716" y="476.57477" id="text3963" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3965" x="-8.8582716" y="476.57477" style="font-size:8px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">34,562</tspan></text>
      <text sodipodi:linespacing="125%" id="text3967" y="476.57477" x="26.5748" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:8px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="476.57477" x="26.5748" id="tspan3969" sodipodi:role="line">34,563</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.00787" y="476.57477" id="text3971" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3973" x="62.00787" y="476.57477" style="font-size:8px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">34,564</tspan></text>
    </g>
    <g transform="translate(283.46457,1.2420149e-5)" id="g3975">
      <g id="g3981" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-opacity:1" transform="translate(-35.43307,88.582679)">
        <path style="opacity:0.3;fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.77165354, 1.77165354;stroke-dashoffset:0" d="m 79.724406,343.70076 0,35.43307" id="path3983" inkscape:connector-curvature="0"/>
        <rect y="343.70074" x="8.858264" height="35.433071" width="106.29922" id="rect3985" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
        <path transform="translate(-4e-6,308.26769)" inkscape:connector-curvature="0" id="path3987" d="m 44.291339,35.433069 0,35.433071" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-8.8582716" y="453.99997" id="text3977" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3979" x="-8.8582716" y="453.99997" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">77</tspan></text>
      <text sodipodi:linespacing="125%" id="text3989" y="453.99997" x="44.291336" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="453.99997" x="44.291336" id="tspan3991" sodipodi:role="line">NULL</tspan></text>
      <text sodipodi:linespacing="125%" id="text3993" y="476.57477" x="-8.8582716" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:8px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="476.57477" x="-8.8582716" id="tspan3995" sodipodi:role="line">54,396</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="26.5748" y="476.57477" id="text3997" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3999" x="26.5748" y="476.57477" style="font-size:8px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">54,397</tspan></text>
      <text sodipodi:linespacing="125%" id="text4001" y="476.57477" x="62.00787" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:8px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="476.57477" x="62.00787" id="tspan4003" sodipodi:role="line">54,398</tspan></text>
    </g>
    <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-310.03937" y="476.57477" id="text4028" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4030" x="-310.03937" y="476.57477" style="font-size:8px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">[0…2,033]</tspan></text>
    <text sodipodi:linespacing="125%" id="text3933-7" y="476.57477" x="-336.61417" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:8px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="476.57477" x="-336.61417" id="tspan3935-6" sodipodi:role="line">0</tspan></text>
    <text sodipodi:linespacing="125%" id="text4074" y="476.57477" x="-132.87402" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:8px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="476.57477" x="-132.87402" id="tspan4076" sodipodi:role="line">[2,037…34,561]</tspan></text>
    <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="44.291336" y="476.57477" id="text4078" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4080" x="44.291336" y="476.57477" style="font-size:8px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">[34,565…36,944]</tspan></text>
    <text sodipodi:linespacing="125%" id="text4082" y="476.57477" x="221.4567" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:8px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="476.57477" x="221.4567" id="tspan4084" sodipodi:role="line">[36,948…54,395]</tspan></text>
    <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="398.62204" y="476.57477" id="text4086" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4088" x="398.62204" y="476.57477" style="font-size:8px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">[54,399…65,535]</tspan></text>
    <path style="fill:none;stroke:#000000;stroke-width:0.9992126;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m -310.03939,396.85036 407.480324,0 1e-5,35.43308" id="path4090" inkscape:connector-curvature="0" sodipodi:nodetypes="ccc"/>
    <path style="fill:none;stroke:#000000;stroke-width:0.9992126;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow2Mend-9);stroke-miterlimit:4;stroke-dasharray:none" d="m 150.59054,432.28344 0,-17.71654 -407.48031,0 0,17.71654" id="path4680" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#000000;stroke-width:0.9992126;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow2Mend-9);stroke-miterlimit:4;stroke-dasharray:none" d="m -203.74016,432.28344 0,-8.85827 124.015748,0 0,8.85827" id="path4876" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#000000;stroke-width:0.9992126;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow2Mend-9);stroke-miterlimit:4;stroke-dasharray:none" d="m -26.574806,432.28344 0,-26.57481 301.181096,0 0,26.57481" id="path5072" inkscape:connector-curvature="0"/>
    <rect style="fill:none;stroke:none" id="rect5268" width="788.3858" height="106.29922" x="-354.33072" y="379.13382"/>
    <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-327.75592" y="400.85037" id="text3917-0" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3919-0" x="-327.75592" y="400.85037" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">36,945</tspan></text>
    <path style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#SquareM)" d="m 682.08661,53.149611 0,-26.574803" id="path5351" inkscape:connector-curvature="0" transform="translate(-354.33072,379.13382)"/>
  </g>
</svg>
    </div>
  </p>

  <p>
    The <code>Node</code>s are at arbitrary memory locations;
    the program does not have the ability to decide on the locations given to it.
    The addresses cannot really contribute to the data held by the data structure,
    and so the above diagram therefore contains a lot of visual <q>noise</q>.
    We can abstract the diagram to remove these addresses and untangle the arrows:

    <div class="display">
      <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="487.20471" height="79.724411" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="example_untangled.svg">
  <defs id="defs4">
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="SquareM" style="overflow:visible">
      <path id="path5430" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.4" inkscape:cx="348.03626" inkscape:cy="85.281239" inkscape:document-units="mm" inkscape:current-layer="layer1" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="2.5mm" spacingy="2.5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(487.20473,-405.70863)">
    <g id="g3038" transform="translate(-380.90552,7.2960023e-6)">
      <g transform="translate(-35.43307,88.582679)" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-opacity:1" id="g3924">
        <path inkscape:connector-curvature="0" id="path3103" d="m 79.724406,343.70076 0,35.43307" style="opacity:0.3;fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.77165354, 1.77165354;stroke-dashoffset:0"/>
        <rect style="fill:none;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect3913" width="70.866142" height="35.433071" x="8.858264" y="343.70074"/>
        <path style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 44.291339,35.433069 0,35.433071" id="path3915" inkscape:connector-curvature="0" transform="translate(-4e-6,308.26769)"/>
      </g>
      <text sodipodi:linespacing="125%" id="text3004" y="453.99997" x="-8.8582716" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="453.99997" x="-8.8582716" id="tspan3006" sodipodi:role="line">2</tspan></text>
    </g>
    <g transform="translate(-274.60631,7.2960023e-6)" id="g3915">
      <g id="g3921" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-opacity:1" transform="translate(-35.43307,88.582679)">
        <path style="opacity:0.3;fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.77165354, 1.77165354;stroke-dashoffset:0" d="m 79.724406,343.70076 0,35.43307" id="path3923" inkscape:connector-curvature="0"/>
        <rect y="343.70074" x="8.858264" height="35.433071" width="70.866135" id="rect3925" style="fill:none;stroke:#000000;stroke-width:1.77165341;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
        <path transform="translate(-4e-6,308.26769)" inkscape:connector-curvature="0" id="path3927" d="m 44.291339,35.433069 0,35.433071" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-8.8582716" y="453.99997" id="text3917" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3919" x="-8.8582716" y="453.99997" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">29</tspan></text>
    </g>
    <g id="g3945" transform="translate(-168.3071,7.2960023e-6)">
      <g transform="translate(-35.43307,88.582679)" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-opacity:1" id="g3951">
        <path inkscape:connector-curvature="0" id="path3953" d="m 79.724406,343.70076 0,35.43307" style="opacity:0.3;fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.77165354, 1.77165354;stroke-dashoffset:0"/>
        <rect style="fill:none;stroke:#000000;stroke-width:1.77165365;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect3955" width="70.866142" height="35.433071" x="8.858264" y="343.70074"/>
        <path style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 44.291339,35.433069 0,35.433071" id="path3957" inkscape:connector-curvature="0" transform="translate(-4e-6,308.26769)"/>
      </g>
      <text sodipodi:linespacing="125%" id="text3947" y="453.99997" x="-8.8582716" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="453.99997" x="-8.8582716" id="tspan3949" sodipodi:role="line">30</tspan></text>
    </g>
    <g transform="translate(-62.007882,7.2960023e-6)" id="g3975">
      <g id="g3981" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-opacity:1" transform="translate(-35.43307,88.582679)">
        <path style="opacity:0.3;fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.77165354, 1.77165354;stroke-dashoffset:0" d="m 79.724406,343.70076 0,35.43307" id="path3983" inkscape:connector-curvature="0"/>
        <rect y="343.70074" x="8.858264" height="35.433071" width="70.866142" id="rect3985" style="fill:none;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
        <path transform="translate(-4e-6,308.26769)" inkscape:connector-curvature="0" id="path3987" d="m 44.291339,35.433069 0,35.433071" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-8.8582716" y="453.99997" id="text3977" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3979" x="-8.8582716" y="453.99997" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">77</tspan></text>
      <text sodipodi:linespacing="125%" id="text3989" y="453.99997" x="26.5748" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="453.99997" x="26.5748" id="tspan3991" sodipodi:role="line">NULL</tspan></text>
    </g>
    <rect style="fill:none;stroke:none" id="rect5268" width="788.3858" height="106.29922" x="-354.33072" y="379.13382"/>
    <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-460.62994" y="453.99997" id="text3917-0" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3919-0" x="-460.62994" y="453.99997" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">head</tspan></text>
    <path style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#SquareM)" d="m -35.433082,441.1417 0,-17.71654" id="path5351" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
    <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" d="m -354.33072,449.99997 10e-6,-26.5748 70.86613,-10e-6 0,8.85827" style="fill:none;stroke:#000000;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" id="path5834"/>
    <path id="path5836" style="fill:none;stroke:#000000;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m -248.03151,449.99997 1e-5,-26.5748 70.86613,-10e-6 0,8.85827" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
    <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" d="m -141.73229,449.99997 1e-5,-26.5748 70.866125,-10e-6 0,8.85827" style="fill:none;stroke:#000000;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" id="path5838"/>
    <path id="path5840" style="fill:none;stroke:#000000;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m -460.62993,441.1417 0,-17.71654 70.86613,-1e-5 0,8.85827" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
  </g>
</svg>
    </div>
  </p>

  <p>
    It is now visually obvious why this is called a list:
    the structure can be seen as a connected, directed, acyclic graph,
    with a single path between the node distinguished as the first and that distinguished as the last,
    on which all nodes lie.
    The second thing this diagram makes visually obvious is that
    the linked list <q>contains</q> smaller linked lists within it.
    For example, the <code>tail</code> field of the <code>Node</code> representing the element <span class="constant">2</span>
    is effectively the <code>head</code> address for a linked list containing the right-most three nodes.
    We can outline all the linked lists in the above diagram:

    <div class="display">
      <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="628.93701" height="212.59842" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="example_nested.svg">
  <defs id="defs4">
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="SquareM" style="overflow:visible">
      <path id="path5430" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.979899" inkscape:cx="301.6756" inkscape:cy="78.462419" inkscape:document-units="mm" inkscape:current-layer="layer1" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="2.5mm" spacingy="2.5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(487.20473,-343.70076)">
    <g id="g3038" transform="translate(-380.90552,7.2960023e-6)">
      <g transform="translate(-35.43307,88.582679)" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-opacity:1" id="g3924">
        <path inkscape:connector-curvature="0" id="path3103" d="m 79.724406,343.70076 0,35.43307" style="opacity:0.3;fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.77165354, 1.77165354;stroke-dashoffset:0"/>
        <rect style="fill:none;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect3913" width="70.866142" height="35.433071" x="8.858264" y="343.70074"/>
        <path style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 44.291339,35.433069 0,35.433071" id="path3915" inkscape:connector-curvature="0" transform="translate(-4e-6,308.26769)"/>
      </g>
      <text sodipodi:linespacing="125%" id="text3004" y="453.99997" x="-8.8582716" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="453.99997" x="-8.8582716" id="tspan3006" sodipodi:role="line">2</tspan></text>
    </g>
    <g transform="translate(-274.60631,7.2960023e-6)" id="g3915">
      <g id="g3921" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-opacity:1" transform="translate(-35.43307,88.582679)">
        <path style="opacity:0.3;fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.77165354, 1.77165354;stroke-dashoffset:0" d="m 79.724406,343.70076 0,35.43307" id="path3923" inkscape:connector-curvature="0"/>
        <rect y="343.70074" x="8.858264" height="35.433071" width="70.866135" id="rect3925" style="fill:none;stroke:#000000;stroke-width:1.77165341;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
        <path transform="translate(-4e-6,308.26769)" inkscape:connector-curvature="0" id="path3927" d="m 44.291339,35.433069 0,35.433071" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-8.8582716" y="453.99997" id="text3917" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3919" x="-8.8582716" y="453.99997" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">29</tspan></text>
    </g>
    <g id="g3945" transform="translate(-168.3071,7.2960023e-6)">
      <g transform="translate(-35.43307,88.582679)" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-opacity:1" id="g3951">
        <path inkscape:connector-curvature="0" id="path3953" d="m 79.724406,343.70076 0,35.43307" style="opacity:0.3;fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.77165354, 1.77165354;stroke-dashoffset:0"/>
        <rect style="fill:none;stroke:#000000;stroke-width:1.77165365;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect3955" width="70.866142" height="35.433071" x="8.858264" y="343.70074"/>
        <path style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 44.291339,35.433069 0,35.433071" id="path3957" inkscape:connector-curvature="0" transform="translate(-4e-6,308.26769)"/>
      </g>
      <text sodipodi:linespacing="125%" id="text3947" y="453.99997" x="-8.8582716" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="453.99997" x="-8.8582716" id="tspan3949" sodipodi:role="line">30</tspan></text>
    </g>
    <g transform="translate(-62.007882,7.2960023e-6)" id="g3975">
      <g id="g3981" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-opacity:1" transform="translate(-35.43307,88.582679)">
        <path style="opacity:0.3;fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.77165354, 1.77165354;stroke-dashoffset:0" d="m 79.724406,343.70076 0,35.43307" id="path3983" inkscape:connector-curvature="0"/>
        <rect y="343.70074" x="8.858264" height="35.433071" width="70.866142" id="rect3985" style="fill:none;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
        <path transform="translate(-4e-6,308.26769)" inkscape:connector-curvature="0" id="path3987" d="m 44.291339,35.433069 0,35.433071" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-8.8582716" y="453.99997" id="text3977" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3979" x="-8.8582716" y="453.99997" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">77</tspan></text>
      <text sodipodi:linespacing="125%" id="text3989" y="453.99997" x="26.5748" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="453.99997" x="26.5748" id="tspan3991" sodipodi:role="line">NULL</tspan></text>
    </g>
    <rect style="fill:none;stroke:none" id="rect5268" width="788.3858" height="106.29922" x="-354.33072" y="379.13382"/>
    <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-460.62994" y="453.99997" id="text3917-0" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3919-0" x="-460.62994" y="453.99997" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">head</tspan></text>
    <g id="g5942">
      <rect transform="translate(-487.20473,405.70863)" y="26.574804" x="504.92126" height="35.433071" width="35.433071" id="rect5863" style="fill:none;stroke:#5c7700;stroke-width:1.77165353;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#5c7700;fill-opacity:1;stroke:none;font-family:Sans" x="35.433056" y="480.57477" id="text3989-5" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3991-3" x="35.433056" y="480.57477" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:center;text-anchor:middle;fill:#5c7700;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">∅</tspan></text>
    </g>
    <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" d="m -17.716541,449.99997 35.433071,0" style="fill:#5c7700;stroke:#5c7700;stroke-width:0.9992126;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9);fill-opacity:1" id="path5838"/>
    <g id="g5937">
      <rect style="fill:none;stroke:#00774a;stroke-width:1.77165353;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="rect5886" width="177.16536" height="70.866142" x="-106.29922" y="414.56689"/>
      <text sodipodi:linespacing="125%" id="text5888" y="498.29132" x="-17.716541" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#00774a;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:center;text-anchor:middle;fill:#00774a;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="498.29132" x="-17.716541" id="tspan5890" sodipodi:role="line">{ 77 }</tspan></text>
    </g>
    <g id="g5932">
      <rect y="396.85037" x="-212.59843" height="106.29919" width="301.18112" id="rect5892" style="fill:none;stroke:#004a77;stroke-width:1.77165353;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#004a77;fill-opacity:1;stroke:none;font-family:Sans" x="-70.86615" y="516.00787" id="text5894" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5896" x="-70.86615" y="516.00787" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:center;text-anchor:middle;fill:#004a77;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">{ 30, 77 }</tspan></text>
    </g>
    <g id="g5927">
      <rect style="fill:none;stroke:#4d0077;stroke-width:1.77165341;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="rect5898" width="425.19684" height="141.73228" x="-318.89764" y="379.13379"/>
      <text sodipodi:linespacing="125%" id="text5900" y="533.72437" x="-124.01575" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#4d0077;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:center;text-anchor:middle;fill:#4d0077;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="533.72437" x="-124.01575" id="tspan5902" sodipodi:role="line">{ 29, 30, 77 }</tspan></text>
    </g>
    <g id="g5922">
      <rect y="361.4173" x="-425.19684" height="177.16533" width="549.21259" id="rect5904" style="fill:none;stroke:#770000;stroke-width:1.77165329;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#770000;fill-opacity:0.94117647;stroke:none;font-family:Sans" x="-159.44882" y="551.44092" id="text5906" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5908" x="-159.44882" y="551.44092" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:center;text-anchor:middle;fill:#770000;fill-opacity:0.94117647;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">{ 2, 29, 30, 77 }</tspan></text>
    </g>
    <path id="path5912" style="fill:#00774a;stroke:#00774a;stroke-width:0.99921262000000000;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9);fill-opacity:1" d="m -141.73229,449.99997 53.149607,0" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
    <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" d="m -248.0315,449.99997 53.14961,0" style="fill:#004a77;stroke:#004a77;stroke-width:0.99921262000000000;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9);fill-opacity:1" id="path5916"/>
    <path id="path5918" style="fill:#4d0077;stroke:#4d0077;stroke-width:0.9992126;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9);fill-opacity:1" d="m -354.33071,449.99997 53.14961,0" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
    <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" d="m -442.91339,449.99997 35.43307,0" style="fill:#770000;stroke:#770000;stroke-width:0.99921256000000003;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9);fill-opacity:1" id="path5920"/>
  </g>
</svg>
    </div>
  </p>

  <p>
    It is now obvious that the <abbr title="Linked List" class="smallcaps">LL</abbr> is a <em>recursive data structure</em>:
    it contains smaller versions of the same structure.
    Abstracting from our example, we can show this recursion visually:

    <div class="display">
      <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="265.74802" height="106.29921" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="recursive.svg">
  <defs id="defs4">
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="SquareM" style="overflow:visible">
      <path id="path5430" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="2.8" inkscape:cx="179.49909" inkscape:cy="29.878187" inkscape:document-units="mm" inkscape:current-layer="g3975" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="2.5mm" spacingy="2.5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(177.16535,-396.85033)">
    <g transform="translate(-62.007882,7.2960023e-6)" id="g3975">
      <g id="g3981" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-opacity:1" transform="translate(-35.43307,88.582679)">
        <path style="opacity:0.3;fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.77165354, 1.77165354;stroke-dashoffset:0" d="m 79.724406,343.70076 0,35.43307" id="path3983" inkscape:connector-curvature="0"/>
        <rect y="343.70074" x="8.858264" height="35.433071" width="70.866142" id="rect3985" style="fill:none;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
        <path transform="translate(-4e-6,308.26769)" inkscape:connector-curvature="0" id="path3987" d="m 44.291339,35.433069 0,35.433071" style="fill:#c8c8c8;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-8.8582716" y="453.99997" id="text3977" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3979" x="-8.8582716" y="453.99997" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">value</tspan></text>
      <text sodipodi:linespacing="125%" id="text3989" y="453.99997" x="26.5748" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="453.99997" x="26.5748" id="tspan3991" sodipodi:role="line"/></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#00774a;fill-opacity:1;stroke:none;font-family:Sans" x="-95.440948" y="451.99997" id="text3977-0" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3979-1" x="-95.440948" y="451.99997" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#00774a;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">head</tspan></text>
    </g>
    <rect style="fill:none;stroke:none" id="rect5268" width="788.3858" height="106.29922" x="-354.33072" y="379.13382"/>
    <g id="g5942">
      <rect transform="translate(-487.20473,405.70863)" y="26.574804" x="504.92126" height="35.433071" width="35.433071" id="rect5863" style="fill:none;stroke:#5c7700;stroke-width:1.77165353;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#5c7700;fill-opacity:1;stroke:none;font-family:Sans" x="35.433056" y="480.57477" id="text3989-5" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3991-3" x="35.433056" y="480.57477" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:center;text-anchor:middle;fill:#5c7700;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">T</tspan></text>
    </g>
    <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" d="m -35.433076,449.99997 53.149606,0" style="fill:#5c7700;fill-opacity:1;stroke:#5c7700;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" id="path5838"/>
    <g id="g5937">
      <rect style="fill:none;stroke:#00774a;stroke-width:1.77165353;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="rect5886" width="177.16536" height="70.866142" x="-106.29922" y="414.56689"/>
      <text sodipodi:linespacing="125%" id="text5888" y="498.29132" x="-17.716541" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#00774a;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:center;text-anchor:middle;fill:#00774a;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="498.29132" x="-17.716541" id="tspan5890" sodipodi:role="line">{<tspan style="font-style:italic" id="tspan5968">value</tspan>} ∪ T</tspan></text>
    </g>
    <path id="path5912" style="fill:#00774a;fill-opacity:1;stroke:#00774a;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m -141.73229,449.99997 53.149607,0" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
  </g>
</svg>
    </div>
  </p>

  <p>
    Notice in our example that though
    <e:fst>|<span class="st">S</span>|</e:fst> = <e:snd><span class="constant">4</span></e:snd>,
    there are actually <em>five</em> linked lists:
    the final <code>null</code> pointer conceptually points to
    a linked list representing ∅, which uses no memory locations.
    This does not fit in the scheme of the above diagram,
    which really only applies to non-empty sets.
    The linked list, then, actually uses two distinct representations of sets:
    one for non-empty sets as above,
    and another for the empty set, signaled by the use of a <code>null</code> pointer.
  </p>

  <p>
    Let us refer to these representations as <span class="pred_name">NonEmptyList</span>
    and <span class="pred_name">EmptyList</span> respectively,
    which are both subtypes of the abstract type <span class="pred_name">List</span>.
    These are all <em>predicates</em>;
    meaning they wrap up a description of (part of) the state of the program,
    including the structure of memory.
    Each of the above predicates takes two parameters corresponding to the two necessary <q>parts</q> of a <abbr title="Linked List" class="smallcaps">LL</abbr>:
    the <code>head</code> pointer into the structure, and the set that the structure represents.
    That is, <span class="pred_name">List</span>(<code>head</code>, <span class="st">S</span>)
    describes a set of memory locations forming a linked list that represents set <span class="st">S</span>,
    with <code>head</code> being the address of the first <code>Node</code> in the list
    (or <code>null</code> if <e:fst><span class="st">S</span></e:fst> = <e:snd>∅</e:snd>).

    <div class="display">
      <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="407.48032" height="177.16536" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="predicates.svg">
  <defs id="defs4">
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="SquareM" style="overflow:visible">
      <path id="path5430" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.4" inkscape:cx="142.01607" inkscape:cy="197.76225" inkscape:document-units="mm" inkscape:current-layer="layer1" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="2.5mm" spacingy="2.5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(177.16534,-361.41727)">
    <g transform="translate(-62.007882,7.2960023e-6)" id="g3975">
      <g id="g3981" style="fill:#c8c8c8;fill-opacity:1;stroke:#663e00;stroke-opacity:1" transform="translate(-35.43307,88.582679)">
        <path style="opacity:0.3;fill:#c8c8c8;fill-opacity:1;stroke:#663e00;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.77165354, 1.77165354;stroke-dashoffset:0" d="m 79.724406,343.70076 0,35.43307" id="path3983" inkscape:connector-curvature="0"/>
        <rect y="343.70074" x="8.858264" height="35.433071" width="70.866142" id="rect3985" style="fill:none;stroke:#663e00;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
        <path transform="translate(-4e-6,308.26769)" inkscape:connector-curvature="0" id="path3987" d="m 44.291339,35.433069 0,35.433071" style="fill:#c8c8c8;fill-opacity:1;stroke:#663e00;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-8.8582716" y="453.99997" id="text3977" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3979" x="-8.8582716" y="453.99997" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">value</tspan></text>
      <text sodipodi:linespacing="125%" id="text3989" y="453.99997" x="26.5748" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="453.99997" x="26.5748" id="tspan3991" sodipodi:role="line"/></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-95.440948" y="451.99997" id="text3977-0" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3979-1" x="-95.440948" y="451.99997" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">head</tspan></text>
      <text sodipodi:linespacing="125%" id="text6018" y="453.99994" x="26.574816" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="453.99994" x="26.574816" id="tspan6020" sodipodi:role="line">tail</tspan></text>
    </g>
    <rect style="fill:none;stroke:none" id="rect5268" width="788.3858" height="106.29922" x="-354.33072" y="379.13382"/>
    <g id="g5942">
      <rect transform="translate(-487.20473,405.70863)" y="26.574804" x="504.92126" height="35.433071" width="35.433071" id="rect5863" style="fill:none;stroke:#5c7700;stroke-width:1.77165353;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#5c7700;fill-opacity:1;stroke:none;font-family:Sans" x="35.433056" y="480.57477" id="text3989-5" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3991-3" x="35.433056" y="480.57477" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#5c7700;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">List(<tspan style="font-style:italic" id="tspan6016">tail</tspan>, <tspan style="font-weight:bold" id="tspan6034">T</tspan>)</tspan></text>
    </g>
    <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" d="m -17.716531,449.99993 35.433061,4e-5" style="fill:#5c7700;fill-opacity:1;stroke:#5c7700;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" id="path5838"/>
    <g id="g5937">
      <rect style="fill:none;stroke:#000000;stroke-width:1.77165353;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="rect5886" width="177.16536" height="70.866142" x="-106.29922" y="414.56689"/>
      <text sodipodi:linespacing="125%" id="text5888" y="498.29132" x="-17.716541" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="498.29132" x="-17.716541" id="tspan5890" sodipodi:role="line">NonEmptyList(<tspan style="font-style:italic;font-weight:normal;fill:#000000;fill-opacity:1" id="tspan6014">head</tspan>, S),</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="513.9306" x="-17.716541" sodipodi:role="line" id="tspan6022">where S = {<tspan style="font-style:italic" id="tspan6406">value</tspan>} ∪ T,</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="529.56995" x="-17.716541" sodipodi:role="line" id="tspan6377">and ∀ <tspan style="font-style:italic;fill:#000000;fill-opacity:1" id="tspan6024">t</tspan>∈<tspan style="font-weight:bold;fill:#000000;fill-opacity:1" id="tspan6026">T</tspan>.  <tspan style="font-style:italic;fill:#000000;fill-opacity:1" id="tspan6028">value</tspan> &lt; <tspan style="font-style:italic;fill:#000000;fill-opacity:1" id="tspan6030">t</tspan>.</tspan></text>
    </g>
    <path id="path5912" style="fill:#00774a;fill-opacity:1;stroke:#000000;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m -141.73229,449.99997 53.149607,0" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
    <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="248.03149" y="453.99994" id="text6078" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6080" x="248.03149" y="453.99994" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
    <g id="g6344" transform="translate(17.716533,-6.7044861e-6)">
      <g style="fill:#000000;fill-opacity:0.90980392" id="g6290">
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" d="m 141.73229,449.99994 53.14961,0" style="fill:#000000;fill-opacity:0.90980392;stroke:#000000;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:0.90980392;stroke-dasharray:none;marker-end:url(#SquareM)" id="path6062"/>
        <text sodipodi:linespacing="125%" id="text6082" y="451.99994" x="126.01575" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:0.90980392;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:0.90980392;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="451.99994" x="126.01575" id="tspan6084" sodipodi:role="line">head</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="159.44882" y="498.29126" id="text5888-7" sodipodi:linespacing="125%"><tspan id="tspan6022-9" sodipodi:role="line" x="159.44882" y="498.29126" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">EmptyList(<tspan id="tspan6014-4" style="font-style:italic;font-weight:normal;fill:#000000;fill-opacity:1">head</tspan>, S),</tspan><tspan sodipodi:role="line" x="159.44882" y="513.93054" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan6383">where S = ∅.</tspan></text>
    </g>
    <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="35.433075" y="379.13379" id="text5888-7-8" sodipodi:linespacing="125%"><tspan id="tspan6022-9-4" sodipodi:role="line" x="35.433075" y="379.13379" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">List(<tspan id="tspan6014-4-9" style="font-style:italic;font-weight:normal;fill:#000000;fill-opacity:1">head</tspan>, S)</tspan></text>
    <path style="font-size:438.40066528px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" d="m 210.82102,400 c 0,-3.29679 -0.75752,-6.05553 -7.08086,-6.05553 -3.51297,0.054 -164.72268,0.48926 -168.235653,0.48926 -1.891594,0 -4.325669,-2.16348 -4.649941,-6.97354 l -1.837634,0 c -0.324272,4.81006 -2.754601,6.97354 -4.592149,6.97354 -3.350832,-0.054 -179.779143,-0.48926 -183.724483,-0.48926 -6.2693,0 -6.91905,2.75874 -6.91905,6.05553 l 1.7837,0 c 0.54045,-4.05342 2.59532,-4.54207 5.08142,-4.54207 3.29678,0 179.24035,0.75894 182.915454,0.75894 2.972514,0 5.565386,-1.29945 6.267986,-4.48814 l 0.215738,0 c 0.756637,3.18869 3.295463,4.48814 6.267976,4.48814 3.512973,0 164.399306,-0.75894 167.804176,-0.75894 2.37801,0 4.37916,0.48865 4.91962,4.54207 z" id="path6395" inkscape:connector-curvature="0" sodipodi:nodetypes="ccscccsccssccsscc"/>
  </g>
</svg>
    </div>
  </p>

  <p>
    We now have a strong visual intuition for how to describe the <abbr title="Linked List" class="smallcaps">LL</abbr> formally.
    The above diagram translates cleanly into the notation of separation logic.
    Let's approach this top-down, and begin with the <span class="pred_name">List</span> predicate.
    The <abbr title="Linked List" class="smallcaps">LL</abbr> defines two representations of sets,
    and the general <span class="pred_name">List</span> predicate simply means that
    one of the two representations is being used to represent the set.
    We can therefore define <span class="pred_name">List</span> just as a disjunction:

    <div class="displaymath">
      <span class="pred_name">List</span>(<code>n</code>, <span class="st">S</span>) ≝
      <e:fst><span class="pred_name">EmptyList</span>(<code>n</code>, <span class="st">S</span>)</e:fst> ∨ <e:snd><span class="pred_name">NonEmptyList</span>(<code>n</code>, <span class="st">S</span>)</e:snd>.
    </div>
  </p>

  <p>
    The empty set is represented by a <code>null</code> pointer and no allocated heap memory.
    Translating this to separation logic is also straightforward:

    <table class="displaymath">
      <tbody>
	<tr>
	  <td>
	    <span class="pred_name">EmptyList</span>(<code>head</code>, <span class="st">S</span>) ≝
	  </td>
	  <td>
	    <e:fst><code>head</code></e:fst> = <e:snd><code>null</code></e:snd> ∧
	  </td>
	  <td/>
	</tr>
	<tr>
	  <td/>
	  <td>
	    <e:fst><span class="st">S</span></e:fst> = <e:snd>∅</e:snd> ∧
	  </td>
	  <td><span class="st">S</span> is the empty set and</td>
	</tr>
	<tr>
	  <td/>
	  <td><b>emp</b>.</td>
	  <td>there is no allocated memory.</td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    The <span class="pred_name">NonEmptyList</span> is only a little more complex.
    First, we must express the relationship between
    the set <span class="st">S</span> represented by the list pointed to by <code>head</code>,
    the <span class="var">value</span> in the <code>Node</code>,
    and the set <span class="st">T</span> represented by the <span class="var">tail</span> pointer.
    First, <span class="st">S</span> is the element <span class="var">v</span> plus the elements in <span class="st">T</span>; we write
    <e:fst><span class="st">S</span></e:fst> = <e:snd><e:fst>{ <span class="var">value</span> }</e:fst> ∪ <e:snd><span class="st">T</span></e:snd></e:snd>.
    But <span class="var">value</span> is not just an arbitrarily chosen value from <span class="st">S</span>,
    it is the smallest element.
    Another way to say this is that all the elements in <span class="st">T</span> are all greater than <span class="var">v</span>;
    we write
    ∀<e:fst>
	<e:fst><span class="var">t</span></e:fst> ∈ <e:snd><span class="st">T</span></e:snd>
      </e:fst>. <e:snd>
	<e:fst><span class="var">value</span></e:fst> &lt; <e:snd><span class="var">t</span></e:snd>
      </e:snd>.

    We can express this relationship with a helper predicate, <span class="pred_name">Compose</span>,
    to be used by <span class="pred_name">NonEmptyList</span>.

    <table class="displaymath">
      <tbody>
	<tr>
	  <td><span class="pred_name">Compose</span>(<span class="var">value</span>, <span class="st">T</span>, <span class="st">S</span>) ≝</td>
	  <td>
	    <e:fst>
		<e:fst>{ <span class="var">value</span> }</e:fst> ∪ <e:snd><span class="st">T</span></e:snd>
	      </e:fst> = <e:snd><span class="st">S</span></e:snd> ∧
	  </td>
	</tr>
	<tr>
	  <td/>
	  <td>
	    ∀<e:fst>
		<e:fst><span class="var">t</span></e:fst> ∈ <e:snd><span class="st">T</span></e:snd>
	      </e:fst>. <e:snd>
		<e:fst><span class="var">value</span></e:fst> &lt; <e:snd><span class="var">t</span></e:snd>
	      </e:snd>.
	  </td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    The predicate <span class="pred_name">NonEmptyList</span>(<code>head</code>, <span class="st">S</span>)
    must first assert that <span class="st">S</span> is non-empty.
    One way of saying this is to assert that the exists some element—let's call it <span class="var">value</span>—in the set.
    We can then also assert that there exists some other set, <span class="st">T</span>,
    which together with { <span class="var">value</span> } forms <span class="st">S</span>.
    While we're at it, we can choose <span class="var">value</span> to be the minimal element,
    as we will shortly be concerned with this value when describing the first <code>Node</code> in the list.
    Now we can use our <span class="pred_name">Compose</span> predicate
    to describe <span class="var">value</span> and <span class="st">T</span> in relation to <span class="st">S</span>; we write
    ∃<e:fst><span class="var">value</span>, <span class="st">T</span></e:fst>. <e:snd><span class="pred_name">Compose</span>(<span class="var">value</span>, <span class="st">T</span>, <span class="st">S</span>)</e:snd>.
  </p>

  <p>
    We must now describe the memory layout for a non-empty list.
    Looking at our visual definition,
    notice that the memory locations can be divided into two disjoint sets:
    one set for the first <code>Node</code>, consisting of contiguous memory locations beginning at <code>head</code>,
    and another set of locations for the rest of the <code>Node</code>s,
    which can be described by the <span class="pred_name">List</span> predicate.
    We can decompose the memory description into
    a description of the first <code>Node</code> and a description of the rest of the list,
    specifying that these sets are disjoint.
    This is exactly what the separating conjunction, ∗, does.
  </p>

  <p>
    The first <code>Node</code> record begins at address <code>head</code>
    and consists of two fields, the first containing <span class="var">value</span>,
    and the second containing some (unknown) address <span class="var">tail</span>.
    We write this as 
    <e:fst><code>head</code></e:fst> ↦ <e:snd><span class="var">value</span>, <span class="var">tail</span></e:snd>.
    Notice that the lengths of the fields is left unspecified and is in fact unimportant.
  </p>

  <p>
    The rest of the list represents <span class="st">T</span> and its head is at address <span class="var">tail</span>.
    We already have a predicate to describe this:
    <span class="pred_name">List</span>(<span class="var">tail</span>, <span class="st">S</span>).
    Notice that <span class="pred_name">List</span> and <span class="pred_name">NonEmptyList</span> are mutually recursive.
    We are now in a position to define <span class="pred_name">NonEmptyList</span>:

    <table class="displaymath">
      <tr>
	<td><span class="pred_name">NonEmptyList</span>(<code>head</code>, <span class="st">S</span>) ≝</td>
	<td>∃<span class="var">value</span>, <span class="var">tail</span>, <span class="st">T</span>.</td>
      </tr>
      <tr>
	<td/>
	<td><span class="pred_name">Compose</span>(<span class="var">value</span>, <span class="st">T</span>, <span class="st">S</span>) ∧</td>
      </tr>
      <tr>
	<td/>
	<td><e:fst><e:fst><code>head</code></e:fst> ↦ <e:snd><span class="var">value</span>, <span class="var">tail</span></e:snd></e:fst> ∗ <e:snd><span class="pred_name">List</span>(<span class="var">tail</span>, <span class="st">T</span>)</e:snd>.</td>
      </tr>
    </table>
  </p>
</section>
  <section>

  <h2>A recursive <abbr title="Linked List" class="smallcaps">LL</abbr> <code>search</code> algorithm</h2>

  <p>
    The purpose of a <code>search</code> algorithm is to
    determine whether a given element from the domain
    is a member of the set represented by a particular <abbr title="Linked List" class="smallcaps">LL</abbr>.
    Our first task is to formally encode this purpose in a <em>specification</em>.
    Our basic tool here is the concept of pre- and post-conditions:
    given that <em>A</em> (some description of the program state) is true before the <code>search</code>,
    <em>B</em> will be true afterwards.
    Our task then is to establish first what is necessary before execution of <code>search</code>
    in order for that execution to be meaningful,
    and secondly what (given that this pre-condition is satisfied)
    the <code>search</code> function guarantees will be true afterwards.
  </p>

  <p>
    The <code>search</code> function takes two parameters:
    <code>head</code>, a pointer into a <abbr title="Linked List" class="smallcaps">LL</abbr>,
    and <code>value</code>, the element we are searching for.
    The value of the <code>value</code> parameter is arbitrary,
    and so we need not concern ourselves with it in the precondition: all values are valid.
    The <code>head</code> variable, on the other hand, is not arbitrary:
    it must point to a valid <abbr title="Linked List" class="smallcaps">LL</abbr>.
    We can express that: <span class="pred_name">List</span>(<code>head</code>, <span class="st">S</span>).
  </p>

  <p>
    The execution of <code>search</code> will return a boolean value,
    so the function will be called like so:
    <code>o = search(head, value)</code>.
    The value <code>o</code> will express whether
    <e:fst><span class="var">value</span></e:fst> ∈ <e:snd><span class="st">S</span></e:snd>;
    <i>i.e.</i>,
    <e:fst><code>o</code></e:fst> ↔ <e:snd><e:fst><span class="var">value</span></e:fst> ∈ <e:snd><span class="st">S</span></e:snd></e:snd>.
    There is an additional post-condition: <code>search</code> leaves the <abbr title="Linked List" class="smallcaps">LL</abbr> intact,
    and so <span class="pred_name">List</span>(<code>head</code>, <span class="st">S</span>) continues to be true after execution.
    (Notice this specification in fact allows the algorithm to alter memory
    as long as it leaves it in a state that represents the abstract set <span class="st">S</span>.
    For our purposes this makes the specification simpler.)
  </p>

  <p>
    Our specification for <code>search</code> is:
    <span class="triple"><span class="cond math"><span class="pred_name">List</span>(<code>n</code>, <span class="st">S</span>)</span><span class="command code"><code>o = search(n, v)</code></span><span class="cond math">
	<e:fst><span class="pred_name">List</span>(<code>n</code>, <span class="st">S</span>)</e:fst> ∧ <e:snd><e:fst>o</e:fst> ↔ <e:snd><e:fst><code>v</code></e:fst> ∈ <e:snd><span class="st">S</span></e:snd></e:snd></e:snd>
      </span></span>
  </p>

  <p>
    
    <div class="display">
      <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="832.67719" height="584.64569" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="recursive_search.svg" inkscape:export-filename="/home/james/inst/edu/3-msc/net-storage/terms/3/verifying-concurrent-indexes/paper/rbt/recursive_insert_aux.png" inkscape:export-xdpi="90" inkscape:export-ydpi="90">
  <defs id="defs4">
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-6" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker17839" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path17841" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="SquareM" style="overflow:visible">
      <path id="path10104" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="SquareM-0" style="overflow:visible">
      <path id="path10104-7" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="marker18011" style="overflow:visible">
      <path id="path18013" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-4" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker18709" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path18711" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-1" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-5" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-97" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker4125" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4127" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-49" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-93" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-79" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-932" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker5290" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path5292" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-93" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="0.7" inkscape:cx="447.88045" inkscape:cy="264.65821" inkscape:document-units="mm" inkscape:current-layer="g18357" showgrid="true" inkscape:window-width="1024" inkscape:window-height="552" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="5mm" spacingy="5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(0.53125,-308.78934)">
    <g id="g9842" transform="translate(-0.53126553,246.55312)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect9844" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.0054181" y="292.55112" x="35.433056" height="124.01581" width="230.31496" id="rect9846" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <g transform="translate(194.88191,-104.29918)" id="g5937">
        <text sodipodi:linespacing="125%" id="text5888" y="498.29132" x="-17.716541" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="498.29132" x="-17.716541" id="tspan5890" sodipodi:role="line">NonEmptyList(<tspan style="font-style:italic;font-weight:normal;fill:#000000;fill-opacity:1" id="tspan6014">head</tspan>, S)</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="511.41632" x="-17.716541" sodipodi:role="line" id="tspan5426"/></text>
        <rect style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:1.68073809;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="rect5886" width="159.44882" height="70.866142" x="-106.29922" y="414.56689"/>
      </g>
      <text sodipodi:linespacing="125%" id="text9848" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line" id="tspan9936">The list is non-empty.  The values <tspan style="font-style:italic" id="tspan5276">v</tspan> and <tspan style="font-style:italic" id="tspan5274">tail</tspan> are</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="288.47394" x="53.149605" sodipodi:role="line" id="tspan5434">unknown.  <tspan style="font-weight:bold" id="tspan5446">S</tspan> = {<tspan style="font-style:italic" id="tspan5438">v</tspan>} ∪ <tspan style="font-weight:bold" id="tspan5444">T</tspan> and ∀ <tspan style="font-style:italic" id="tspan5440">t</tspan>∈<tspan style="font-weight:bold" id="tspan5442">T</tspan>.  <tspan style="font-style:italic" id="tspan5448">v</tspan> &lt; <tspan style="font-style:italic" id="tspan5450">t</tspan>.</tspan></text>
      <g transform="translate(132.87403,-104.29917)" id="g3975">
        <g id="g3981" style="fill:#c8c8c8;fill-opacity:1;stroke:#663e00;stroke-opacity:1" transform="translate(-35.43307,88.582679)">
          <path style="opacity:0.3;fill:#c8c8c8;fill-opacity:1;stroke:#663e00;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.77165354, 1.77165354;stroke-dashoffset:0" d="m 79.724406,343.70076 0,35.43307" id="path3983" inkscape:connector-curvature="0"/>
          <rect y="343.70074" x="8.858264" height="35.433071" width="70.866142" id="rect3985" style="fill:none;stroke:#663e00;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
          <path transform="translate(-4e-6,308.26769)" inkscape:connector-curvature="0" id="path3987" d="m 44.291339,35.433069 0,35.433071" style="fill:#c8c8c8;fill-opacity:1;stroke:#663e00;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-8.8582716" y="453.99997" id="text3977" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3979" x="-8.8582716" y="453.99997" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
        <text sodipodi:linespacing="125%" id="text3989" y="453.99997" x="26.5748" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="453.99997" x="26.5748" id="tspan3991" sodipodi:role="line"/></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-77.724419" y="451.99997" id="text3977-0" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3979-1" x="-77.724419" y="451.99997" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">head</tspan></text>
        <text sodipodi:linespacing="125%" id="text6018" y="453.99994" x="26.574816" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="453.99994" x="26.574816" id="tspan6020" sodipodi:role="line">tail</tspan></text>
      </g>
      <g transform="translate(177.16537,-104.29919)" id="g5942">
        <rect transform="translate(-487.20473,405.70863)" y="26.574804" x="504.92126" height="35.433071" width="35.433071" id="rect5863" style="fill:none;stroke:#5c7700;stroke-width:1.77165353;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#5c7700;fill-opacity:1;stroke:none;font-family:Sans" x="35.433056" y="480.57477" id="text3989-5" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3991-3" x="35.433056" y="480.57477" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#5c7700;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">List(<tspan style="font-style:italic" id="tspan6016">tail</tspan>, <tspan style="font-weight:bold" id="tspan6034">T</tspan>)</tspan></text>
      </g>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" d="m 177.16538,345.70075 17.71653,4e-5" style="fill:#5c7700;fill-opacity:1;stroke:#5c7700;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" id="path5838"/>
      <path id="path5912" style="fill:#00774a;fill-opacity:1;stroke:#000000;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 70.866144,345.70079 35.433076,0" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
    </g>
    <g id="g7054" transform="translate(2.6627089e-5,86.582635)">
      <rect style="fill:#b0aee2;fill-opacity:1;stroke:none" id="rect4527-36-6-5" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="0.72238511" y="292.55112" x="35.433056" height="89.104401" width="230.31496" id="rect4525-86-1-3" style="fill:#dbdaf2;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text4239-51-8-6" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line" id="tspan17819"><tspan style="font-weight:bold" id="tspan3553">Precondition:</tspan><tspan style="font-style:italic" id="tspan4245"> head</tspan> points to a list representing</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan4247">set S.  We are searching for <tspan style="font-style:italic" id="tspan4253">value</tspan>.</tspan></text>
      <g id="g4265" transform="translate(185.49235,-121.49405)">
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="26.5748" y="453.99997" id="text4279" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4281" x="26.5748" y="453.99997" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <text sodipodi:linespacing="125%" id="text4283" y="451.99997" x="-77.724419" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="451.99997" x="-77.724419" id="tspan4285" sodipodi:role="line">head</tspan></text>
      </g>
      <g id="g4291" transform="translate(141.20101,-121.49406)">
        <rect style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="rect4293" width="35.433071" height="35.433071" x="504.92126" y="26.574804" transform="translate(-487.20473,405.70863)"/>
        <text sodipodi:linespacing="125%" id="text4295" y="480.57477" x="35.433056" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="480.57477" x="35.433056" id="tspan4297" sodipodi:role="line">List(<tspan style="font-style:italic" id="tspan5203">head</tspan>, <tspan style="font-weight:bold" id="tspan5201">S</tspan>)</tspan></text>
      </g>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" d="m 123.48447,328.5059 35.43307,0" style="fill:#00774a;fill-opacity:1;stroke:#000000;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" id="path4329"/>
    </g>
    <g id="g9993" transform="translate(265.21677,87.104311)">
      <rect style="fill:#b7e2ae;fill-opacity:1;stroke:none" id="rect9995" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="0.57452416" y="292.55112" x="35.433056" height="70.866119" width="230.31496" id="rect9997" style="fill:#def2da;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text9999" y="270.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="270.83463" x="53.149605" sodipodi:role="line" id="tspan10493">The list is empty, and represents the set ∅.</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="286.47394" x="53.149605" sodipodi:role="line" id="tspan5731"><tspan style="font-style:italic" id="tspan5733">value</tspan> ∉ ∅.  Return false.</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="302.11322" x="53.149605" sodipodi:role="line" id="tspan18095"/></text>
      <g id="g4265-4" transform="translate(203.74019,-122.01571)">
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="26.5748" y="453.99997" id="text4279-6" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4281-1" x="26.5748" y="453.99997" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <text sodipodi:linespacing="125%" id="text4283-5" y="451.99997" x="-77.724419" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="451.99997" x="-77.724419" id="tspan4285-6" sodipodi:role="line">head</tspan></text>
      </g>
      <g id="g4291-1" transform="translate(112.29924,-132.874)">
        <text sodipodi:linespacing="125%" id="text4295-2" y="480.57477" x="35.433056" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="480.57477" x="35.433056" id="tspan4297-2" sodipodi:role="line">EmptyList(<tspan style="font-style:italic" id="tspan5203-9">head</tspan>, <tspan style="font-weight:bold" id="tspan5201-2">S</tspan>)</tspan></text>
      </g>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" d="m 141.7323,327.98424 35.43307,0" style="fill:#00774a;fill-opacity:1;stroke:#000000;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#marker18011)" id="path4329-8"/>
    </g>
    <g id="g18103" transform="translate(2.992126e-7,17.716524)">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.334919" y="462.52161" id="text3852-9-8-5-9" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0-8-3-0" x="62.334919" y="462.52161" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Is the pointer <tspan style="font-style:italic" id="tspan5262">head</tspan> null?</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="61.77824" y="479.22571" id="text6246-4" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6248-6" x="61.77824" y="479.22571" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan5264">head</tspan> is not null</tspan></text>
      <path inkscape:connector-curvature="0" id="path7198-2" d="m 52.618356,450.52163 0,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
      <text transform="matrix(0,-1,1,0,0,0)" sodipodi:linespacing="125%" id="text17963" y="294.64984" x="-423.95471" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="294.64984" x="-423.95471" id="tspan17965" sodipodi:role="line"><tspan style="font-style:italic" id="tspan5266">head</tspan> is null</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618356,468.23816 230.314964,0 0,-106.29921 17.71653,0" id="path18101" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
    </g>
    <g id="g18357" transform="translate(2.992126e-7,212.59841)">
      <text sodipodi:linespacing="125%" id="text18359" y="462.52161" x="62.334919" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="462.52161" x="62.334919" id="tspan18361" sodipodi:role="line">compare(<tspan style="font-style:italic" id="tspan5735">value</tspan>, <tspan style="font-style:italic" id="tspan5737">v</tspan>)</tspan></text>
      <text sodipodi:linespacing="125%" id="text18365" y="479.22571" x="61.77824" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="479.22571" x="61.77824" id="tspan18367" sodipodi:role="line">value<tspan style="font-style:normal" id="tspan5823"> &lt; </tspan>v</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618356,450.52163 0,35.43307" id="path18371" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="ccc" inkscape:connector-curvature="0" id="path18379" d="m 52.618356,468.23816 265.748034,1e-5 0,17.71653" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="329.77823" y="479.22571" id="text5993" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5995" x="329.77823" y="479.22571" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">value = v  </tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 318.36638,468.23816 265.74804,1e-5 0,17.71653" id="path6093" inkscape:connector-curvature="0" sodipodi:nodetypes="ccc"/>
      <text sodipodi:linespacing="125%" id="text6095" y="479.22571" x="597.7782" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="479.22571" x="597.7782" id="tspan6097" sodipodi:role="line">value &gt; v  </tspan></text>
    </g>
    <path inkscape:connector-curvature="0" id="path7198-2-0" d="m 52.618356,308.78935 0,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    <g transform="translate(-0.53126553,441.43501)" id="g5739">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect5741" style="fill:#b7e2ae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#def2da;fill-opacity:1;stroke:none" id="rect5743" width="230.31496" height="124.01581" x="35.433056" y="292.55112" ry="1.0054181"/>
      <g id="g5745" transform="translate(194.88191,-104.29918)">
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-17.716541" y="498.29132" id="text5747" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5749" x="-17.716541" y="498.29132" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">NonEmptyList(<tspan id="tspan5751" style="font-style:italic;font-weight:normal;fill:#000000;fill-opacity:1">head</tspan>, S)</tspan><tspan id="tspan5753" sodipodi:role="line" x="-17.716541" y="511.41632" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <rect y="414.56689" x="-106.29922" height="70.866142" width="159.44882" id="rect5755" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:1.68073809;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text5757" sodipodi:linespacing="125%"><tspan id="tspan5765" sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan5827">value</tspan> ∉ {<tspan style="font-style:italic" id="tspan5825">v</tspan>}.  All in <tspan style="font-weight:bold" id="tspan5837">T </tspan>are &gt; <tspan style="font-style:italic" id="tspan5841">v</tspan>, so <tspan style="font-style:italic" id="tspan5859">value</tspan> ∉ <tspan style="font-weight:bold" id="tspan5843">T</tspan>.  So</tspan><tspan sodipodi:role="line" x="53.149605" y="288.47394" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan5891"><tspan style="font-style:italic" id="tspan5895">value</tspan> ∉ {<tspan style="font-style:italic" id="tspan5862">v</tspan>} ∪ <tspan style="font-weight:bold" id="tspan5864">T</tspan>, so <tspan style="font-style:italic" id="tspan5897">value</tspan> ∉ <tspan style="font-weight:bold" id="tspan5899">S</tspan>.  Return false.</tspan></text>
      <g id="g5781" transform="translate(132.87403,-104.29917)">
        <g transform="translate(-35.43307,88.582679)" style="fill:#c8c8c8;fill-opacity:1;stroke:#663e00;stroke-opacity:1" id="g5783">
          <path inkscape:connector-curvature="0" id="path5785" d="m 79.724406,343.70076 0,35.43307" style="opacity:0.3;fill:#c8c8c8;fill-opacity:1;stroke:#663e00;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.77165354, 1.77165354;stroke-dashoffset:0"/>
          <rect style="fill:none;stroke:#663e00;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect5787" width="70.866142" height="35.433071" x="8.858264" y="343.70074"/>
          <path style="fill:#c8c8c8;fill-opacity:1;stroke:#663e00;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 44.291339,35.433069 0,35.433071" id="path5789" inkscape:connector-curvature="0" transform="translate(-4e-6,308.26769)"/>
        </g>
        <text sodipodi:linespacing="125%" id="text5791" y="445.99997" x="-8.8582716" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="445.99997" x="-8.8582716" id="tspan5793" sodipodi:role="line">v</tspan><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="459.12497" x="-8.8582716" sodipodi:role="line" id="tspan5901">&gt; value</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="26.5748" y="453.99997" id="text5795" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5797" x="26.5748" y="453.99997" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <text sodipodi:linespacing="125%" id="text5799" y="451.99997" x="-77.724419" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="451.99997" x="-77.724419" id="tspan5801" sodipodi:role="line">head</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="26.574816" y="453.99994" id="text5803" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5805" x="26.574816" y="453.99994" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">tail</tspan></text>
      </g>
      <g id="g5807" transform="translate(177.16537,-104.29919)">
        <rect style="fill:none;stroke:#5c7700;stroke-width:1.77165353;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="rect5809" width="35.433071" height="35.433071" x="504.92126" y="26.574804" transform="translate(-487.20473,405.70863)"/>
        <text sodipodi:linespacing="125%" id="text5811" y="480.57477" x="35.433056" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#5c7700;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#5c7700;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="480.57477" x="35.433056" id="tspan5813" sodipodi:role="line">List(<tspan id="tspan5815" style="font-style:italic">tail</tspan>, <tspan id="tspan5817" style="font-weight:bold">T</tspan>)</tspan></text>
      </g>
      <path id="path5819" style="fill:#5c7700;fill-opacity:1;stroke:#5c7700;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 177.16538,345.70075 17.71653,4e-5" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" d="m 70.866144,345.70079 35.433076,0" style="fill:#00774a;fill-opacity:1;stroke:#000000;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" id="path5821"/>
    </g>
    <g id="g5903" transform="translate(265.21677,441.43501)">
      <rect style="fill:#b7e2ae;fill-opacity:1;stroke:none" id="rect5905" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.0054181" y="292.55112" x="35.433056" height="124.01581" width="230.31496" id="rect5907" style="fill:#def2da;fill-opacity:1;stroke:none"/>
      <g transform="translate(194.88191,-104.29918)" id="g5909">
        <text sodipodi:linespacing="125%" id="text5911" y="498.29132" x="-17.716541" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="498.29132" x="-17.716541" id="tspan5913" sodipodi:role="line">NonEmptyList(<tspan style="font-style:italic;font-weight:normal;fill:#000000;fill-opacity:1" id="tspan5915">head</tspan>, S)</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="511.41632" x="-17.716541" sodipodi:role="line" id="tspan5917"/></text>
        <rect style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:1.68073809;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="rect5919" width="159.44882" height="70.866142" x="-106.29922" y="414.56689"/>
      </g>
      <text sodipodi:linespacing="125%" id="text5921" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan5937" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line"><tspan id="tspan5925" style="font-style:italic">value</tspan> ∈ {<tspan id="tspan5927" style="font-style:italic">v</tspan>}, so <tspan id="tspan5939" style="font-style:italic">value</tspan> ∈ {<tspan id="tspan5941" style="font-style:italic">v</tspan>} ∪ <tspan id="tspan5943" style="font-weight:bold">T</tspan>, so <tspan id="tspan5945" style="font-style:italic">value</tspan> ∈ <tspan id="tspan5947" style="font-weight:bold">S</tspan>.</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan6011">Return true.</tspan></text>
      <g transform="translate(132.87403,-104.29917)" id="g5949">
        <g id="g5951" style="fill:#c8c8c8;fill-opacity:1;stroke:#663e00;stroke-opacity:1" transform="translate(-35.43307,88.582679)">
          <path style="opacity:0.3;fill:#c8c8c8;fill-opacity:1;stroke:#663e00;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.77165354, 1.77165354;stroke-dashoffset:0" d="m 79.724406,343.70076 0,35.43307" id="path5953" inkscape:connector-curvature="0"/>
          <rect y="343.70074" x="8.858264" height="35.433071" width="70.866142" id="rect5955" style="fill:none;stroke:#663e00;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
          <path transform="translate(-4e-6,308.26769)" inkscape:connector-curvature="0" id="path5957" d="m 44.291339,35.433069 0,35.433071" style="fill:#c8c8c8;fill-opacity:1;stroke:#663e00;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-8.8582706" y="453.99994" id="text5959" sodipodi:linespacing="125%"><tspan id="tspan5963" sodipodi:role="line" x="-8.8582706" y="453.99994" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">value</tspan></text>
        <text sodipodi:linespacing="125%" id="text5965" y="453.99997" x="26.5748" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="453.99997" x="26.5748" id="tspan5967" sodipodi:role="line"/></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-77.724419" y="451.99997" id="text5969" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5971" x="-77.724419" y="451.99997" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">head</tspan></text>
        <text sodipodi:linespacing="125%" id="text5973" y="453.99994" x="26.574816" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="453.99994" x="26.574816" id="tspan5975" sodipodi:role="line">tail</tspan></text>
      </g>
      <g transform="translate(177.16537,-104.29919)" id="g5977">
        <rect transform="translate(-487.20473,405.70863)" y="26.574804" x="504.92126" height="35.433071" width="35.433071" id="rect5979" style="fill:none;stroke:#5c7700;stroke-width:1.77165353;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#5c7700;fill-opacity:1;stroke:none;font-family:Sans" x="35.433056" y="480.57477" id="text5981" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5983" x="35.433056" y="480.57477" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#5c7700;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">List(<tspan style="font-style:italic" id="tspan5985">tail</tspan>, <tspan style="font-weight:bold" id="tspan5987">T</tspan>)</tspan></text>
      </g>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" d="m 177.16538,345.70075 17.71653,4e-5" style="fill:#5c7700;fill-opacity:1;stroke:#5c7700;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" id="path5989"/>
      <path id="path5991" style="fill:#00774a;fill-opacity:1;stroke:#000000;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 70.866144,345.70079 35.433076,0" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
    </g>
    <g transform="translate(530.9648,441.43501)" id="g6013">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect6015" style="fill:#d3aee2;fill-opacity:1;stroke:none"/>
      <rect style="fill:#ebdaf2;fill-opacity:1;stroke:none" id="rect6017" width="230.31496" height="124.01581" x="35.433056" y="292.55112" ry="1.0054181"/>
      <g id="g6019" transform="translate(194.88191,-104.29918)">
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-17.716541" y="498.29132" id="text6021" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6023" x="-17.716541" y="498.29132" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">NonEmptyList(<tspan id="tspan6025" style="font-style:italic;font-weight:normal;fill:#000000;fill-opacity:1">head</tspan>, S)</tspan><tspan id="tspan6027" sodipodi:role="line" x="-17.716541" y="511.41632" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <rect y="414.56689" x="-106.29922" height="70.866142" width="159.44882" id="rect6029" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:1.68073809;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text6031" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan6033"><tspan style="font-style:italic" id="tspan6035">value</tspan> ∈ {<tspan style="font-style:italic" id="tspan6037">v</tspan>}, so <tspan style="font-style:italic" id="tspan6039">value</tspan> ∈ {<tspan style="font-style:italic" id="tspan6041">v</tspan>} ∪ <tspan style="font-weight:bold" id="tspan6043">T</tspan>, so <tspan style="font-style:italic" id="tspan6045">value</tspan> ∈ <tspan style="font-weight:bold" id="tspan6047">S</tspan>.</tspan><tspan id="tspan6049" sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Return true.</tspan></text>
      <g id="g6051" transform="translate(132.87403,-104.29917)">
        <g transform="translate(-35.43307,88.582679)" style="fill:#c8c8c8;fill-opacity:1;stroke:#663e00;stroke-opacity:1" id="g6053">
          <path inkscape:connector-curvature="0" id="path6055" d="m 79.724406,343.70076 0,35.43307" style="opacity:0.3;fill:#c8c8c8;fill-opacity:1;stroke:#663e00;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.77165354, 1.77165354;stroke-dashoffset:0"/>
          <rect style="fill:none;stroke:#663e00;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect6057" width="70.866142" height="35.433071" x="8.858264" y="343.70074"/>
          <path style="fill:#c8c8c8;fill-opacity:1;stroke:#663e00;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 44.291339,35.433069 0,35.433071" id="path6059" inkscape:connector-curvature="0" transform="translate(-4e-6,308.26769)"/>
        </g>
        <text sodipodi:linespacing="125%" id="text6061" y="445.99994" x="-8.8582706" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="445.99994" x="-8.8582706" sodipodi:role="line" id="tspan6063">v</tspan><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="459.12494" x="-8.8582706" sodipodi:role="line" id="tspan6099">&lt; value</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="26.5748" y="453.99997" id="text6065" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6067" x="26.5748" y="453.99997" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <text sodipodi:linespacing="125%" id="text6069" y="451.99997" x="-77.724419" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="451.99997" x="-77.724419" id="tspan6071" sodipodi:role="line">head</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="26.574816" y="453.99994" id="text6073" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6075" x="26.574816" y="453.99994" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">tail</tspan></text>
      </g>
      <g id="g6077" transform="translate(177.16537,-104.29919)">
        <rect style="fill:none;stroke:#5c7700;stroke-width:1.77165353;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="rect6079" width="35.433071" height="35.433071" x="504.92126" y="26.574804" transform="translate(-487.20473,405.70863)"/>
        <text sodipodi:linespacing="125%" id="text6081" y="480.57477" x="35.433056" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#5c7700;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#5c7700;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="480.57477" x="35.433056" id="tspan6083" sodipodi:role="line">List(<tspan id="tspan6085" style="font-style:italic">tail</tspan>, <tspan id="tspan6087" style="font-weight:bold">T</tspan>)</tspan></text>
      </g>
      <path id="path6089" style="fill:#5c7700;fill-opacity:1;stroke:#5c7700;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 177.16538,345.70075 17.71653,4e-5" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" d="m 70.866144,345.70079 35.433076,0" style="fill:#00774a;fill-opacity:1;stroke:#000000;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" id="path6091"/>
    </g>
  </g>
</svg>
    </div>
  </p>

  <section>
    <h3>A recursive <abbr title="Linked List" class="smallcaps">LL</abbr> <code>search</code> algorithm</h3>

    <section class="generated_listing" xml:base="../../code/d/html/ll/search/recursive.d.html"><pre class="prettyprint">module ll.search.recursive;

import ll.node;

bool search(Node* list, int v) { </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph">List(list, S)</div></div>
<pre class="prettyprint">  bool o;
  if (list == null) { </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Assert if-condition.</div>List(list, S) ∧ list = null</div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Null pointer is empty list.</div>EmptyList(list, S)</div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">v is not in the empty set.</div>v ∉ S</div></div>
<pre class="prettyprint">
    o = false;
 </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Assignment.</div>v ∉ S ∧ o = false</div></div>
<pre class="prettyprint">  }
  else { </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Deny if-condition.</div>List(list, S) ∧ list ≠ null</div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Non-null is non-empty.</div>NonEmptyList(list, S)</div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Open NonEmptyList.</div>∃value, tail, T.<br/><span class="assertionIndent"> </span>list ↦ value, tail ∗<br/><span class="assertionIndent"> </span>List(tail, T) ∧<br/><span class="assertionIndent"> </span>Compose(value, T, S)</div></div>
<pre class="prettyprint">
    if (list.value == value) { </pre>
<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Assert if-condition.  Frame off heap.</div>∃T. Compose(v, T, S)</div></div>

<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Head of list in set.</div>v ∈ S</div></div>
<pre class="prettyprint">
      o = true;
 </pre>
<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Assignment.</div>v ∈ S ∧ o = true</div></div>

<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph">o ↔ v ∈ S</div></div>
<pre class="prettyprint">    }
    else { </pre>
<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Deny if-condition.</div>∃value, tail, T.<br/><span class="assertionIndent"> </span>list ↦ value, tail ∗<br/><span class="assertionIndent"> </span>List(tail, T) ∧<br/><span class="assertionIndent"> </span>Compose(value, T, S)<br/><span class="assertionIndent"> </span>∧ value ≠ v</div></div>
<pre class="prettyprint">      if (list.value &lt; v) { </pre>
<div class="section"><pre class="indent">        </pre><div class="AssertionParagraph"><div class="expl">Assert if-condition.</div>∃value, tail, T.<br/><span class="assertionIndent"> </span>list ↦ value, tail ∗<br/><span class="assertionIndent"> </span>List(tail, T) ∧<br/><span class="assertionIndent"> </span>Compose(value, T, S)<br/><span class="assertionIndent"> </span>∧ value &lt; v</div></div>
<pre class="prettyprint">        o = search(list.tail, v);
 </pre>
<div class="section"><pre class="indent">        </pre><div class="AssertionParagraph"><div class="expl">Inductive use of specification.</div>∃value, tail, T.<br/><span class="assertionIndent"> </span>list ↦ value, tail ∗<br/><span class="assertionIndent"> </span>List(tail, T) ∧<br/><span class="assertionIndent"> </span>Compose(value, T, S)<br/><span class="assertionIndent"> </span>∧ value &lt; v<br/><span class="assertionIndent"> </span>∧ o ↔ v ∈ T</div></div>

<div class="section"><pre class="indent">        </pre><div class="AssertionParagraph"><div class="expl">In tail is in set.</div>o ↔ v ∈ S</div></div>
<pre class="prettyprint">      }
      else { </pre>
<div class="section"><pre class="indent">        </pre><div class="AssertionParagraph"><div class="expl">Deny if-condition.  Frame off heap.</div>∃value, T. Compose(value, T, S)<br/><span class="assertionIndent"> </span>∧ v &lt; value</div></div>

<div class="section"><pre class="indent">        </pre><div class="AssertionParagraph"><div class="expl">Less-than-head not in list.</div>v ∉ S</div></div>
<pre class="prettyprint">        o = false;
 </pre>
<div class="section"><pre class="indent">        </pre><div class="AssertionParagraph"><div class="expl">Assignment.</div>v ∉ S ∧ o = false</div></div>

<div class="section"><pre class="indent">        </pre><div class="AssertionParagraph">o ↔ v ∈ S</div></div>
<pre class="prettyprint">      } </pre>
<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph">o ↔ v ∈ S</div></div>
<pre class="prettyprint">    } </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph">o ↔ v ∈ S</div></div>
<pre class="prettyprint">  }
 </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph">o ↔ v ∈ S</div></div>
<pre class="prettyprint">
  return o;
} </pre></section>
  </section>

  <section>
    <h3>An iterative <abbr title="Linked List" class="smallcaps">LL</abbr> <code>search</code> algorithm</h3>

    <section class="generated_listing" xml:base="../../code/d/html/ll/search/iterative.d.html"><pre class="prettyprint">module ll.search.iterative;

import ll.node;

bool search(Node* list, int value) {

  while (list &amp;&amp; list.value &lt; value) {
    list = list.tail;
  } </pre>
<div class="section"><pre class="indent">  </pre><div class="CommentParagraph">(!list || list.value &gt;= value)</div></div>
<pre class="prettyprint">
  bool o;
  if (!list) {
    o = false;
  }
  else {
    o = list.value == value;
  }

  return o;
} </pre></section>
  </section>
</section>
  <section>

  <h2><abbr title="Linked List" class="smallcaps">LL</abbr> <code>insert</code> algorithms</h2>

  <section>
    <h3>A recursive <abbr title="Linked List" class="smallcaps">LL</abbr> <code>insert</code> algorithm</h3>

    <section class="generated_listing" xml:base="../../code/d/html/ll/insert/recursive.d.html"><pre class="prettyprint">module ll.insert.recursive;

import ll.node;

Node* insert(Node* list, int value) {
  Node* o;

  if (list) {
    if (list.value == value) {
      o = list;
    }
    else {
      if (list.value &lt; value) {
	list.tail = insert(list.tail, value);
	o = list;
      }
      else {
	o = new Node(value, list);
      }
    }
  }
  else {
    o = new Node(value);
  }

  return o;
} </pre></section>
  </section>

  <section>
    <h3>An iterative <abbr title="Linked List" class="smallcaps">LL</abbr> <code>insert</code> algorithm</h3>

    <section class="generated_listing" xml:base="../../code/d/html/ll/insert/iterative.d.html"><pre class="prettyprint">module ll.insert.iterative;

import ll.node;

Node* insert(Node* list, int value) {
  Node* o;

  if (!list || value &lt; list.value) {
    o = new Node(value, list);
  }
  else {
    if (value == list.value) {
      o = list;
    }
    else {
      Node* p = list;
      while (p.tail &amp;&amp; p.tail.value &lt; value) {
	p = p.tail;
      } </pre>
<div class="section"><pre class="indent">      </pre><div class="CommentParagraph">!p.tail || p.tail.value &gt;= value</div></div>
<pre class="prettyprint">      if (!p.tail || p.tail.value &gt; value) {
	p.tail = new Node(value, p.tail);
      }
      o = list;
    }
  }

  return o;
} </pre></section>
  </section>
</section>
  <section>

  <h2><abbr title="Linked List" class="smallcaps">LL</abbr> <code>remove</code> algorithms</h2>

  <section>
    <h3>A recursive <abbr title="Linked List" class="smallcaps">LL</abbr> <code>remove</code> algorithm</h3>

    <section class="generated_listing" xml:base="../../code/d/html/ll/remove/recursive.d.html"><pre class="prettyprint">module ll.remove.recursive;

import ll.node;

Node* remove(Node* n, int value) {
  Node* o;

  if (!n) {
    o = null;
  }
  else {
    if (n.value == value) {
      o = n.tail;
      delete n;
    }
    else {
      if (n.value &lt; value) {
	n.tail = remove(n.tail, value);
	o = n;
      }
      else {
	o = n;
      }
    }
  }

  return o;
} </pre></section>
  </section>

  <section>
    <h3>An iterative <abbr title="Linked List" class="smallcaps">LL</abbr> <code>remove</code> algorithm</h3>

    <section class="generated_listing" xml:base="../../code/d/html/ll/remove/iterative.d.html"><pre class="prettyprint">module ll.remove.iterative;

import ll.node;


Node* remove(Node* n, int value) {
  Node* o;

  if (!n) {
    o = null;
  }
  else {
    if (n.value == value) {
      o = n.tail;
      delete n;
    }
    else {
      Node* i = n;
      while (i.tail &amp;&amp; i.tail.value &lt; value) {
	i = i.tail;
      } </pre>
<div class="section"><pre class="indent">      </pre><div class="CommentParagraph">!i.tail || value &gt;= i.tail.value</div></div>
<pre class="prettyprint">
      if (i.tail &amp;&amp; i.tail.value == value) {
	Node* d = i.tail;
	i.tail = i.tail.tail;
	delete d;
      }

      o = n;
    }
  }

  return o;
} </pre></section>
  </section>
</section>
</section>
      <section xml:base="bst/bst.html">
  
  <h2>Verifying the <abbr title="Binary Search Tree" class="smallcaps">BST</abbr></h2>

  <p>
    The first data structure I address in this project is the <abbr title="Binary Search Tree" class="smallcaps">BST</abbr>.
    I begin with a description of the data structure.
    I then verify recursive algorithms for <code>search</code>, <code>insert</code>, and <code>remove</code>.
    Finally, I will verify iterative algorithms for the same procedures.
  </p>

  <section>
  
  <h3>The <abbr title="Binary Search Tree" class="smallcaps">BST</abbr> data structure</h3>

  <p>
    Here's an unordered binary tree representing a set:
  </p>

  <p>
    Here's the ordered <abbr title="Binary Search Tree" class="smallcaps">BST</abbr>:
  </p>

  <table class="displaymath">
    <tbody>
      <tr>
	<td><span class="pred_name">Set</span>(<code>s</code>, S) ≝</td>
	<td>(<code>s</code> = <code>null</code> ∧ S = ∅ ∧ <b>emp</b>) ∨</td>
      </tr>
      <tr>
	<td/>
	<td>
	  ∃<span class="var">l</span>, <span class="var">r</span>, <span class="var">v</span>.<br/>
	  <e:fst>s</e:fst> ↦ <e:snd><span class="var">l</span>, <span class="var">r</span>, <span class="var">v</span></e:snd><br/>
	  ∧ <e:fst>v</e:fst> ∈ <e:snd>S</e:snd><br/>
	  ∗ <span class="pred_name">Set</span>(<span class="var">l</span>, <span class="set math"><e:fst>v′</e:fst> : <e:snd><e:fst>v′</e:fst> ∈ <e:snd>S</e:snd> ∧ v′ &lt; v</e:snd></span>)<br/>
	  ∗ <span class="pred_name">Set</span>(r, <span class="set math"><e:fst>v′</e:fst> : <e:snd><e:fst>v′</e:fst> ∈ <e:snd>S</e:snd> ∧ v′ &gt; v</e:snd></span>)
	</td>
      </tr>
    </tbody>
  </table>

  <p>
    Here is the module defining the structure of a node in the tree:

    <div class="display">
      <section class="generated_listing" xml:base="../../code/d/html/bst/node.d.html"><pre class="prettyprint">module bst.node;

struct Node {
  int value;   // One value in the set held in this subtree
  Node*[2] c;  // Pointers to the two subtrees (0 is left, 1 is right)

  this(int value) {
    this.value = value;  // The subtree pointers are initialized to null.
  }
} </pre></section>
    </div>
  </p>

  <p>
    Notice the use of a <q>link array</q>:
    rather than separate named <code>left</code> and <code>right</code> pointers,
    these two pointers are held in a two-element array,
    addressed respectively as <code>c[0]</code> and <code>c[1]</code>.
    This enables us to parameterize procedures by the index
    where the symmetry of the tree would otherwise demand two symmetrical blocks of code.
  </p>

  <p>
    We now wish to describe how such a data structure enables us to represent a set.
    Let's start with the easy case: the empty set.
    This is represented simply by a null pointer.
    We can describe that tree like so:

    <table class="displaymath">
      <tbody>
	<tr>
	  <td><span class="pred_name">EmptyTree</span>(<span class="var">n</span>, <span class="var">S</span>) ≝</td>
	  <td><e:fst><span class="var">n</span></e:fst> = <e:snd><code>null</code></e:snd> ∧</td>
	  <td>An empty tree is indicated by a null pointer, </td>
	</tr>
	<tr>
	  <td/>
	  <td><b>emp</b> ∧</td>
	  <td>uses no space on the heap, and</td>
	</tr>
	<tr>
	  <td/>
	  <td><e:fst><span class="var">S</span></e:fst> = <e:snd>∅</e:snd>.</td>
	  <td>represents the empty set.</td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    To describe a tree containing more than zero elements,
    we need to describe the ordering on those elements.
    I choose to do this in a separate predicate.
    For some node at location <code>n</code>, call the element stored there <span class="var">v</span>,
    the set stored in its left subtree <span class="st">L</span>,
    and the set stored in its right subtree <span class="st">R</span>.
    The set <span class="st">S</span> stored by the subtree rooted at <code>n</code> is the union of those elements.
    Because the tree is ordered, all elements in <span class="var">L</span> are less than <span class="var">v</span>
    and all elements in <span class="st">R</span> are greater than <span class="var">v</span>.
    We can express the relation between these elements by a predicate
    <span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>):
    
    <table class="displaymath">
      <tbody>
	<tr>
	  <td><span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>) ≝</td>
	  <td>
	    <e:fst>
	      <e:fst><span class="st">L</span></e:fst> ∪ <e:snd>
		  <e:fst>{ <span class="var">v</span> }</e:fst> ∪ <e:snd><span class="st">R</span></e:snd>
		</e:snd>
	      </e:fst> = <e:snd><span class="st">S</span></e:snd> ∧
	  </td>
	  <td><span class="st">L</span>, <span class="var">v</span>, and <span class="st">R</span> make up the set <span class="st">S</span>,</td>
	</tr>
	<tr>
	  <td/>
	  <td>
	    ∀<e:fst>
		<e:fst><span class="var">l</span></e:fst> ∈ <e:snd><span class="st">L</span></e:snd>
	      </e:fst>. <e:snd>
		<e:fst><span class="var">l</span></e:fst> &lt; <e:snd><span class="var">v</span></e:snd>
	      </e:snd> ∧
	  </td>
	  <td>all values in <span class="st">L</span> are less than <span class="var">v</span>, and</td>
	</tr>
	<tr>
	  <td/>
	  <td>
	    ∀<e:fst>
		<e:fst><span class="var">r</span></e:fst> ∈ <e:snd><span class="st">R</span></e:snd>
	      </e:fst>. <e:snd>
		<e:fst><span class="var">v</span></e:fst> &lt; <e:snd><span class="var">r</span></e:snd>
	      </e:snd>.
	  </td>
	  <td>conversely for <span class="st">R</span>.</td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    From a <span class="pred_name">Compose</span> assertion and some value <span class="var">w</span>,
    we know which subset <span class="var">w</span> is in, if any.
    For instance, if <e:fst><span class="var">w</span></e:fst> = <e:snd><span class="var">v</span></e:snd>,
    then <e:fst><span class="var">w</span></e:fst> ∈ <e:snd><span class="st">S</span></e:snd>:

    <table class="derivation displaymath">

      <tr><td>1.</td><td class=""><span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>)</td><td>given</td></tr>

      <tr><td>2.</td><td class=""><e:fst><span class="var">w</span></e:fst> = <e:snd><span class="var">v</span></e:snd></td><td>given</td></tr>

      <tr><td>3.</td><td class="">
	  <e:fst><span class="var">w</span></e:fst> ∈ <e:snd>{ <span class="var">w</span> }</e:snd>
	</td><td>some axiom presumably</td></tr>

      <tr><td>4.</td><td class="">
	  <e:fst><span class="var">w</span></e:fst> ∈ <e:snd>{ <span class="var">v</span> }</e:snd>
	</td><td>
	  givenLessThan, wInSetOfw, equality
	</td></tr>

      <tr><td>5.</td><td class="">
	  <e:fst>
	      <e:fst><span class="st">L</span></e:fst> ∪ <e:snd>
		  <e:fst>{ <span class="var">v</span> }</e:fst> ∪ <e:snd><span class="st">R</span></e:snd>
		</e:snd>
	    </e:fst> = <e:snd><span class="st">S</span></e:snd> ∧<br/>

	  ∀<e:fst>
	      <e:fst><span class="var">l</span></e:fst> ∈ <e:snd><span class="st">L</span></e:snd>
	    </e:fst>. <e:snd>
	      <e:fst><span class="var">l</span></e:fst> &lt; <e:snd><span class="var">v</span></e:snd>
	    </e:snd> ∧<br/>

	  ∀<e:fst>
	      <e:fst><span class="var">r</span></e:fst> ∈ <e:snd><span class="st">R</span></e:snd>
	    </e:fst>. <e:snd>
	      <e:fst><span class="var">v</span></e:fst> &lt; <e:snd><span class="var">r</span></e:snd>
	    </e:snd>
	</td><td>
	  givenCompose, open predicate
	</td></tr>

      <tr><td>6.</td><td class="">
	  <e:fst>
	      <e:fst><span class="st">L</span></e:fst> ∪ <e:snd>
		  <e:fst>{ <span class="var">v</span> }</e:fst> ∪ <e:snd><span class="st">R</span></e:snd>
		</e:snd>
	    </e:fst> = <e:snd><span class="st">S</span></e:snd>
	</td><td>
	  openCompose, ∧E
	</td></tr>

      <tr><td>7.</td><td class="">
	  <e:fst>{ <span class="var">v</span> }</e:fst> ⊆ <e:snd><span class="st">S</span></e:snd>
	</td><td>LuvuR, subset</td></tr>

      <tr><td>8.</td><td class=""><e:fst><span class="var">w</span></e:fst> ∈ <e:snd><span class="st">S</span></e:snd></td><td>wInSetOfv, SetOfVInS, ?</td></tr>
    </table>

  </p>

  <p>
    If <e:fst><span class="var">w</span></e:fst> &lt; <e:snd><span class="var">v</span></e:snd>,
    then if <span class="var">w</span> is in <span class="st">S</span> then it must be in <span class="st">L</span>,
    and <i>vice versa</i>:
    <span class="note">The case for <e:fst><span class="var">v</span></e:fst> &lt; <e:snd><span class="var">w</span></e:snd> is obviously symmetrical.</span>

    <table class="derivation displaymath">
      <tr><td>1.</td><td class="">
	  <e:fst>
	      <span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>)
	    </e:fst> ∧ <e:snd>
	      <e:fst><span class="var">w</span></e:fst> &lt; <e:snd><span class="var">v</span></e:snd>
	    </e:snd>
	</td><td>given</td></tr>

      <tr><td>2.</td><td class=""><span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>)</td><td>given, ∧E</td></tr>

      <tr><td>3.</td><td class=""><e:fst><span class="var">w</span></e:fst> &lt; <e:snd><span class="var">v</span></e:snd></td><td>given, ∧E</td></tr>

      <tr><td>4.</td><td class="">
	  <e:fst>
	      <e:fst><span class="st">L</span></e:fst> ∪ <e:snd>
		  <e:fst>{ <span class="var">v</span> }</e:fst> ∪ <e:snd><span class="st">R</span></e:snd>
		</e:snd>
	    </e:fst> = <e:snd><span class="st">S</span></e:snd> ∧<br/>

	  ∀<e:fst>
	      <e:fst><span class="var">l</span></e:fst> ∈ <e:snd><span class="st">L</span></e:snd>
	    </e:fst>. <e:snd>
	      <e:fst><span class="var">l</span></e:fst> &lt; <e:snd><span class="var">v</span></e:snd>
	    </e:snd> ∧<br/>

	  ∀<e:fst>
	      <e:fst><span class="var">r</span></e:fst> ∈ <e:snd><span class="st">R</span></e:snd>
	    </e:fst>. <e:snd>
	      <e:fst><span class="var">v</span></e:fst> &lt; <e:snd><span class="var">r</span></e:snd>
	    </e:snd>
	</td><td>compose, open predicate</td></tr>

      <tr><td>5.</td><td class="">
	  <e:fst>
	      <e:fst><span class="st">L</span></e:fst> ∪ <e:snd>
		  <e:fst>{ <span class="var">v</span> }</e:fst> ∪ <e:snd><span class="st">R</span></e:snd>
		</e:snd>
	    </e:fst> = <e:snd><span class="st">S</span></e:snd>
	</td><td>open, ∧E</td></tr>

      <tr><td>6.</td><td class="">
	  <e:fst><span class="st">L</span></e:fst> ⊆ <e:snd><span class="st">S</span></e:snd>
	</td><td>LuvuR, subset</td></tr>

      <tr><td>7.</td><td class="indent1">
	  <e:fst><span class="var">w</span></e:fst> ∈ <e:snd><span class="st">L</span></e:snd>
	</td><td>assume</td></tr>

      <tr><td>8.</td><td class="indent1">
	  <e:fst><span class="var">w</span></e:fst> ∈ <e:snd><span class="st">S</span></e:snd>
	</td><td>LsubsetS, assumewInL, member of subset in set</td></tr>

      <tr><td>9.</td><td class="">
	  <e:fst><e:fst><span class="var">w</span></e:fst> ∈ <e:snd><span class="st">L</span></e:snd></e:fst> → <e:snd><e:fst><span class="var">w</span></e:fst> ∈ <e:snd><span class="st">S</span></e:snd></e:snd>
	</td><td>assumewInL, thenwInS, →I</td></tr>

      <tr><td>10.</td><td class="">
	  <e:fst><span class="var">w</span></e:fst> ≠ <e:snd><span class="var">v</span></e:snd>
	</td><td>lt, weakening</td></tr>

      <tr><td>11.</td><td class="">
	  <e:fst><span class="var">w</span></e:fst> ∉ <e:snd>{ <span class="var">v</span> }</e:snd>
	</td><td>noteq, ?</td></tr>

      <tr><td>12.</td><td class="">
	  ∀<e:fst>
	      <e:fst><span class="var">r</span></e:fst> ∈ <e:snd><span class="st">R</span></e:snd>
	    </e:fst>. <e:snd>
	      <e:fst><span class="var">v</span></e:fst> &lt; <e:snd><span class="var">r</span></e:snd>
	    </e:snd>
	</td><td>open, ∧E</td></tr>

      <tr><td>13.</td><td class="">
	  <e:fst><span class="var">w</span></e:fst> ∉ <e:snd><span class="st">R</span></e:snd>
	</td><td>lt, allInRGreaterThanv, <span class="var">w</span> cannot satisfy membership criterion</td></tr>

      <tr><td>14.</td><td class="">
	  <e:fst><span class="var">w</span></e:fst> ∉ <e:snd>(<e:fst>{ <span class="var">v</span> }</e:fst> ∪ <e:snd><span class="st">R</span></e:snd>)</e:snd>
	</td><td>wNotInSetOfv, wNotInR, not in union</td></tr>

      <tr><td>15.</td><td class="indent1">
	  <e:fst><span class="var">w</span></e:fst> ∈ <e:snd><span class="st">S</span></e:snd>
	</td><td>assume</td></tr>

      <tr><td>16.</td><td class="indent1">
	  <e:fst><span class="var">w</span></e:fst> ∈ <e:snd><span class="st">L</span></e:snd>
	</td><td>LuvuR, wNotInvOrR, assumewInS, ??</td></tr>

      <tr><td>17.</td><td class="">
	  <e:fst>
	      <e:fst><span class="var">w</span></e:fst> ∈ <e:snd><span class="st">S</span></e:snd>
	    </e:fst> → <e:snd>
	      <e:fst><span class="var">w</span></e:fst> ∈ <e:snd><span class="st">L</span></e:snd>
	    </e:snd>
	</td><td>assumewInS, thenwInL, →I</td></tr>

      <tr><td>18.</td><td class="">
	  <e:fst>
	      <e:fst><span class="var">w</span></e:fst> ∈ <e:snd><span class="st">L</span></e:snd>
	    </e:fst> ↔ <e:snd>
	      <e:fst><span class="var">w</span></e:fst> ∈ <e:snd><span class="st">S</span></e:snd>
	    </e:snd>
	</td><td>wInLImplieswInS, wInSImplieswInL, ↔I</td></tr>
    </table>
  </p>

  <p>
    If <span class="var">R</span> is the empty set, then <span class="var">v</span> is the maximum in the set:

    <table class="derivation displaymath">
      <tr><td>1.</td><td class="">
	  <span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, ∅, <span class="st">S</span>)
	</td><td>given</td></tr>

      <tr><td>2.</td><td class="">
	  <e:fst>
	      <e:fst><span class="var">v</span></e:fst> ∈ <e:snd><span class="st">S</span></e:snd>
	    </e:fst> ∧ <e:snd>∀x∈L. x &lt; v ∧ L = S - {v}</e:snd>
	</td><td/></tr>
    </table>

  </p>

  <p>
    Using our <span class="pred_name">Compose</span> predicate,
    we can describe the top of some tree at <code>n</code>
    that stores the value <span class="var">v</span> at the root and represents the set <span class="var">S</span>.
    (Notice this uses the <span class="pred_name">Tree</span> predicate,
    to be introduced shortly,
    and which describes a tree with any number of nodes):

    <table class="displaymath">
      <tbody>
	<tr>
	  <td><span class="pred_name">TopOfTree</span>(<code>n</code>, <span class="var">v</span>, <span class="st">S</span>) ≝</td>
	  <td>∃<span class="var">l</span>,<span class="var">r</span>,<span class="st">L</span>,<span class="st">R</span>.</td>
	  <td><code>n</code> represents the set <span class="st">S</span> with <span class="var">v</span> at the root if</td>
	</tr>
	<tr>
	  <td/>
	  <td>
	    <e:fst><code>n</code></e:fst> ↦ <e:snd><span class="var">v</span>,<span class="var">l</span>,<span class="var">r</span></e:snd>
	  </td>
	  <td><code>n</code> points to a node with value <span class="var">v</span> and pointers <span class="var">l</span> and <span class="var">r</span></td>
	</tr>
	<tr>
	  <td/>
	  <td>∗ <span class="pred_name">Tree</span>(<span class="var">l</span>, <span class="st">L</span>)</td>
	  <td>where <span class="var">l</span> points to a tree representing the set <span class="st">L</span>, and</td>
	</tr>
	<tr>
	  <td/>
	  <td>∗ <span class="pred_name">Tree</span>(<span class="var">r</span>, <span class="st">R</span>)</td>
	  <td><span class="var">r</span> points to a tree representing <span class="st">R</span>, and</td>
	</tr>
	<tr>
	  <td/>
	  <td>∧ <span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>).</td>
	  <td>the values in the <span class="st">S</span> are totally ordered.</td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    Often, though, we don't know the value at the top of the tree—we just know it's non-empty:

    <table class="displaymath">
      <tbody>
	<tr>
	  <td><span class="pred_name">NonEmptyTree</span>(<code>n</code>, <span class="st">S</span>) ≝</td>
	  <td>∃<span class="var">v</span>. <span class="pred_name">TopOfTree</span>(<code>n</code>, <span class="var">v</span>, <span class="st">S</span>).</td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    The <span class="pred_name">Tree</span> predicate describes
    a tree that has any number of nodes.
    That is, it's an <span class="pred_name">EmptyTree</span> or a <span class="pred_name">NonEmptyTree</span>:

    <table class="displaymath">
      <tbody>
	<tr>
	  <td>
	    <span class="pred_name">Tree</span>(<code>n</code>, <span class="st">S</span>) ≝
	  </td>
	  <td>
	    <span class="pred_name">EmptyTree</span>(<code>n</code>, <span class="st">S</span>) ∨
	  </td>
	</tr>
	<tr>
	  <td/>
	  <td><span class="pred_name">NonEmptyTree</span>(<code>n</code>, <span class="st">S</span>).</td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    Given a <span class="pred_name">Tree</span> pointer,
    we can find out whether it is an <span class="pred_name">EmptyTree</span> or an <span class="pred_name">NonEmptyTree</span>
    by testing whether the pointer is <code>null</code>.
    That is,
    <e:fst>
	<e:fst><span class="pred_name">Tree</span>(<code>n</code>, <span class="st">S</span>)</e:fst> ∧ <e:snd><e:fst><code>n</code></e:fst> = <e:snd><code>null</code></e:snd></e:snd>
      </e:fst> → <e:snd><span class="pred_name">EmptyTree</span>(<code>n</code>, <span class="st">S</span>)</e:snd>, and
    <e:fst>
	<e:fst><span class="pred_name">Tree</span>(<code>n</code>, <span class="st">S</span>)</e:fst> ∧ <e:snd><e:fst><code>n</code></e:fst> ≠ <e:snd><code>null</code></e:snd></e:snd>
      </e:fst> → <e:snd><span class="pred_name">NonEmptyTree</span>(<code>n</code>, <span class="st">S</span>)</e:snd>.
    This follows from <code>null</code> not being in the domain of the heap; <i>i.e.</i>,
    <e:fst><e:fst><code>n</code></e:fst> ↦ <e:snd>…</e:snd></e:fst> → <e:snd><e:fst><code>n</code></e:fst> ≠ <e:snd><code>null</code></e:snd></e:snd>.
  </p>
</section>
  <section>
  
  <h3>Recursive <abbr title="Binary Search Tree" class="smallcaps">BST</abbr> algorithms</h3>

  <section>
    <h4><code>descend</code>: an algorithm to move down the tree</h4>

    The first algorithm I describe is an auxiliary one that selects a subtree pointer
    depending on a value we are searching for.

    <section class="generated_listing" xml:base="../../code/d/html/bst/descend.d.html"><pre class="prettyprint">module bst.descend;

import bst.node;


Node* descend(Node* root, in int value) { </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Function precondition.
The tree is non-empty and value is not at the root
(so if it's in the set, it's in one of the two subtrees).</div>TopOfTree(root, v, S) ∧ v≠value</div></div>
<pre class="prettyprint">
  int dir = value &gt; root.value;
 </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Either &gt; or &lt;.  C semantics render this as an integer.
v≠value is now implied.</div>TopOfTree(root, v, S) ∧ <br/><span class="assertionIndent">   </span>(value &lt; v ∧ dir = 0) ∨<br/><span class="assertionIndent">   </span>(value &gt; v ∧ dir = 1)</div></div>
<pre class="prettyprint">
  Node* o = root.c[dir];
 </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Open TopOfTree.  Do both cases of value of `dir`.</div>∃v,l,r,L,R.<br/><span class="assertionIndent">   </span>root↦v,l,r ∗ Tree(l, L) ∗ Tree(r, R)<br/><span class="assertionIndent">   </span>∧ Compose(L, v, R, S)<br/><span class="assertionIndent">   </span>∧ (value &lt; v ∧ o = l) ∨ (value &gt; v ∧ o = r)</div></div>

<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">What is true of the subtree pointers is true of `o`.</div>∃v,l,r,L,R.<br/><span class="assertionIndent">   </span>root↦v,l,r ∗ Tree(l, L) ∗ Tree(r, R)<br/><span class="assertionIndent">   </span>∧ Compose(L, v, R, S)<br/><span class="assertionIndent">   </span>∧ (value &lt; v ∧ Tree(o, L)) ∨ (value &gt; v ∧ Tree(o, R))</div></div>

<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">From Compose and relation of value and v.</div>∃v,l,r,L,R.<br/><span class="assertionIndent">   </span>root↦v,l,r ∗ Tree(l, L) ∗ Tree(r, R)<br/><span class="assertionIndent">   </span>∧ Compose(L, v, R, S)<br/><span class="assertionIndent">   </span>∧ (Tree(o, L) ∧ (value∈L ↔ value∈S)) ∨ (Tree(o, R) ∧ (value∈R ↔ value∈S))</div></div>

<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Introduce quantification.</div>∃v,l,r,L,R.<br/><span class="assertionIndent">   </span>root↦v,l,r ∗ Tree(l, L) ∗ Tree(r, R)<br/><span class="assertionIndent">   </span>∧ Compose(L, v, R, S)<br/><span class="assertionIndent">   </span>∧ (∃Q. Tree(o, Q) ∧ (value∈Q ↔ value∈S)) ∨ (∃Q. Tree(o, Q) ∧ (value∈Q ↔ value∈S))</div></div>

<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">a ∨ a implies a.</div>∃v,l,r,L,R.<br/><span class="assertionIndent">   </span>root↦v,l,r ∗ Tree(l, L) ∗ Tree(r, R)<br/><span class="assertionIndent">   </span>∧ Compose(L, v, R, S)<br/><span class="assertionIndent">   </span>∧ ∃Q. Tree(o, Q) ∧ (value∈Q ↔ value∈S))</div></div>

<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Function postcondition.  Close TopOfTree.</div>TopOfTree(root, v, S)<br/><span class="assertionIndent"> </span>∧ ∃Q. Tree(o, Q) ∧ (value∈Q ↔ value∈S))</div></div>

<div class="section"><pre class="indent">  </pre><div class="CommentParagraph">Note: we want |Q| &lt; |S|
to show termination of other functions.</div></div>
<pre class="prettyprint">
  return o;
} </pre></section>
  </section>

  <section>
    <h4>Recursive <code>search</code></h4>

    <section class="generated_listing" xml:base="../../code/d/html/bst/search/recursive.d.html"><pre class="prettyprint">module bst.search.recursive;

import bst.node;
import bst.descend;


bool search(Node* root, in int value) { </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Function precondition.</div>Tree(root, S)</div></div>
<pre class="prettyprint">  bool o;
  if (root) { </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Assert if-test.</div>Tree(root, S) ∧ root≠null</div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Non-null pointer is non-empty tree (lemma).</div>NonEmptyTree(root, S)</div></div>
<pre class="prettyprint">
    if (root.value == value) { </pre>
<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Assert if-test.  (Need lemma here.)</div>TopOfTree(root, value, S)</div></div>

<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Root value in set (lemma).</div>TopOfTree(root, value, S) ∧ value ∈ S</div></div>

<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Weaken TopOfTree.</div>Tree(root, S) ∧ value ∈ S</div></div>
<pre class="prettyprint">
      o = true;
 </pre>
<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Assignment.</div>Tree(root, S) ∧ value ∈ S ∧ o = true</div></div>

<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">???</div>Tree(root, S) ∧ o ↔ (value ∈ S)</div></div>
<pre class="prettyprint">    }
    else { </pre>
<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Deny if-test.</div>TopOfTree(root, v, S) ∧ v ≠ value</div></div>
<pre class="prettyprint">
      Node* next = descend(root, value);
 </pre>
<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Specification of descend.</div>TopOfTree(root, v, S) ∧<br/><span class="assertionIndent"> </span>∃Q. Tree(o, Q) ∧ (value∈Q ↔ value∈S)) ∧ |Q| &lt; |S|</div></div>

<div class="section"><pre class="indent">      </pre><div class="CommentParagraph">Note recursion terminates because |Q| &lt; |S| and |Q| &gt;= 0</div></div>
<pre class="prettyprint">      o = search(next, value);
 </pre>
<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Specification of search.</div>TopOfTree(root, v, S) ∧<br/><span class="assertionIndent"> </span>∃Q. Tree(o, Q) ∧ (value∈Q ↔ value∈S)) ∧ |Q| &lt; |S| ∧ o ↔ (value ∈ Q)</div></div>

<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Transitivity of ↔; escape ∃; weaken TopOfTree.</div>Tree(root, S) ∧ o ↔ (value ∈ S)</div></div>
<pre class="prettyprint">    } </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Transitivity of both if-branches.</div>Tree(root, S) ∧ o ↔ (value ∈ S)</div></div>
<pre class="prettyprint">  }
  else { </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Deny if-test.</div>Tree(root, S) ∧ root=null</div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Null pointer is empty tree (lemma).</div>EmptyTree(root, S)</div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Empty tree is empty set (lemma).</div>EmptyTree(root, S) ∧ S = ∅</div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Element not in empty set.</div>EmptyTree(root, S) ∧ value ∉ S</div></div>
<pre class="prettyprint">
    o = false;
 </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Assignment.</div>EmptyTree(root, S) ∧ value ∉ S ∧ o = false</div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">???</div>EmptyTree(root, S) ∧ o ↔ (value ∈ S)</div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Weaken EmptyTree.</div>Tree(root, S) ∧ o ↔ (value ∈ S)</div></div>
<pre class="prettyprint">  } </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Function postcondition.
Postcondition of both if-branches.</div>Tree(root, S) ∧ o ↔ (value ∈ S)</div></div>
<pre class="prettyprint">  return o;
} </pre></section>
  </section>

  <section>
    <h4>Recursive <code>insert</code></h4>

    <section class="generated_listing" xml:base="../../code/d/html/bst/insert/recursive.d.html"><pre class="prettyprint">module bst.insert.recursive;

import bst.node;

Node* insert(Node* root, int value) {
  Node* o;
  if (!root) {
    o = new Node(value);
  }
  else {
    if (root.value == value) {
      o = root;
    }
    else {
      if (value &lt; root.value) {
	root.c[0] = insert(root.c[0], value);
      }
      else {
	root.c[1] = insert(root.c[1], value);
      }
      o = root;
    }
  }
  return o;
} </pre></section>
  </section>

  <section>
    <h4>Recursive <code>remove</code></h4>

    <p>
      Here's <code>removeMax</code>:

      <section class="generated_listing" xml:base="../../code/d/html/bst/remove/removeMax/recursive.d.html"><pre class="prettyprint">module bst.remove.removeMax.recursive;


import bst.node;
import bst.remove.removeMax.RemoveMaxRet;

import std.stdio;

RemoveMaxRet removeMax(Node* root) { </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">We can only remove the maximum from a non-empty tree!</div>NonEmptyTree(root, S)</div></div>
<pre class="prettyprint">
  assert(root != null);
 </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Expand NonEmptyTree(root).</div>∃v. TopOfTree(root, v, S).</div></div>

<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Expand TopOfTree(root, v, S).</div>∃v,l,r,L,R.<br/><span class="assertionIndent">   </span>root↦v,l,r<br/><span class="assertionIndent">   </span>∗ Tree(l, L)<br/><span class="assertionIndent">   </span>∗ Tree(r, R)<br/><span class="assertionIndent">   </span>∧ Compose(L, v, R, S).</div></div>
<pre class="prettyprint">
  auto r = root.c[1];
 </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Take `r` out of quantification.</div>∃v,l,L,R.<br/><span class="assertionIndent">   </span>root↦v,l,r<br/><span class="assertionIndent">   </span>∗ Tree(l, L)<br/><span class="assertionIndent">   </span>∗ Tree(r, R)<br/><span class="assertionIndent">   </span>∧ Compose(L, v, R, S).</div></div>
<pre class="prettyprint">

 </pre>
<div class="section"><pre class="indent">  </pre><div class="CommentParagraph">We're going to put the return values here.</div></div>
<pre class="prettyprint">  int max;
  Node* newRoot;

  if (!r) { </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Assert if-condition.  Discard EmptyTree.</div>∃v,l,L.<br/><span class="assertionIndent">   </span>root↦v,l,null<br/><span class="assertionIndent">   </span>∗ Tree(l, L)<br/><span class="assertionIndent">   </span>∧ Compose(L, v, ∅, S).</div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Found-max (lemma on Compose).  Discard Compose.</div>∃v,l,L.<br/><span class="assertionIndent">   </span>root↦v,l,null<br/><span class="assertionIndent">   </span>∗ Tree(l, L)<br/><span class="assertionIndent">   </span>∧ v∈S ∧ ∀x∈L. x &lt; v ∧ L = S - {v}.</div></div>
<pre class="prettyprint">
    max = root.value;
    newRoot = root.c[0];
 </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Assignment (twice).</div>∃L.<br/><span class="assertionIndent">   </span>root↦max,newRoot,null<br/><span class="assertionIndent">   </span>∗ Tree(newRoot, L)<br/><span class="assertionIndent">   </span>∧ max∈S ∧ ∀x∈L. x &lt; max ∧ L = S - {max}.</div></div>
<pre class="prettyprint">
    delete root;
 </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">`root` is dangling.  Rename bound variable.
This gives our function postcondition.</div>∃T.<br/><span class="assertionIndent">   </span>Tree(newRoot, T)<br/><span class="assertionIndent">   </span>∧ max∈S ∧ ∀x∈T. x &lt; max ∧ T = S - {max}.</div></div>
<pre class="prettyprint">  }
  else { </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Negate if-condition.</div>∃v,l,L,R.<br/><span class="assertionIndent">   </span>root↦v,l,r<br/><span class="assertionIndent">   </span>∗ Tree(l, L)<br/><span class="assertionIndent">   </span>∗ Tree(r, R)<br/><span class="assertionIndent">   </span>∧ Compose(L, v, R, S)<br/><span class="assertionIndent">   </span>∧ r.</div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Non-null pointer is non-empty tree (lemma).</div>∃v,l,L,R.<br/><span class="assertionIndent">   </span>root↦v,l,r<br/><span class="assertionIndent">   </span>∗ Tree(l, L)<br/><span class="assertionIndent">   </span>∗ NonEmptyTree(r, R)<br/><span class="assertionIndent">   </span>∧ Compose(L, v, R, S).</div></div>
<pre class="prettyprint">
    auto d = removeMax(r);
    auto rightMax = d.max;
    auto rightRoot = d.root;
 </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">removeMax consumes NonEmptyTree(r, R).  `r` is now dangling.</div>∃v,l,L,R,N.<br/><span class="assertionIndent">   </span>root↦v,l,r<br/><span class="assertionIndent">   </span>∗ Tree(l, L)<br/><span class="assertionIndent">   </span>∗ Tree(rightRoot, N)<br/><span class="assertionIndent">   </span>∧ Compose(L, v, R, S)<br/><span class="assertionIndent">   </span>∧ rightMax∈R ∧ ∀x∈N. x &lt; rightMax ∧ N = R - {rightMax}.</div></div>
<pre class="prettyprint">
    root.c[1] = rightRoot;
 </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Assignment.</div>∃v,l,L,R,N.<br/><span class="assertionIndent">   </span>root↦v,l,rightRoot<br/><span class="assertionIndent">   </span>∗ Tree(l, L)<br/><span class="assertionIndent">   </span>∗ Tree(rightRoot, N)<br/><span class="assertionIndent">   </span>∧ Compose(L, v, R, S)<br/><span class="assertionIndent">   </span>∧ rightMax∈R ∧ ∀x∈N. x &lt; rightMax ∧ N = R - {rightMax}.</div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Close TopOfTree.</div>∃v.<br/><span class="assertionIndent">   </span>TopOfTree(root, v, S - {rightMax})<br/><span class="assertionIndent">   </span>∧ rightMax∈S ∧ ∀x∈(S-{rightMax}). x &lt; rightMax.</div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Introduce quantification on S - {rightMax}.</div>∃v, T.<br/><span class="assertionIndent">   </span>TopOfTree(root, v, T)<br/><span class="assertionIndent">   </span>∧ rightMax∈S ∧ ∀x∈T. x &lt; rightMax ∧ T = S - {rightMax}.</div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Close NonEmptyTree.</div>∃T.<br/><span class="assertionIndent">   </span>NonEmptyTree(root, T)<br/><span class="assertionIndent">   </span>∧ rightMax∈S ∧ ∀x∈T. x &lt; rightMax ∧ T = S - {rightMax}.    </div></div>
<pre class="prettyprint">
    max = rightMax;
    newRoot = root;
 </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Assignment.  Gives postcondition.</div>∃T.<br/><span class="assertionIndent">   </span>Tree(newRoot, T)<br/><span class="assertionIndent">   </span>∧ max∈S ∧ ∀x∈T. x &lt; max ∧ T = S - {max}.</div></div>
<pre class="prettyprint">  }
 </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Postcondition of both if branches.  
Function postcondition.
`max` is the maximum element in `S`,
and `newRoot` represents `S` with `max` subtracted.</div>∃T.<br/><span class="assertionIndent">   </span>Tree(newRoot, T)<br/><span class="assertionIndent">   </span>∧ max∈S ∧ ∀x∈T. x &lt; max ∧ T = S - {max}.</div></div>
<pre class="prettyprint">

  RemoveMaxRet o = {max: max, root: newRoot};
  return o;
} </pre></section>
    </p>

    <p>
      Here's <code>removeRoot</code>:

      <section class="generated_listing" xml:base="../../code/d/html/bst/remove/removeRoot.d.html"><pre class="prettyprint">module bst.removeRoot;

import bst.node;
import bst.remove.removeMax.removeMax;
import bst.remove.removeMax.RemoveMaxRet;


Node* removeRoot(Node* root) {
  assert(root != null);

  if (root.c[0] &amp;&amp; root.c[1]) {
    RemoveMaxRet r = removeMax(root.c[0]);
    root.value = r.max;
    root.c[0] = r.root;
  }
  else {
    assert(!root.c[0] || !root.c[1]);
    Node* rem = root;
    if (root.c[0]) {
      root = root.c[0];
    }
    else {
      root = root.c[1];
    } </pre>
<div class="section"><pre class="indent">    </pre><div class="CommentParagraph">delete rem;</div></div>
<pre class="prettyprint">  }
  return root;
}


unittest {
  auto a = new Node(5);
  a = removeRoot(a);
  assert(a == null);
}


unittest {
  auto a = new Node(5);
  a.c[0] = new Node(4);
  a = removeRoot(a);
  assert(a);
  assert(a.value == 4);
  assert(!a.c[0]);
  assert(!a.c[1]);
}


unittest {
  auto a = new Node(5);
  a.c[0] = new Node(4);
  a.c[1] = new Node(6);
  a = removeRoot(a);

  assert(a);
  assert(a.value == 4);
  assert(a.c[0] == null);
  assert(a.c[1]);
  assert(a.c[1].value == 6);
  assert(!a.c[1].c[0]);
  assert(!a.c[1].c[1]);
} </pre></section>
    </p>

    <p>
      Here's <code>remove</code>:

      <section class="generated_listing" xml:base="../../code/d/html/bst/remove/recursive.d.html"><pre class="prettyprint">module bst.remove.recursive;

import bst.node;
import bst.remove.removeRoot;


Node* remove(Node* root, int value) {
  Node* o;

  if (!root) {
    o = null;
  }
  else {
    if (value == root.value) {
      o = removeRoot(root);
    }
    else {
      o = root;
      int dir = value &gt; root.value;
      o.c[dir] = remove(o.c[dir], value);
    }
  }

  return o;
} </pre></section>
    </p>
  </section>
</section>
  <section>
  
  <h3>Iterative <abbr title="Binary Search Tree" class="smallcaps">BST</abbr> algorithms</h3>


  <section>
    <h4>Iterative <code>search</code></h4>

    <section class="generated_listing" xml:base="../../code/d/html/bst/search/iterative.d.html"><pre class="prettyprint">module bst.search.iterative;

import bst.node;
import bst.descend;


bool search(Node* root, in int value) { </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Function precondition.</div>Tree(root, S)</div></div>
<pre class="prettyprint">
  bool found = false;
 </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Assignment.
We're going to return `found`.
That is, the following loop establishes `found ↔ (value ∈ S)`.</div>Tree(root, S) ∧ ¬found</div></div>
<pre class="prettyprint">
  Node* i = root;
 </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Assignment.</div>Tree(root, S) ∧ ¬found ∧<br/><span class="assertionIndent"> </span>Tree(i, S)</div></div>

<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">a ↔ a</div>Tree(root, S) ∧ ¬found ∧<br/><span class="assertionIndent"> </span>Tree(i, S) ∧ (value ∈ S) ↔ (value ∈ S)</div></div>

<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">∃I</div>Tree(root, S) ∧ ¬found ∧<br/><span class="assertionIndent"> </span>∃Q. Tree(i, Q) ∧ (value ∈ Q) ↔ (value ∈ S)</div></div>

<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">false → anything (rule?).
This is our loop invariant.</div>Tree(root, S) ∧<br/><span class="assertionIndent"> </span>∃Q. Tree(i, Q) ∧ (value ∈ Q) ↔ (value ∈ S)<br/><span class="assertionIndent"> </span>∧ found → (value ∈ S)</div></div>

<div class="section"><pre class="indent">  </pre><div class="CommentParagraph">The size of Q strictly decreases with each iteration,
and the size of Q &gt;= 0, as the empty set is the smallest possible set.
This shows that the loop terminates.</div></div>
<pre class="prettyprint">
  while (i &amp;&amp; !found) { </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Loop invariant, and assert while-condition.</div>Tree(root, S) ∧<br/><span class="assertionIndent"> </span>∃Q. Tree(i, Q) ∧ (value ∈ Q) ↔ (value ∈ S)<br/><span class="assertionIndent"> </span>∧ found → (value ∈ S)<br/><span class="assertionIndent"> </span>∧ root ∧ ¬found</div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Non-null pointer is non-empty tree (lemma)</div>Tree(root, S) ∧<br/><span class="assertionIndent"> </span>∃Q. NonEmptyTree(i, Q) ∧ (value ∈ Q) ↔ (value ∈ S)<br/><span class="assertionIndent"> </span>∧ found → (value ∈ S)<br/><span class="assertionIndent"> </span>∧ ¬found</div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Open NonEmptyTree</div>Tree(root, S) ∧<br/><span class="assertionIndent"> </span>∃Q, v. TopOfTree(i, v, Q) ∧ (value ∈ Q) ↔ (value ∈ S)<br/><span class="assertionIndent"> </span>∧ found → (value ∈ S)<br/><span class="assertionIndent"> </span>∧ ¬found</div></div>
<pre class="prettyprint">
    if (value == i.value) { </pre>
<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Assert if-condition.  Equality.</div>Tree(root, S) ∧<br/><span class="assertionIndent"> </span>∃Q. TopOfTree(i, value, Q) ∧ (value ∈ Q) ↔ (value ∈ S)<br/><span class="assertionIndent"> </span>∧ found → (value ∈ S)<br/><span class="assertionIndent"> </span>∧ ¬found</div></div>

<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Root value in set (lemma).</div>Tree(root, S) ∧<br/><span class="assertionIndent"> </span>∃Q.<br/><span class="assertionIndent">   </span>TopOfTree(i, value, Q) ∧<br/><span class="assertionIndent">   </span>(value ∈ Q) ↔ (value ∈ S) ∧<br/><span class="assertionIndent">   </span>value ∈ Q<br/><span class="assertionIndent"> </span>∧ found → (value ∈ S)<br/><span class="assertionIndent"> </span>∧ ¬found</div></div>

<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">→.  Weaken TopOfTree.</div>Tree(root, S) ∧<br/><span class="assertionIndent"> </span>∃Q. Tree(i, Q) ∧ (value ∈ Q) ↔ (value ∈ S)<br/><span class="assertionIndent"> </span>value ∈ S ∧ ¬found</div></div>
<pre class="prettyprint">
      found = true;
 </pre>
<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Assignment.</div>Tree(root, S) ∧<br/><span class="assertionIndent"> </span>∃Q. Tree(i, Q) ∧ (value ∈ Q) ↔ (value ∈ S)<br/><span class="assertionIndent"> </span>value ∈ S ∧ found</div></div>

<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">→.  Re-establish invariant.</div>Tree(root, S) ∧<br/><span class="assertionIndent"> </span>∃Q. Tree(i, Q) ∧ (value ∈ Q) ↔ (value ∈ S)<br/><span class="assertionIndent"> </span>∧ found → (value ∈ S)</div></div>
<pre class="prettyprint">    }
    else { </pre>
<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Assert else-condition.  Equality.</div>Tree(root, S) ∧<br/><span class="assertionIndent"> </span>∃Q, v. TopOfTree(i, v, Q) ∧ (value ∈ Q) ↔ (value ∈ S) ∧ v ≠ value<br/><span class="assertionIndent"> </span>∧ found → (value ∈ S)<br/><span class="assertionIndent"> </span>∧ ¬found</div></div>
<pre class="prettyprint">
      Node* next = descend(i, value);
 </pre>
<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Assert else-condition.  Equality.</div>Tree(root, S) ∧<br/><span class="assertionIndent"> </span>∃Q, v. TopOfTree(i, v, Q) ∧ (value ∈ Q) ↔ (value ∈ S) ∧ v ≠ value<br/><span class="assertionIndent"> </span>∧ found → (value ∈ S)<br/><span class="assertionIndent"> </span>∧ ¬found</div></div>
<pre class="prettyprint">
      i = next;
    }
  }
  return found;
}
 </pre></section>
  </section>

  <section>
    <h4>Iterative <code>insert</code></h4>

    <section class="generated_listing" xml:base="../../code/d/html/bst/insert/iterative.d.html"><pre class="prettyprint">module bst.insert.iterative;

import bst.node;


const bool insert_parent_pointer = true;


static if (insert_parent_pointer) {

  Node* insert(Node * root, int value) {

    Node*  p = null,
      i = root;
    int dir;

    while (i) {
      if (value == i.value) return root;
      else {
	p = i;
	dir = value &gt; i.value;
	i = i.c[dir];
      }
    }
    assert(!i);

    auto n = new Node(value);

    if (p) {
      p.c[dir] = n;
      return root;
    }
    else {
      return n;
    }
  }

} else {  // !insert_parent_pointer

  Node* insert(Node * root, int value) {

    if(!root) {
      root = new Node(value);
    }
    else {
      Node* i = root;
      while (i) {
	if (value == i.value) {
	  return root;
	}
	else {
	  int dir = value &gt; i.value;
	  if (i.c[dir]) i = i.c[dir];
	  else {
	    i.c[dir] = new Node(value);
	    return root;
	  }
	}
      }
    }
    return root;
  }

} </pre></section>
  </section>

  <section>
    <h4>Iterative <code>remove</code></h4>

    <p>
      Here's <code>removeMax</code>:

      <!--<xi:include href="../../code/d/html/bst/remove/removeMax/iterative.d.html" />-->
    </p>

    <p>
      The <code>removeRoot</code> code is the same as in the recursive section.
    </p>

    <p>
      Here's <code>remove</code>:

      <section class="generated_listing" xml:base="../../code/d/html/bst/remove/iterative.d.html"><pre class="prettyprint">module bst.remove.iterative;

import bst.node;
import bst.remove.removeRoot;


Node * remove(Node * root, int value) {
  Node * o;
  if (!root) {
    o = null;
  }
  else if (value == root.value) {
    o = removeRoot(root);
  }
  else {
    o = root;

    Node* p = o;
    int dir = value &gt; p.value;
    Node* i = p.c[dir];
 </pre>
<div class="section"><pre class="indent">    </pre><div class="CommentParagraph">iterate until i is the node to delete
then set link in p to removeRoot(i).</div></div>
<pre class="prettyprint">    while (i &amp;&amp; i.value != value) {
      p = i;
      dir = value &gt; p.value;
      i = i.c[dir];
    }
    assert(!i || i.value == value);
    assert(dir == (value &gt; p.value));

    if (i) {
      p.c[dir] = removeRoot(i);
    }
  }

  return o;
} </pre></section>
    </p>
  </section>
</section>
</section>
      <section xml:base="rbt/rbt.html">
  
  <h2>Verifying the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr></h2>

  <p>
    The <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> inherits ideas from the AVL tree and the B-tree.
    It has the same goals and performance guarantees as the AVL tree,
    and uses the same tree mutation to achieve them: rotations.
    However, it can also be seen as 
    a mapping of a B-tree of degree <span class="var">t</span> = 2 onto a <abbr title="Binary Search Tree" class="smallcaps">BST</abbr>;
    <i>i.e.</i>,
    a B-tree where the number of elements <span class="var">e</span> is 1 ≤ <span class="var">e</span> ≤ 3
    (and therefore the number of links <span class="var">l</span> is 2 ≤ <span class="var">l</span> ≤ 4).
    This has the advantage over the B-tree that
    adjusting a node does not require copying,
    and less-than-full nodes do not hold unused allocated memory.
  </p>

  <p>
    In such a B-tree,
    a 3-node (a node that can contain up to 3 elements)
    is structured as three element-sized spaces adjacent in memory.
    The <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> instead uses <span class="var">n</span> 1-nodes to represent an <span class="var">n</span>-element pseudonode.
    The first 1-node (there must be at least one) is signaled to be representative of the pseudonode by being <q>colored black</q>
    (which simply means a flag is set at the node).
    This node is the target of child links from parent pseudonodes.
    It is accompanied by zero, one or two more 1-nodes,
    which contain the other elements in the pseudonode,
    and which are <q>colored red</q> (which means the flag at the node is not set).
    All accompanying <q>red nodes</q> are pointed at by a child pointer of the black node.
  </p>

  <p>
    Because of the isomorphism between the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> and the B-tree,
    the colors of the nodes are not arbitrary.
    Specifically:

    <ol>
      <li>
	<strong>A node is either red or black.</strong>
      </li>
      <li>
	<strong>The root is black.</strong>
	(The root node is representative of the root pseudonode.)
      </li>
      <li>
	<strong>Leaf (null) nodes are black.</strong>
      </li>
      <li>
	<strong>Red nodes cannot have red children (the <q>red rule</q>).</strong>
      </li>
      <li>
	<strong>For any node, all simple paths to a descendant leaf have the same number of black nodes (the <q>black rule</q>).</strong>
	This number is the node's <em>black-height</em>.
	This is equivalent to the B-tree rule that all leaves have the same depth.
      </li>
    </ol>
  </p>

  <p>
    We now want to define the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> recursively.
    We can then describe a node pointer.
  </p>

  <p>
    The representative-node's <code>left</code> and <code>right</code> pointers have two roles.
    Where side-nodes exist,
    the pointers point to these.
    (Note this implies that, if the analogous 3-node is full,
    the representative-node will hold the middle element.)
    Where a side-node is absent,
    the corresponding pointer instead points directly to the appropriate child representative-node.
    <span class="note">
      Herein lies the space-saving and copy-reducing aspects of the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr>,
      analogous to the benefits of the <abbr title="Binary Search Tree" class="smallcaps">BST</abbr> over an array.
    </span>
    A side-node's pointers must point to a child representative-node.
    (All pointers may instead be to <code>null</code> nodes, at which the tree terminates.)
  </p>

  <p>
    How are we to know whether a pointer leads us to a side-node or a child representative-node?
    The approach of Guibas and Sedgewick was to give the pointer a <em>color</em>:
    pointers to representative-nodes are black,
    and pointers to side-nodes are red.
    In the literature, this has been transformed into the equivalent rule that
    representative-nodes are colored black,
    and side-nodes are colored red.
    This has been shortened to simply <q>red nodes</q> and <q>black nodes</q>.
  </p>

  <p>
    We can now state the properties of the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr>,
    and relate them to the B-tree:
  </p>


  <p>
    From the B-tree analogy,
    it should already be evident that the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> enforces balance.
    However, we can also see this from the last two <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> properties.
    Precisely, we can show that,
    for any node, the longest path to a descendant leaf
    is no more than double the length of the shortest path to a descendant leaf.
    If the node has black-height <span class="var">h</span>,
    then both the shortest and longest path consist of <span class="var">h</span> black nodes (by property 5), interspersed with red nodes.
    The shortest path will contain no red nodes
    (because excising one maintains the \RBt properties and makes the path shorter),
    and therefore has length <span class="var">h</span>.
    The longest path will contain one red node between each pair of black nodes
    (because introducing another violates property 4),
    and therefore has length 2<span class="var">h</span>−1.
  </p>

  <p>
    <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> operations feel like B-tree operations.
    When inserting a new node, we color it red,
    and insert it as we would in a <abbr title="Binary Search Tree" class="smallcaps">BST</abbr>.
    Then, if its parent is black, we're done
    (analogous to there being space in a leaf 3-node).
    Otherwise, the parent is red, and we have violated the red rule.
    We know the grandparent is black.
    We check the color of the uncle.
    If the uncle is red, we do a color swap on the parent, grandparent, and uncle,
    and move up the tree to look for a possible red violation.
    This is analogous to a 3-node being full, splitting it, and moving the median up.
    However, if the uncle is black,
    we do a single rotation on the grandparent and some recoloring, and stop.
    This is analogous to there being free space <q>on the other side</q> of the 3-node.
  </p>

  <section>
    <h4>Simplifications of the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr></h4>

    <p>
      The standard <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> is sometimes seen as overly complex.
      More precisely,
      the number of violating cases that the algorithms have to rectify
      is seen as too large.
      In response, there are simplifications of the standard <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr>.
      One is the AA-tree,
      which has the additional requirement that
      red nodes must be right children.
      In the B-tree analogy, they are 2-3 trees.
      This reduces seven cases to two.
    </p>

    <p>
      Another is the Left-Leaning Red-Black tree,
      introduced by Sedgewick.
      In a similar spirit,
      it reduces the number of cases,
      enforcing that
      no node may have a black left child and a red right child.
      This means that, in the B-tree analogy,
      a 3-node only has a single representation in the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr>.
      Unlike the AA-tree, this is still analogous to a 2-3-4 tree.
      The main advantage is code simplicity:
      <code>insert</code> takes 33 lines <i>vs.</i> 150 lines.
    </p>

    <p>
      I find these simplifications unsatisfying.
      The gain in code simplicity results in a loss of conceptual clarity.
      More importantly, the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> algorithms can be drastically shortened
      by tackling the symmetric cases using the same code,
      while remaining semantically equivalent.
      A simple technique
      uses a two-element array of child pointers
      instead of a <code>left</code> and a <code>right</code> pointer.
      <span class="note">Julienne Walker, jsw</span>
    </p>

    <p>
      This allows the direction (left or right) to be parameterized,
      encoded as either a <span class="constant">0</span> or <span class="constant">1</span>.
      The direction can thus be reversed with with the C <code>!</code> operator.
    </p>
  </section>

  <p>
    As before, I verify recursive algorithms for <code>search</code>, <code>insert</code>, and <code>remove</code>.
    Finally, I will verify iterative algorithms for the same procedures.
  </p>

<section>
  
  <h3>The <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> data structure</h3>

  <p>
    We need to define some predicates to describe the state of the tree
    at various points in the procedures—types of valid and <q>invalid</q> trees and subtrees.
    We use the same <span class="pred_name">Compose</span> predicate as before.
  </p>

  <p>
    It is convenient to think of an <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> as composed of <q>red-rooted</q> trees and <q>black-rooted</q> trees.
    I use separate predicates for each: <span class="pred_name">RT</span> and <span class="pred_name">BT</span>.
  </p>

  <p>
    Here is the recursive data structure represented graphically:
  </p>

  <p>
    A red-rooted tree, <span class="pred_name">RT</span>, looks like this:

    <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="177.16536" height="221.4567" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="RT.svg">
  <defs id="defs4">
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.979899" inkscape:cx="-132.04716" inkscape:cy="69.727466" inkscape:document-units="mm" inkscape:current-layer="layer1" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="2.5mm" spacingy="2.5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(-186.02362,-308.26769)">
    <g id="g7054" transform="translate(-265.74801,104.29833)">
      <g id="g9246" transform="translate(256.88973,196.88277)">
        <g transform="translate(-8.8582671,-2.3025345e-6)" id="g9262">
          <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path9264" d="m 265.74804,148.81888 -17.71654,35.43307 35.43308,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="265.74805" y="195.96849" id="text9266" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9268" x="265.74805" y="195.96849" style="font-size:10.50000000000000000px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(L, <tspan style="font-style:italic" id="tspan22535">h</tspan>)</tspan></text>
        </g>
        <text sodipodi:linespacing="125%" id="text9270" y="219.40155" x="283.46457" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="219.40155" x="283.46457" id="tspan9272" sodipodi:role="line">3T(L ∪ {v} ∪ R, <tspan style="font-style:italic" id="tspan22533">h</tspan>)</tspan></text>
        <path transform="translate(-70.866133,7.0866)" sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path9274" d="m 354.33071,35.433065 -79.72441,159.448815 159.44882,0 z" style="fill:none;stroke:#ff0000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <g id="g9276" transform="translate(44.291339,-2.3025345e-6)">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 265.74804,148.81888 -17.71654,35.43307 35.43308,0 z" id="path9278" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
          <text sodipodi:linespacing="125%" id="text9280" y="195.96849" x="265.74805" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.50000000000000000px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="195.96849" x="265.74805" id="tspan9282" sodipodi:role="line">BT(R, <tspan style="font-style:italic" id="tspan22537">h</tspan>)</tspan></text>
        </g>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 283.46458,95.669271 26.5748,53.149609" id="path9248" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path9252" d="M 283.46458,95.669271 256.88977,148.81888" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
        <g transform="translate(7.2778187e-6,-33.433071)" id="g9254">
          <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path9256" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text9258" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9260" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
        </g>
        <path sodipodi:nodetypes="cc" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 283.46458,7.0865926 0,70.8661414" id="path9250" inkscape:connector-curvature="0"/>
      </g>
    </g>
  </g>
</svg>
  </p>

  <p>
    A red-rooted tree pointed to by <code>n</code> represents set <span class="st">S</span> with a tree of black-height <span class="var">bh</span> if

    <table class="displaymath">
      <tr>
	<td><span class="pred_name">RT</span>(<code>n</code>, <span class="st">S</span>, <span class="var">bh</span>) =</td>
	<td>
	  ∃ <span class="var">v</span>, <span class="var">c[0]</span>, <span class="var">c[1]</span>, <span class="st">L</span>, <span class="st">R</span>.
	</td>
	<td>there exist element <span class="var">v</span> and sets <span class="st">L</span> and <span class="st">R</span></td>
      </tr>
      <tr>
	<td/>
	<td><span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>) ∧</td>
	<td>such that <span class="st">L</span>, <span class="var">v</span> and <span class="st">R</span> make up <span class="st">S</span>, and</td>
      </tr>
      <tr>
	<td/>
	<td>
	  <e:fst><code>n</code></e:fst> ↦ <e:snd><span class="var">v</span>, <span class="var">c[0]</span>, <span class="var">c[1]</span>, <span class="constant">false</span></e:snd> ∗
	</td>
	<td><code>n</code> points to a red node containing <span class="var">v</span> and child pointers</td>
      </tr>
      <tr>
	<td/>
	<td>
	  <span class="pred_name">BT</span>(<span class="var">c[0]</span>, <span class="st">L</span>, <span class="var">bh</span>) ∗
	</td>
	<td>to black trees representing <span class="st">L</span></td>
      </tr>
      <tr>
	<td/>
	<td>
	  <span class="pred_name">BT</span>(<span class="var">c[1]</span>, <span class="st">R</span>, <span class="var">bh</span>)
	</td>
	<td>and <span class="st">R</span>, with the same black height.</td>
      </tr>
    </table>
  </p>

  <p>
    There's only one kind of RT, as the rules demand both children are black.
    However, there are multiple types of BT, analogous to the multiple node types in a 2,3,4-tree.
    There are two-nodes, in which both children are also black.
    There are three-nodes, in which one child is black (a BT) and one is red (an RT).
    That is, the RBT rules have two representations of a three-node:
    where the left child is the RT (<q>left-leaning</q>),
    and where the right child is the RT (<q>right-leaning</q>).
    Finally, there are four-nodes, where both children are RTs.
  </p>

  <p>
    First, two-nodes (2T).
    Two distinct types of two-node exist: empty and non-empty.
    The empty tree <span class="pred_name">ET</span> is easiest to describe, and looks like this:

    <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="177.16536" height="221.4567" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="ET.svg">
  <defs id="defs4">
    <marker inkscape:stockid="SquareM" orient="auto" refY="0.0" refX="0.0" id="SquareM" style="overflow:visible">
      <path id="path10104" d="M -5.0,-5.0 L -5.0,5.0 L 5.0,5.0 L 5.0,-5.0 L -5.0,-5.0 z " style="fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none" transform="scale(0.4)"/>
    </marker>
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.979899" inkscape:cx="53.976462" inkscape:cy="69.727466" inkscape:document-units="mm" inkscape:current-layer="g7054" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="2.5mm" spacingy="2.5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(4e-6,-308.26769)">
    <g id="g7054" transform="translate(-265.74801,104.29833)">
      <g transform="translate(70.866106,196.88277)" id="g3889">
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="283.46457" y="219.40155" id="text3852-9" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0" x="283.46457" y="219.40155" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">ET(∅, 0)</tspan></text>
        <path inkscape:connector-curvature="0" id="path6429-4" d="m 283.46458,7.0865926 0,88.5826774" style="fill:none;stroke:#000000;stroke-width:1.06299213;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#SquareM)" sodipodi:nodetypes="cc"/>
      </g>
    </g>
  </g>
</svg>
  </p>

  <p>
    The empty tree:

    <table class="displaymath">
      <tbody>
	<tr>
	  <td><span class="pred_name">ET</span>(<code>n</code>, <span class="st">S</span>, <span class="var">bh</span>) =</td>
	  <td><e:fst><code>n</code></e:fst> = <e:snd><code>null</code></e:snd> ∧</td>
	  <td><span class="var">n</span> is <code>null</code>,</td>
	</tr>
	<tr>
	  <td/>
	  <td><e:fst><span class="st">S</span></e:fst> = <e:snd>∅</e:snd> ∧</td>
          <td>the tree represents the empty set,</td>
	</tr>
	<tr>
	  <td/>
	  <td><b>emp</b> ∧</td>
          <td>the heap is empty,</td>
	</tr>
	<tr>
	  <td/>
	  <td><e:fst><span class="var">bh</span></e:fst> = <e:snd><span class="constant">1</span></e:snd></td>
          <td>and we have a black-height of 1.</td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    Next we capture the non-empty two-node.
    
    <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="177.16536" height="221.4567" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="2T.svg">
  <defs id="defs4">
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.979899" inkscape:cx="53.976462" inkscape:cy="69.727466" inkscape:document-units="mm" inkscape:current-layer="g3889" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="2.5mm" spacingy="2.5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(4e-6,-308.26769)">
    <g id="g7054" transform="translate(-265.74801,104.29833)">
      <g transform="translate(70.866106,196.88277)" id="g3889">
        <g id="g3861" transform="translate(-8.8582671,-2.3025345e-6)">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 265.74804,148.81888 -17.71654,35.43307 35.43308,0 z" id="path3828" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
          <text sodipodi:linespacing="125%" id="text3836" y="195.96849" x="265.74805" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="195.96849" x="265.74805" id="tspan3838" sodipodi:role="line">BT(L, <tspan style="font-style:italic" id="tspan21101">h</tspan>-1)</tspan></text>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="283.46457" y="219.40155" id="text3852-9" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0" x="283.46457" y="219.40155" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">2T(L ∪ {<tspan style="font-style:italic" id="tspan21097">v</tspan>} ∪ R, <tspan style="font-style:italic" id="tspan21099">h</tspan>)</tspan></text>
        <path style="fill:none;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,35.433065 -79.72441,159.448815 159.44882,0 z" id="path9226" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc" transform="translate(-70.866133,7.0866)"/>
        <g transform="translate(44.291339,-2.3025345e-6)" id="g9236">
          <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path9238" d="m 265.74804,148.81888 -17.71654,35.43307 35.43308,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="265.74805" y="195.96849" id="text9240" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9242" x="265.74805" y="195.96849" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(R, <tspan style="font-style:italic" id="tspan21103">h</tspan>-1)</tspan></text>
        </g>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path9244" d="m 283.46458,95.669271 26.5748,53.149609" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
        <path inkscape:connector-curvature="0" id="path6429-4" d="m 283.46458,7.0865926 0,70.8661414" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" sodipodi:nodetypes="cc"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="M 283.46458,95.669271 256.88977,148.81888" id="path3834" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <g id="g3856" transform="translate(7.2778187e-6,-35.433071)">
          <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path3804" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text3004" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan3006" sodipodi:role="line">v</tspan></text>
        </g>
      </g>
    </g>
  </g>
</svg>
  </p>

  <p>
    Represents set <span class="st">S</span> with black-height <span class="var">bh</span> if

    <table class="displaymath">
      <tbody>
	<tr>
	  <td><span class="pred_name">N2T</span>(<code>n</code>, <span class="st">S</span>, <span class="var">bh</span>) =</td>
	  <td>∃ <span class="var">v</span>, <span class="var">c[0]</span>, <span class="var">c[1]</span>, <span class="st">L</span>, <span class="st">R</span>.</td>
	  <td>there exist element <span class="var">v</span> and sets <span class="st">L</span> and <span class="st">R</span></td>
	</tr>
	<tr>
	  <td/>
	  <td><span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>) ∧</td>
	  <td>such that <span class="st">L</span>, <span class="var">v</span> and <span class="st">R</span> make up <span class="st">S</span>, and</td>
	</tr>
	<tr>
	  <td/>
	  <td><e:fst><code>n</code></e:fst> ↦ <e:snd><span class="var">v</span>, <span class="var">c[0]</span>, <span class="var">c[1]</span>, <span class="constant">true</span></e:snd> ∗</td>
	  <td><code>n</code> points to a black node containing <span class="var">v</span> and pointers</td>
	</tr>
	<tr>
	  <td/>
	  <td><span class="pred_name">BT</span>(<span class="var">c[0]</span>, <span class="st">L</span>, <e:fst><span class="var">bh</span></e:fst> − <e:snd>1</e:snd>) ∗</td>
	  <td>to black trees representing <span class="st">L</span> and <span class="st">R</span>,</td>
	</tr>
	<tr>
	  <td/>
	  <td><span class="pred_name">BT</span>(<span class="var">c[1]</span>, <span class="st">R</span>, <e:fst><span class="var">bh</span></e:fst> − <e:snd>1</e:snd>)</td>
          <td>which have one less black height.</td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    A general <span class="pred_name">2T</span> is either empty or non-empty:

    <div class="displaymath">
      <span class="pred_name">2T</span>(<code>n</code>, <span class="st">S</span>, <span class="var">bh</span>) =
      <e:fst><span class="pred_name">ET</span>(<code>n</code>, <span class="st">S</span>, <span class="var">bh</span>)</e:fst> ∨ <e:snd><span class="pred_name">N2T</span>(<code>n</code>, <span class="st">S</span>, <span class="var">bh</span>)</e:snd>
    </div>
  </p>

  <p>
    Next, three-nodes.
    We could create predicates <span class="pred_name">LeftLeaning3T</span> and <span class="pred_name">RightLeaning3T</span>,
    but then we lose the benefit of parameterizing the link direction.
    So we parameterize the predicate.
    Here's the left-leaning three-node:

    <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="177.16536" height="221.4567" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="3T0.svg">
  <defs id="defs4">
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.979899" inkscape:cx="53.976462" inkscape:cy="69.727466" inkscape:document-units="mm" inkscape:current-layer="g7054" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="2.5mm" spacingy="2.5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(4e-6,-308.26769)">
    <g id="g7054" transform="translate(-265.74801,104.29833)">
      <g transform="translate(70.866106,196.88277)" id="g3889">
        <g id="g3861" transform="translate(-8.8582671,-2.3025345e-6)">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:3.54330707000000000;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 265.74804,148.81888 -17.71654,35.43307 35.43308,0 z" id="path3828" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
          <text sodipodi:linespacing="125%" id="text3836" y="195.96849" x="265.74805" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="195.96849" x="265.74805" id="tspan3838" sodipodi:role="line">RT(L, <tspan style="font-style:italic" id="tspan21101">h</tspan>-1)</tspan></text>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="283.46457" y="219.40155" id="text3852-9" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0" x="283.46457" y="219.40155" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">3T(L ∪ {<tspan style="font-style:italic" id="tspan21097">v</tspan>} ∪ R, <tspan style="font-style:italic" id="tspan21099">h</tspan>, 0)</tspan></text>
        <path style="fill:none;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,35.433065 -79.72441,159.448815 159.44882,0 z" id="path9226" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc" transform="translate(-70.866133,7.0866)"/>
        <g transform="translate(44.291339,-2.3025345e-6)" id="g9236">
          <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path9238" d="m 265.74804,148.81888 -17.71654,35.43307 35.43308,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707000000000;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="265.74805" y="195.96849" id="text9240" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9242" x="265.74805" y="195.96849" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(R, <tspan style="font-style:italic" id="tspan21103">h</tspan>-1)</tspan></text>
        </g>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path9244" d="m 283.46458,95.669271 26.5748,53.149609" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
        <path inkscape:connector-curvature="0" id="path6429-4" d="m 283.46458,7.0865926 0,70.8661414" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" sodipodi:nodetypes="cc"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="M 283.46458,95.669271 256.88977,148.81888" id="path3834" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <g id="g3856" transform="translate(7.2778187e-6,-35.433071)">
          <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path3804" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text3004" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan3006" sodipodi:role="line">v</tspan></text>
        </g>
      </g>
    </g>
  </g>
</svg>
    <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="177.16536" height="221.4567" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="3T1.svg">
  <defs id="defs4">
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.979899" inkscape:cx="53.976462" inkscape:cy="69.727466" inkscape:document-units="mm" inkscape:current-layer="g3889" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="2.5mm" spacingy="2.5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(4e-6,-308.26769)">
    <g id="g7054" transform="translate(-265.74801,104.29833)">
      <g transform="translate(70.866106,196.88277)" id="g3889">
        <g id="g3861" transform="translate(-8.8582671,-2.3025345e-6)">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707000000000;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 265.74804,148.81888 -17.71654,35.43307 35.43308,0 z" id="path3828" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
          <text sodipodi:linespacing="125%" id="text3836" y="195.96849" x="265.74805" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="195.96849" x="265.74805" id="tspan3838" sodipodi:role="line">BT(L, <tspan style="font-style:italic" id="tspan21101">h</tspan>-1)</tspan></text>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="283.46457" y="219.40155" id="text3852-9" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0" x="283.46457" y="219.40155" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">3T(L ∪ {<tspan style="font-style:italic" id="tspan21097">v</tspan>} ∪ R, <tspan style="font-style:italic" id="tspan21099">h</tspan>, 1)</tspan></text>
        <path style="fill:none;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,35.433065 -79.72441,159.448815 159.44882,0 z" id="path9226" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc" transform="translate(-70.866133,7.0866)"/>
        <g transform="translate(44.291339,-2.3025345e-6)" id="g9236">
          <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path9238" d="m 265.74804,148.81888 -17.71654,35.43307 35.43308,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:3.54330707000000000;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="265.74805" y="195.96849" id="text9240" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9242" x="265.74805" y="195.96849" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(R, <tspan style="font-style:italic" id="tspan21103">h</tspan>-1)</tspan></text>
        </g>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path9244" d="m 283.46458,95.669271 26.5748,53.149609" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
        <path inkscape:connector-curvature="0" id="path6429-4" d="m 283.46458,7.0865926 0,70.8661414" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" sodipodi:nodetypes="cc"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="M 283.46458,95.669271 256.88977,148.81888" id="path3834" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <g id="g3856" transform="translate(7.2778187e-6,-35.433071)">
          <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path3804" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text3004" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan3006" sodipodi:role="line">v</tspan></text>
        </g>
      </g>
    </g>
  </g>
</svg>
  </p>

  <p>
    <span class="note">The right-leaning node is symmetrical, with link direction 1 and the children's colors swapped.</span>

    <table class="displaymath">
      <tbody>
	<tr>
	  <td><span class="pred_name">3T</span>(n, S, bh, 0) =</td>
	  <td>∃ v, c[0], c[1], L, R.</td>
	  
	</tr>
	<tr>
	  <td/>
	  <td>Compose(L, v, R, S)  ∧</td>
	</tr>
	<tr>
	  <td/>
	  <td>n↦v,c[0],c[1],true ∗</td>
	</tr>
	<tr>
	  <td/>
	  <td>RT(c[0], L, bh-1) ∗</td>
	</tr>
	<tr>
	  <td/>
	  <td>BT(c[1], R, bh-1).</td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    A general three-node is simply one that's left-leaning or right-leaning:

    <table class="displaymath">
      <tbody>
	<tr>
	  <td>3T(n, S, bh) =</td>
	  <td>3T(n, S, bh, 0) ||</td>
	</tr>
	<tr>
	  <td/>
	  <td>3T(n, S, bh, 1).</td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    Four-nodes are easier, as there is only one case:

    <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="177.16536" height="221.4567" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="4T.svg">
  <defs id="defs4">
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.979899" inkscape:cx="53.976462" inkscape:cy="69.727466" inkscape:document-units="mm" inkscape:current-layer="g7054" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="2.5mm" spacingy="2.5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(4e-6,-308.26769)">
    <g id="g7054" transform="translate(-265.74801,104.29833)">
      <g transform="translate(70.866106,196.88277)" id="g3889">
        <g id="g3861" transform="translate(-8.8582671,-2.3025345e-6)">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:3.54330707000000000;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 265.74804,148.81888 -17.71654,35.43307 35.43308,0 z" id="path3828" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
          <text sodipodi:linespacing="125%" id="text3836" y="195.96849" x="265.74805" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="195.96849" x="265.74805" id="tspan3838" sodipodi:role="line">RT(L, <tspan style="font-style:italic" id="tspan21101">h</tspan>-1)</tspan></text>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="283.46457" y="219.40155" id="text3852-9" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0" x="283.46457" y="219.40155" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">4T(L ∪ {<tspan style="font-style:italic" id="tspan21097">v</tspan>} ∪ R, <tspan style="font-style:italic" id="tspan21099">h</tspan>)</tspan></text>
        <path style="fill:none;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,35.433065 -79.72441,159.448815 159.44882,0 z" id="path9226" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc" transform="translate(-70.866133,7.0866)"/>
        <g transform="translate(44.291339,-2.3025345e-6)" id="g9236">
          <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path9238" d="m 265.74804,148.81888 -17.71654,35.43307 35.43308,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:3.54330707000000000;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="265.74805" y="195.96849" id="text9240" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9242" x="265.74805" y="195.96849" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(R, <tspan style="font-style:italic" id="tspan21103">h</tspan>-1)</tspan></text>
        </g>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path9244" d="m 283.46458,95.669271 26.5748,53.149609" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
        <path inkscape:connector-curvature="0" id="path6429-4" d="m 283.46458,7.0865926 0,70.8661414" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" sodipodi:nodetypes="cc"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="M 283.46458,95.669271 256.88977,148.81888" id="path3834" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <g id="g3856" transform="translate(7.2778187e-6,-35.433071)">
          <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path3804" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text3004" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan3006" sodipodi:role="line">v</tspan></text>
        </g>
      </g>
    </g>
  </g>
</svg>
  </p>

  <p>
    <table class="displaymath">
      <tbody>
	<tr>
	  <td>4T(n, S, bh, 0) =</td>
	  <td>∃ v, c[0], c[1], L, R.</td>
	</tr>
	<tr>
	  <td/>
	  <td>Compose(L, v, R, S)  ∧</td>
	</tr>
	<tr>
	  <td/>
	  <td>n↦v,c[0],c[1],true ∗</td>
	</tr>
	<tr>
	  <td/>
	  <td>RT(c[0], L, bh-1) ∗</td>
	</tr>
	<tr>
	  <td/>
	  <td>RT(c[1], R, bh-1)</td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    We define a general black tree (BT) as one of the valid pseudo-node types:

    <table class="displaymath">
      <tbody>
	<tr>
	  <td>BT(n, S, bh) =</td>
	  <td>2T(n, S, bh) ||</td>
	</tr>
	<tr>
	  <td/>
	  <td>3T(n, S, bh) ||</td>
	</tr>
	<tr>
	  <td/>
	  <td>4T(n, S, bh).</td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    We wrap things up with a separate RBT predicate:

    <div class="displaymath">
      RBT(n, S) = ∃ bh. BT(n, S, bh).
    </div>
  </p>

  <p>
    The above predicates describe valid parts of an RBT.
    Through the procedures, however, we have trees that are invalid, but have some guarantees.
    A red-violated tree is one with a red root and one RT as a child.
    As with the three-node, it swings both ways, so requires parameterization:

    <table class="displaymath">
      <tbody>
	RVT(n, S, bh, 0) =        // left-leaning red-violated tree
	∃ v, c[0], c[1], L, R.
	Compose(L, v, R, S)  ∧
	n↦v,c[0],c[1],false ∗
	RT(c[0], L, bh) ∗
	BT(c[1], R, bh).
      </tbody>
    </table>
  </p>

<!--


  RVT(n, S, bh, 1) =        // right-leaning red-violated tree
    ∃ v, c[0], c[1], L, R.
    Compose(L, v, R, S)  ∧
    n↦v,c[0],c[1],false ∗
    BT(c[0], L, bh) ∗
    RT(c[1], R, bh).
-->

</section>
<section>
  
  <h3>Recursive <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> algorithms</h3>

  <p>
    As the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> data structure is just an augmentation of the <abbr title="Binary Search Tree" class="smallcaps">BST</abbr> data structure,
    the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> <code>search</code> algorithm
    is basically identical to the <abbr title="Binary Search Tree" class="smallcaps">BST</abbr> <code>search</code> algorithm,
    in both recursive and iterative versions,
    so I exclude it here.
  </p>

  <section>
    <h4>A recursive <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> <code>insert</code> algorithm</h4>

    <p>
      Here is how the <code>ins_bal</code> procedure works:

      <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="938.97638" height="1027.5591" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="recursive_insert_bal.svg" inkscape:export-filename="/home/james/inst/edu/3-msc/net-storage/terms/3/verifying-concurrent-indexes/paper/rbt/recursive_insert_bal.png" inkscape:export-xdpi="90" inkscape:export-ydpi="90">
  <defs id="defs4">
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-6" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker17839" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path17841" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="SquareM" style="overflow:visible">
      <path id="path10104" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="SquareM-0" style="overflow:visible">
      <path id="path10104-7" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="marker18011" style="overflow:visible">
      <path id="path18013" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-4" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker18709" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path18711" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-1" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="0.7" inkscape:cx="767.80754" inkscape:cy="424.83162" inkscape:document-units="mm" inkscape:current-layer="layer1" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="5mm" spacingy="5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(0.53125,-308.78934)">
    <g id="g7054" transform="translate(2.6627089e-5,86.582635)">
      <rect style="fill:#b0aee2;fill-opacity:1;stroke:none" id="rect4527-36-6-5" width="230.31494" height="35.433033" x="34.901794" y="257.63977" ry="0.28726187"/>
      <rect ry="1.149049" y="293.07278" x="34.901764" height="141.73235" width="230.31496" id="rect4525-86-1-3" style="fill:#dbdaf2;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text4239-51-8-6" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line" id="tspan17819"><tspan style="font-weight:bold" id="tspan3553">Precondition: </tspan>Non-empty tree.  Subtrees <tspan style="font-style:italic" id="tspan19124">r</tspan></tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan19291">and <tspan style="font-style:italic" id="tspan19126">l</tspan> at height h; <tspan style="font-style:italic" id="tspan19122">l </tspan>is RVT(h), RT(h) or BT(h).</tspan></text>
      <path inkscape:connector-curvature="0" id="path9862-6" d="m 176.63408,328.5059 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="m 176.63408,328.50584 -70.86614,35.43314" id="path9864-5" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 176.63408,328.50584 35.43307,17.71661" id="path9870-7" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g9872-9" transform="translate(-106.8305,197.4035)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path9874-6" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text9876-4" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan9878-9" sodipodi:role="line">v</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="184.33485" y="317.93893" id="text9928-8" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9930-5" x="184.33485" y="317.93893" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="225.78369" y="346.22247" id="text11474-4" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11476-8" x="225.78369" y="346.22247" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <g id="g9892-3" transform="translate(-106.83049,161.9705)">
        <path inkscape:connector-curvature="0" id="path9894-1" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text9896-7" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan9898-8" sodipodi:role="line">r</tspan></text>
      </g>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19279" d="M 105.76794,363.93898 70.334868,381.65552" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 105.76794,363.93898 35.43307,17.71654" id="path19281" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g transform="translate(-177.69663,232.83664)" id="g19271">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path19273" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text19275" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19277" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lv</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19295" y="346.22247" x="85.783684" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="346.22247" x="85.783684" id="tspan19297" sodipodi:role="line">h</tspan></text>
      <g id="g9880-0" transform="translate(-106.83049,197.40357)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path9882-6" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text9884-1" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9886-6" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lr</tspan></text>
        <text sodipodi:linespacing="125%" id="text9888-6" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan9890-6" sodipodi:role="line"/></text>
      </g>
      <g transform="translate(-177.69663,197.40357)" id="g19255">
        <path inkscape:connector-curvature="0" id="path19257" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text19259" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan19261" sodipodi:role="line">ll</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text19263" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19265" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
    </g>
    <g id="g18103" transform="translate(2.992126e-7,70.86613)">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.334919" y="462.52161" id="text3852-9-8-5-9" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0-8-3-0" x="62.334919" y="462.52161" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Test color of <tspan style="font-style:italic" id="tspan19299">l</tspan> node</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="61.77824" y="479.22571" id="text6246-4" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6248-6" x="61.77824" y="479.22571" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan19301">l</tspan> is red</tspan></text>
      <path inkscape:connector-curvature="0" id="path7198-2" d="m 52.618356,450.52163 0,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
      <text transform="matrix(0,-1,1,0,0,0)" sodipodi:linespacing="125%" id="text17963" y="294.64984" x="-341.95471" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="294.64984" x="-341.95471" id="tspan17965" sodipodi:role="line"><tspan style="font-style:italic" id="tspan19303">l</tspan> is black</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618356,468.23816 230.314964,0 0,-177.16535 17.71653,0" id="path18101" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
    </g>
    <path inkscape:connector-curvature="0" id="path7198-2-0" d="m 52.618356,308.78935 0,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    <g transform="translate(265.74806,86.582636)" id="g19305">
      <rect ry="0.28726187" y="257.63977" x="34.901794" height="35.433033" width="230.31494" id="rect19307" style="fill:#b7e2ae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#def2da;fill-opacity:1;stroke:none" id="rect19309" width="230.31496" height="141.73235" x="34.901764" y="293.07278" ry="1.149049"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text19311" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan19411">Left subtree, as black-rooted, must be BT(h).</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 176.63408,328.5059 0,-35.43306" id="path19325" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19327" d="m 176.63408,328.50584 -70.86614,35.43314" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19329" d="m 176.63408,328.50584 35.43307,17.71661" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-106.8305,197.4035)" id="g19331">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path19333" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text19335" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19337" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19339" y="317.93893" x="184.33485" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.93893" x="184.33485" id="tspan19341" sodipodi:role="line"/></text>
      <text sodipodi:linespacing="125%" id="text19343" y="346.22247" x="225.78369" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="346.22247" x="225.78369" id="tspan19345" sodipodi:role="line">h</tspan></text>
      <g transform="translate(-106.83049,161.9705)" id="g19347">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path19349" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text19351" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19353" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="M 105.76794,363.93898 70.334868,381.65552" id="path19355" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19357" d="m 105.76794,363.93898 35.43307,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <g id="g19359" transform="translate(-177.69663,232.83664)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path19361" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text19363" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan19365" sodipodi:role="line">lv</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="77.783684" y="346.22247" id="text19367" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19369" x="77.783684" y="346.22247" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <g transform="translate(-106.83049,197.40357)" id="g19371">
        <path inkscape:connector-curvature="0" id="path19373" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text19375" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan19377" sodipodi:role="line">lr</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text19379" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19381" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g id="g19383" transform="translate(-177.69663,197.40357)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path19385" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text19387" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19389" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">ll</tspan></text>
        <text sodipodi:linespacing="125%" id="text19391" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan19393" sodipodi:role="line"/></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19395" y="381.65552" x="156.91754" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="381.65552" x="156.91754" id="tspan19397" sodipodi:role="line">h-1</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="56.917542" y="381.65552" id="text19403" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19405" x="56.917542" y="381.65552" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h-1</tspan></text>
    </g>
    <g id="g19503" transform="translate(2.6432548e-5,299.18106)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect19505" width="230.31494" height="35.433033" x="34.901794" y="257.63977" ry="0.28726187"/>
      <rect ry="1.0054178" y="293.07278" x="34.901764" height="124.01581" width="230.31496" id="rect19507" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text19509" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line" id="tspan19595"><tspan style="font-style:italic" id="tspan19597">l</tspan> is either RVT(h) or RT(h).  We can test</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan19603">subtrees; but blackening it is easier if possible.</tspan></text>
      <path inkscape:connector-curvature="0" id="path19515" d="m 176.63408,328.5059 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="m 176.63408,328.50584 -70.86614,17.71661" id="path19517" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 176.63408,328.50584 35.43307,17.71661" id="path19519" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g19521" transform="translate(-106.8305,197.4035)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path19523" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text19525" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan19527" sodipodi:role="line">v</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="184.33485" y="317.93893" id="text19529" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19531" x="184.33485" y="317.93893" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="212.06715" y="399.37204" id="text19533" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19535" x="212.06715" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <g id="g19537" transform="translate(-106.83049,161.9705)">
        <path inkscape:connector-curvature="0" id="path19539" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text19541" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan19543" sodipodi:role="line">r</tspan></text>
      </g>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19545" d="m 105.76794,346.22245 -35.433075,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 105.76794,346.22245 35.43307,0" id="path19547" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g transform="translate(-177.69663,215.12011)" id="g19549">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path19551" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text19553" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19555" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lv</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19557" y="330.22247" x="83.783684" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="330.22247" x="83.783684" id="tspan19559" sodipodi:role="line">h</tspan></text>
      <g id="g19561" transform="translate(-106.8305,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path19563" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text19565" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19567" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lr</tspan></text>
        <text sodipodi:linespacing="125%" id="text19569" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan19571" sodipodi:role="line"/></text>
      </g>
      <g transform="translate(-177.69664,161.9705)" id="g19573">
        <path inkscape:connector-curvature="0" id="path19575" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text19577" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan19579" sodipodi:role="line">ll</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text19581" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19583" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="141.201" y="399.37204" id="text19585" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19587" x="141.201" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <text sodipodi:linespacing="125%" id="text19589" y="399.37204" x="70.334862" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="70.334862" id="tspan19591" sodipodi:role="line">h</tspan></text>
    </g>
    <g transform="translate(2.992126e-7,265.74802)" id="g19605">
      <text sodipodi:linespacing="125%" id="text19607" y="462.52161" x="62.334919" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="462.52161" x="62.334919" id="tspan19609" sodipodi:role="line">Test color of root of <tspan style="font-style:italic" id="tspan19629">r</tspan></tspan></text>
      <text sodipodi:linespacing="125%" id="text19613" y="479.22571" x="61.77824" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="479.22571" x="61.77824" id="tspan19615" sodipodi:role="line"><tspan style="font-style:italic" id="tspan19633">r</tspan> is black</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618356,450.52163 0,35.43307" id="path19619" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-351.95471" y="294.64984" id="text19621" sodipodi:linespacing="125%" transform="matrix(0,-1,1,0,0,0)"><tspan sodipodi:role="line" id="tspan19623" x="-351.95471" y="294.64984" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan19631">r</tspan> is red</tspan></text>
      <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path19627" d="m 52.618356,468.23816 230.314964,0 0,-159.44881 17.71653,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    </g>
    <g transform="translate(265.74806,299.18106)" id="g19635">
      <rect ry="0.28726187" y="257.63977" x="34.901794" height="35.433033" width="283.46457" id="rect19637" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect19639" width="283.46457" height="124.01581" x="34.901764" y="293.07278" ry="1.0054178"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text19641" sodipodi:linespacing="125%"><tspan id="tspan19647" sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan id="tspan19645" style="font-style:italic">l</tspan> is either RVT(h) or RT(h).  The subtree <tspan style="font-style:italic" id="tspan19779">r</tspan> is an RT; <tspan style="font-style:italic" id="tspan19781">v</tspan> is</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan19783">therefore black.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 176.63408,328.50591 0,-35.43307" id="path19649" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19651" d="m 176.63408,328.50591 -70.86615,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19653" d="m 176.63408,328.50591 70.86613,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <g transform="translate(-106.83049,197.40357)" id="g19655">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path19657" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text19659" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19661" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19663" y="317.93893" x="184.33485" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.93893" x="184.33485" id="tspan19665" sodipodi:role="line"/></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 105.76793,346.22245 -35.433077,0" id="path19679" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19681" d="m 105.76793,346.22245 35.43307,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <g id="g19683" transform="translate(-177.69664,215.12011)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path19685" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text19687" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan19689" sodipodi:role="line">lv</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="83.783669" y="328.50595" id="text19691" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19693" x="83.783669" y="328.50595" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <g transform="translate(-106.8305,161.9705)" id="g19695">
        <path inkscape:connector-curvature="0" id="path19697" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text19699" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan19701" sodipodi:role="line">lr</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text19703" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19705" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g id="g19707" transform="translate(-177.69664,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path19709" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text19711" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19713" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">ll</tspan></text>
        <text sodipodi:linespacing="125%" id="text19715" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan19717" sodipodi:role="line"/></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19719" y="399.37207" x="141.20099" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37207" x="141.20099" id="tspan19721" sodipodi:role="line">h</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="70.334846" y="399.37207" id="text19723" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19725" x="70.334846" y="399.37207" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19727" d="m 247.50021,346.22245 -35.43308,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 247.50021,346.22245 35.43307,0" id="path19729" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g transform="translate(-35.964363,215.12011)" id="g19731">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path19733" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text19735" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19737" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rv</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19739" y="328.50595" x="275.51596" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="328.50595" x="275.51596" id="tspan19741" sodipodi:role="line">RT(h)</tspan></text>
      <g id="g19743" transform="translate(34.901777,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path19745" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text19747" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19749" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rr</tspan></text>
        <text sodipodi:linespacing="125%" id="text19751" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan19753" sodipodi:role="line"/></text>
      </g>
      <g transform="translate(-35.964363,161.9705)" id="g19755">
        <path inkscape:connector-curvature="0" id="path19757" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text19759" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan19761" sodipodi:role="line">rl</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text19763" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19765" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="282.93329" y="399.37207" id="text19767" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19769" x="282.93329" y="399.37207" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <text sodipodi:linespacing="125%" id="text19771" y="399.37207" x="212.06714" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37207" x="212.06714" id="tspan19773" sodipodi:role="line">BT(h)</tspan></text>
    </g>
    <g id="g19785" transform="translate(584.6457,299.18106)">
      <rect style="fill:#b7e2ae;fill-opacity:1;stroke:none" id="rect19787" width="283.46457" height="35.433033" x="34.901794" y="257.63977" ry="0.28726187"/>
      <rect ry="1.0054178" y="293.07278" x="34.901764" height="124.01581" width="283.46457" id="rect19789" style="fill:#def2da;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text19791" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line" id="tspan19928"><tspan style="font-style:italic" id="tspan19926">l</tspan> is blackened RVT(h) or RT(h) → BT(h+1).  <tspan style="font-style:italic" id="tspan19930">r</tspan> is blackened</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan19936">RT(h) → BT(h+1).  The tree is BT(h+1) → RT(h+1); done.</tspan></text>
      <path inkscape:connector-curvature="0" id="path19803" d="m 176.63408,346.22244 0,-53.1496" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="m 176.63407,328.50591 -70.86615,0" id="path19805" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="m 176.63407,328.50591 70.86614,0" id="path19807" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g19809" transform="translate(-106.8305,197.40357)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path19811" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text19813" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan19815" sodipodi:role="line">v</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="184.33485" y="317.93893" id="text19817" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19819" x="184.33485" y="317.93893" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19821" d="M 105.76792,328.50591 70.334851,346.22245" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="M 105.76792,328.50591 141.201,346.22245" id="path19823" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g transform="translate(-177.69664,197.40357)" id="g19825">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path19827" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text19829" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19831" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lv</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19833" y="318.50595" x="67.783669" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="318.50595" x="67.783669" id="tspan19835" sodipodi:role="line">BT(h+1)</tspan></text>
      <g id="g19837" transform="translate(-106.8305,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path19839" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text19841" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19843" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lr</tspan></text>
        <text sodipodi:linespacing="125%" id="text19845" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan19847" sodipodi:role="line"/></text>
      </g>
      <g transform="translate(-177.69664,161.9705)" id="g19849">
        <path inkscape:connector-curvature="0" id="path19851" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text19853" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan19855" sodipodi:role="line">ll</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text19857" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19859" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="141.20099" y="399.37207" id="text19861" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19863" x="141.20099" y="399.37207" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <text sodipodi:linespacing="125%" id="text19865" y="399.37207" x="70.334846" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37207" x="70.334846" id="tspan19867" sodipodi:role="line">h</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 247.50021,328.50591 -35.43308,17.71654" id="path19869" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19871" d="m 247.50021,328.50591 35.43307,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <g id="g19873" transform="translate(-35.964365,197.40357)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path19875" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text19877" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan19879" sodipodi:role="line">rv</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="287.51596" y="318.50595" id="text19881" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19883" x="287.51596" y="318.50595" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h+1)</tspan></text>
      <g transform="translate(34.901775,161.9705)" id="g19885">
        <path inkscape:connector-curvature="0" id="path19887" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text19889" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan19891" sodipodi:role="line">rr</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text19893" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19895" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g id="g19897" transform="translate(-35.964365,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path19899" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text19901" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19903" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rl</tspan></text>
        <text sodipodi:linespacing="125%" id="text19905" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan19907" sodipodi:role="line"/></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19909" y="399.37207" x="282.93329" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37207" x="282.93329" id="tspan19911" sodipodi:role="line">BT(h)</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="212.06714" y="399.37207" id="text19913" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19915" x="212.06714" y="399.37207" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <text sodipodi:linespacing="125%" id="text19917" y="359.939" x="176.63408" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="359.939" x="176.63408" id="tspan19919" sodipodi:role="line">RT(h+1)</tspan></text>
    </g>
    <g transform="translate(2.6432548e-5,494.06295)" id="g19970">
      <rect ry="0.28726187" y="257.63977" x="34.901794" height="35.433033" width="230.31494" id="rect19972" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect19974" width="230.31496" height="124.01582" x="34.901764" y="293.07278" ry="1.0054181"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text19976" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan20097">Color swaps are not a solution.  If <tspan style="font-style:italic" id="tspan20099">l</tspan> is an RVT,</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan20105">we will have to do a rotation.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 176.63408,328.5059 0,-35.43306" id="path19984" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19986" d="m 176.63408,328.50584 -70.86614,17.71661" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19988" d="m 176.63408,328.50584 35.43307,17.71661" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-106.8305,197.4035)" id="g19990">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path19992" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text19994" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19996" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19998" y="317.93893" x="184.33485" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.93893" x="184.33485" id="tspan20000" sodipodi:role="line"/></text>
      <text sodipodi:linespacing="125%" id="text20002" y="399.37204" x="212.06715" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="212.06715" id="tspan20004" sodipodi:role="line">BT(h)</tspan></text>
      <g transform="translate(-106.83049,161.9705)" id="g20006">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20008" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text20010" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20012" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 105.76793,346.22245 -35.433075,0" id="path20014" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20016" d="m 105.76793,346.22245 35.43307,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <g id="g20018" transform="translate(-177.69664,215.12011)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path20020" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text20022" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan20024" sodipodi:role="line">lv</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="83.783676" y="328.50595" id="text20026" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20028" x="83.783676" y="328.50595" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <g transform="translate(-106.8305,161.9705)" id="g20030">
        <path inkscape:connector-curvature="0" id="path20032" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20034" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan20036" sodipodi:role="line">lr</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text20038" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20040" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g id="g20042" transform="translate(-177.69664,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20044" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text20046" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20048" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">ll</tspan></text>
        <text sodipodi:linespacing="125%" id="text20050" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan20052" sodipodi:role="line"/></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20054" y="399.37204" x="141.201" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="141.201" id="tspan20056" sodipodi:role="line">h</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="70.334862" y="399.37204" id="text20058" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20060" x="70.334862" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
    </g>
    <g id="g20062" transform="translate(265.74803,265.74802)">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.334919" y="462.52161" id="text20064" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="62.334919" y="462.52161" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan20090">Blacken l and r.  Redden v.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618358,450.52163 0,17.71653 283.464562,0 10e-6,-159.44881 17.71653,0" id="path20084" inkscape:connector-curvature="0" sodipodi:nodetypes="ccccc"/>
    </g>
    <g id="g20107" transform="translate(318.89766,494.06295)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect20109" width="283.46457" height="35.433033" x="-18.247808" y="257.63977" ry="0.28726187"/>
      <rect ry="1.0054181" y="293.07278" x="-18.247808" height="124.01582" width="283.46454" id="rect20111" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20225" d="m 123.48448,346.22245 c -22.30803,-11.8262 -45.704699,-13.85458 -70.866143,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <text sodipodi:linespacing="125%" id="text20113" y="272.83463" x="2.7259744e-06" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan20119" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="2.7259744e-06" sodipodi:role="line"><tspan style="font-style:italic" id="tspan20232">ll</tspan> is an RT(h).  <tspan style="font-style:italic" id="tspan20234">l</tspan> is an RVT(h).  Therefore <tspan style="font-style:italic" id="tspan20236">lr</tspan> is black, and</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="2.7259744e-06" sodipodi:role="line" id="tspan20230"><tspan style="font-style:italic" id="tspan20238">v</tspan> is black because insertion was into an RT.</tspan></text>
      <path inkscape:connector-curvature="0" id="path20121" d="m 194.35062,328.5059 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="m 194.35062,328.50584 -70.86614,17.71661" id="path20123" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 194.35062,328.50584 35.43307,17.71661" id="path20125" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g20127" transform="translate(-89.113962,197.4035)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path20129" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text20131" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan20133" sodipodi:role="line">v</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="184.33485" y="317.93893" id="text20135" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20137" x="184.33485" y="317.93893" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="229.78369" y="399.37204" id="text20139" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20141" x="229.78369" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <g id="g20143" transform="translate(-89.113952,161.9705)">
        <path inkscape:connector-curvature="0" id="path20145" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20147" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan20149" sodipodi:role="line">r</tspan></text>
      </g>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20151" d="m 88.051412,346.22245 -35.433075,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 123.48447,346.22245 35.43307,0" id="path20153" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g transform="translate(-159.9801,215.12011)" id="g20155">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path20157" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text20159" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20161" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lv</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20163" y="322.50592" x="123.48447" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="322.50592" x="123.48447" id="tspan20165" sodipodi:role="line">RVT(h)</tspan></text>
      <g id="g20167" transform="translate(-89.113962,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20169" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text20171" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20173" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lr</tspan></text>
        <text sodipodi:linespacing="125%" id="text20175" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan20177" sodipodi:role="line"/></text>
      </g>
      <g transform="translate(-159.9801,161.9705)" id="g20179">
        <path inkscape:connector-curvature="0" id="path20181" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20183" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan20185" sodipodi:role="line">llr</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text20187" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20189" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="158.91754" y="399.37204" id="text20191" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20193" x="158.91754" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <text sodipodi:linespacing="125%" id="text20195" y="399.37204" x="88.051399" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="88.051399" id="tspan20197" sodipodi:role="line">BT(h)</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="17.185266" y="399.37204" id="text20219" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20221" x="17.185266" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 52.618341,346.22245 -35.433076,0" id="path20223" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g20199" transform="translate(-230.84623,215.12011)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path20201" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text20203" y="133.28091" x="283.64136" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="283.64136" id="tspan20205" sodipodi:role="line">llv</tspan></text>
      </g>
      <g id="g20207" transform="translate(-230.84623,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20209" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text20211" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20213" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lll</tspan></text>
        <text sodipodi:linespacing="125%" id="text20215" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan20217" sodipodi:role="line"/></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="25.500214" y="328.50595" id="text20240" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20242" x="25.500214" y="328.50595" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(h)</tspan></text>
    </g>
    <g transform="translate(637.7953,494.06295)" id="g20244">
      <rect ry="0.28726187" y="257.63977" x="-18.247808" height="35.433033" width="283.46457" id="rect20246" style="fill:#b7e2ae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#def2da;fill-opacity:1;stroke:none" id="rect20248" width="283.46454" height="124.01582" x="-18.247808" y="293.07278" ry="1.0054181"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="M 123.48447,328.50591 52.618337,346.22245" id="path20250" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="2.7259744e-06" y="272.83463" id="text20252" sodipodi:linespacing="125%"><tspan id="tspan20262" sodipodi:role="line" x="2.7259744e-06" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan id="tspan20256" style="font-style:italic">ll</tspan> remains an RT(h).  <tspan style="font-style:italic" id="tspan20512">v</tspan> becomes root of a new RT(h).  <tspan style="font-style:italic" id="tspan20516">lv</tspan> is</tspan><tspan sodipodi:role="line" x="2.7259744e-06" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan20514">root of new BT(h+1).  BT(h+1) → BT(h+1); done.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 123.48447,328.5059 0,-35.43306" id="path20266" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20268" d="M 194.35062,346.22245 123.48447,328.50591" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20270" d="m 194.35062,346.22245 35.43307,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <text sodipodi:linespacing="125%" id="text20280" y="317.93893" x="184.33485" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.93893" x="184.33485" id="tspan20282" sodipodi:role="line"/></text>
      <text sodipodi:linespacing="125%" id="text20284" y="399.37204" x="229.78369" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="229.78369" id="tspan20286" sodipodi:role="line">BT(h)</tspan></text>
      <g transform="translate(-89.113952,161.9705)" id="g20288">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20290" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text20292" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20294" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 88.051412,346.22245 -35.433075,0" id="path20296" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20298" d="m 194.35062,346.22245 -35.43308,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <g id="g20300" transform="translate(-159.9801,197.40357)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path20302" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text20304" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan20306" sodipodi:role="line">lv</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="225.50021" y="328.50595" id="text20308" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20310" x="225.50021" y="328.50595" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(h)</tspan></text>
      <g transform="translate(-89.113962,161.9705)" id="g20312">
        <path inkscape:connector-curvature="0" id="path20314" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20316" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan20318" sodipodi:role="line">lr</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text20320" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20322" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g id="g20324" transform="translate(-159.9801,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20326" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text20328" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20330" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">llr</tspan></text>
        <text sodipodi:linespacing="125%" id="text20332" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan20334" sodipodi:role="line"/></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20336" y="399.37204" x="158.91754" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="158.91754" id="tspan20338" sodipodi:role="line">BT(h)</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="88.051399" y="399.37204" id="text20340" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20342" x="88.051399" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <text sodipodi:linespacing="125%" id="text20344" y="399.37204" x="17.185266" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="17.185266" id="tspan20346" sodipodi:role="line">BT(h)</tspan></text>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20348" d="m 52.618341,346.22245 -35.433076,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <g transform="translate(-230.84623,215.12011)" id="g20350">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path20352" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="283.64136" y="133.28091" id="text20354" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20356" x="283.64136" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">llv</tspan></text>
      </g>
      <g transform="translate(-230.84623,161.9705)" id="g20358">
        <path inkscape:connector-curvature="0" id="path20360" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20362" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan20364" sodipodi:role="line">lll</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text20366" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20368" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20370" y="328.50595" x="23.500214" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="328.50595" x="23.500214" id="tspan20372" sodipodi:role="line">RT(h)</tspan></text>
      <g transform="translate(-89.113953,215.12011)" id="g20272">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path20274" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text20276" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20278" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="159.50021" y="310.50595" id="text20374" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20376" x="159.50021" y="310.50595" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h+1)</tspan></text>
    </g>
    <g transform="translate(265.74803,460.62991)" id="g20378">
      <text sodipodi:linespacing="125%" id="text20380" y="462.52161" x="62.334919" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan20382" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="462.52161" x="62.334919" sodipodi:role="line">Single rotate right with recoloring.</tspan></text>
      <path sodipodi:nodetypes="ccccc" inkscape:connector-curvature="0" id="path20384" d="m 52.618358,450.52163 0,17.71653 283.464562,0 10e-6,-159.44881 17.71653,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    </g>
    <g id="g20386" transform="translate(2.992126e-7,460.62992)">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.334919" y="462.52161" id="text20388" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20390" x="62.334919" y="462.52161" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Test color of root of <tspan id="tspan20392" style="font-style:italic">ll</tspan></tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="61.77824" y="479.22571" id="text20394" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20396" x="61.77824" y="479.22571" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan20410">ll</tspan> is black-rooted</tspan></text>
      <path inkscape:connector-curvature="0" id="path20400" d="m 52.618356,450.52163 0,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
      <text transform="matrix(0,-1,1,0,0,0)" sodipodi:linespacing="125%" id="text20402" y="294.64984" x="-383.95471" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="294.64984" x="-383.95471" id="tspan20404" sodipodi:role="line"><tspan style="font-style:italic" id="tspan20412">ll</tspan> is red-rooted</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618356,468.23816 230.314964,0 0,-159.44881 17.71653,0" id="path20408" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
    </g>
    <g id="g20414" transform="translate(2.6432548e-5,688.94484)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect20416" width="230.31494" height="35.433033" x="34.901794" y="257.63977" ry="0.28726187"/>
      <rect ry="1.0054181" y="293.07278" x="34.901764" height="124.01582" width="230.31496" id="rect20418" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text20420" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan20422" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line">Color swaps are not a solution.  If <tspan id="tspan20424" style="font-style:italic">l</tspan> is an RVT,</tspan><tspan id="tspan20426" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line">we will have to do a rotation.</tspan></text>
      <path inkscape:connector-curvature="0" id="path20428" d="m 176.63408,328.5059 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="m 176.63408,328.50584 -70.86614,17.71661" id="path20430" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 176.63408,328.50584 35.43307,17.71661" id="path20432" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g20434" transform="translate(-106.8305,197.4035)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path20436" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text20438" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan20440" sodipodi:role="line">v</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="184.33485" y="317.93893" id="text20442" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20444" x="184.33485" y="317.93893" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="212.06715" y="399.37204" id="text20446" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20448" x="212.06715" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <g id="g20450" transform="translate(-106.83049,161.9705)">
        <path inkscape:connector-curvature="0" id="path20452" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20454" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan20456" sodipodi:role="line">r</tspan></text>
      </g>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20458" d="m 105.76793,346.22245 -35.433075,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 105.76793,346.22245 35.43307,0" id="path20460" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g transform="translate(-177.69664,215.12011)" id="g20462">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path20464" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text20466" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20468" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lv</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20470" y="328.50595" x="83.783676" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="328.50595" x="83.783676" id="tspan20472" sodipodi:role="line">h</tspan></text>
      <g id="g20474" transform="translate(-106.8305,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20476" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text20478" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20480" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lr</tspan></text>
        <text sodipodi:linespacing="125%" id="text20482" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan20484" sodipodi:role="line"/></text>
      </g>
      <g transform="translate(-177.69664,161.9705)" id="g20486">
        <path inkscape:connector-curvature="0" id="path20488" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20490" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan20492" sodipodi:role="line">ll</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text20494" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20496" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="141.201" y="399.37204" id="text20498" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20500" x="141.201" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <text sodipodi:linespacing="125%" id="text20502" y="399.37204" x="70.334862" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="70.334862" id="tspan20504" sodipodi:role="line">BT(h)</tspan></text>
    </g>
    <g transform="translate(318.89766,688.94484)" id="g20518">
      <rect ry="0.28726187" y="257.63977" x="-18.247808" height="35.433033" width="283.46457" id="rect20520" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect20522" width="283.46454" height="124.01582" x="-18.247808" y="293.07278" ry="1.0054181"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="m 123.48448,346.22245 c -22.30803,-11.8262 -45.704699,-13.85458 -70.866143,0" id="path20524" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="2.7259744e-06" y="272.83463" id="text20526" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="2.7259744e-06" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan20528"><tspan id="tspan20530" style="font-style:italic">ll</tspan> is an RT(h).  <tspan id="tspan20532" style="font-style:italic">l</tspan> is an RVT(h).  Therefore <tspan id="tspan20534" style="font-style:italic">lr</tspan> is black, and</tspan><tspan id="tspan20536" sodipodi:role="line" x="2.7259744e-06" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan id="tspan20538" style="font-style:italic">v</tspan> is black because insertion was into an RT.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 194.35062,328.5059 0,-35.43306" id="path20540" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20542" d="M 194.35062,328.50584 C 139.91305,310.78938 95.913994,320.31761 52.618334,346.22245" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20544" d="m 194.35062,328.50584 35.43307,17.71661" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-89.113962,197.4035)" id="g20546">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path20548" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text20550" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20552" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20554" y="317.93893" x="184.33485" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.93893" x="184.33485" id="tspan20556" sodipodi:role="line"/></text>
      <text sodipodi:linespacing="125%" id="text20558" y="399.37204" x="229.78369" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="229.78369" id="tspan20560" sodipodi:role="line">BT(h)</tspan></text>
      <g transform="translate(-89.113952,161.9705)" id="g20562">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20564" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text20566" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20568" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 88.051412,346.22245 35.433068,0" id="path20570" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20572" d="m 123.48447,346.22245 35.43307,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <g id="g20574" transform="translate(-159.9801,215.12011)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path20576" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text20578" y="133.28091" x="284.03888" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="284.03888" id="tspan20580" sodipodi:role="line">lrv</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="155.201" y="334.50592" id="text20582" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20584" x="155.201" y="334.50592" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(h)</tspan></text>
      <g transform="translate(-89.113962,161.9705)" id="g20586">
        <path inkscape:connector-curvature="0" id="path20588" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20590" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan20592" sodipodi:role="line">lrr</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text20594" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20596" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g id="g20598" transform="translate(-159.9801,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20600" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text20602" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20604" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lrl</tspan></text>
        <text sodipodi:linespacing="125%" id="text20606" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan20608" sodipodi:role="line"/></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20610" y="399.37204" x="158.91754" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="158.91754" id="tspan20612" sodipodi:role="line">BT(h)</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="88.051399" y="399.37204" id="text20614" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20616" x="88.051399" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <text sodipodi:linespacing="125%" id="text20618" y="399.37204" x="17.185266" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="17.185266" id="tspan20620" sodipodi:role="line">BT(h)</tspan></text>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20622" d="m 52.618341,346.22245 -35.433076,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <g transform="translate(-230.84623,215.12011)" id="g20624">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path20626" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="284.12067" y="133.28091" id="text20628" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20630" x="284.12067" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lv</tspan></text>
      </g>
      <g transform="translate(-230.84623,161.9705)" id="g20632">
        <path inkscape:connector-curvature="0" id="path20634" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20636" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan20638" sodipodi:role="line">lll</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text20640" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20642" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20644" y="322.50592" x="52.618336" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="322.50592" x="52.618336" id="tspan20646" sodipodi:role="line">RVT(h)</tspan></text>
    </g>
    <g id="g20648" transform="translate(637.7953,688.94484)">
      <rect style="fill:#b7e2ae;fill-opacity:1;stroke:none" id="rect20650" width="283.46457" height="35.433033" x="-18.247808" y="257.63977" ry="0.28726187"/>
      <rect ry="1.0054181" y="293.07278" x="-18.247808" height="124.01582" width="283.46454" id="rect20652" style="fill:#def2da;fill-opacity:1;stroke:none"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20654" d="M 123.48447,328.50591 52.618337,346.22245" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <text sodipodi:linespacing="125%" id="text20656" y="272.83463" x="2.7259744e-06" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan20666" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="2.7259744e-06" sodipodi:role="line"><tspan style="font-style:italic" id="tspan20660">lv <tspan style="font-style:normal" id="tspan20780">and </tspan>v</tspan> become roots of two new RT(h).  <tspan id="tspan20664" style="font-style:italic">lrv</tspan> is root of a</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="2.7259744e-06" sodipodi:role="line" id="tspan20790">new BT(h+1).  BT(h+1) → BT(h+1); done.</tspan></text>
      <path inkscape:connector-curvature="0" id="path20668" d="m 123.48447,328.5059 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="M 194.35062,346.22245 123.48447,328.50591" id="path20670" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 194.35062,346.22245 35.43307,0" id="path20672" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="184.33485" y="317.93893" id="text20674" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20676" x="184.33485" y="317.93893" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="229.78369" y="399.37204" id="text20678" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20680" x="229.78369" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <g id="g20682" transform="translate(-89.113952,161.9705)">
        <path inkscape:connector-curvature="0" id="path20684" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20686" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan20688" sodipodi:role="line">r</tspan></text>
      </g>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20690" d="m 88.051412,346.22245 -35.433075,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 194.35062,346.22245 -35.43308,0" id="path20692" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g transform="translate(-159.9801,197.40357)" id="g20694">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path20696" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="284.40015" y="133.28091" id="text20698" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20700" x="284.40015" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lrv</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20702" y="328.50595" x="225.50021" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="328.50595" x="225.50021" id="tspan20704" sodipodi:role="line">RT(h)</tspan></text>
      <g id="g20706" transform="translate(-89.113962,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20708" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text20710" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20712" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lrr</tspan></text>
        <text sodipodi:linespacing="125%" id="text20714" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan20716" sodipodi:role="line"/></text>
      </g>
      <g transform="translate(-159.9801,161.9705)" id="g20718">
        <path inkscape:connector-curvature="0" id="path20720" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20722" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan20724" sodipodi:role="line">lrl</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text20726" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20728" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="158.91754" y="399.37204" id="text20730" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20732" x="158.91754" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <text sodipodi:linespacing="125%" id="text20734" y="399.37204" x="88.051399" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="88.051399" id="tspan20736" sodipodi:role="line">BT(h)</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="17.185266" y="399.37204" id="text20738" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20740" x="17.185266" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 52.618341,346.22245 -35.433076,0" id="path20742" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g20744" transform="translate(-230.84623,215.12011)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path20746" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text20748" y="133.28091" x="283.64136" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="283.64136" id="tspan20750" sodipodi:role="line">lv</tspan></text>
      </g>
      <g id="g20752" transform="translate(-230.84623,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20754" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text20756" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20758" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lll</tspan></text>
        <text sodipodi:linespacing="125%" id="text20760" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan20762" sodipodi:role="line"/></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="23.500214" y="328.50595" id="text20764" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20766" x="23.500214" y="328.50595" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(h)</tspan></text>
      <g id="g20768" transform="translate(-89.113953,215.12011)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path20770" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text20772" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan20774" sodipodi:role="line">v</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20776" y="310.50595" x="159.50021" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="310.50595" x="159.50021" id="tspan20778" sodipodi:role="line">BT(h+1)</tspan></text>
    </g>
    <g id="g20798" transform="translate(265.74803,655.5118)">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.334919" y="462.52161" id="text20800" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="62.334919" y="462.52161" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan20802">Double rotate right with recoloring.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618358,450.52163 0,17.71653 283.464562,0 10e-6,-159.44881 17.71653,0" id="path20804" inkscape:connector-curvature="0" sodipodi:nodetypes="ccccc"/>
    </g>
    <g transform="translate(2.992126e-7,655.5118)" id="g20806">
      <text sodipodi:linespacing="125%" id="text20808" y="462.52161" x="62.334919" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="462.52161" x="62.334919" id="tspan20810" sodipodi:role="line">Test color of root of <tspan style="font-style:italic" id="tspan20812">lr</tspan></tspan></text>
      <text sodipodi:linespacing="125%" id="text20814" y="479.22571" x="61.77824" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="479.22571" x="61.77824" id="tspan20816" sodipodi:role="line"><tspan id="tspan20818" style="font-style:italic">lr</tspan> is black-rooted</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618356,450.52163 0,35.43307" id="path20820" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-383.95471" y="294.64984" id="text20822" sodipodi:linespacing="125%" transform="matrix(0,-1,1,0,0,0)"><tspan sodipodi:role="line" id="tspan20824" x="-383.95471" y="294.64984" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan id="tspan20826" style="font-style:italic">lr</tspan> is red-rooted</tspan></text>
      <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path20828" d="m 52.618356,468.23816 230.314964,0 0,-159.44881 17.71653,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    </g>
    <g transform="translate(2.6432548e-5,883.82673)" id="g20830">
      <rect ry="0.28726187" y="257.63977" x="34.901794" height="35.433033" width="230.31494" id="rect20832" style="fill:#b7e2ae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#def2da;fill-opacity:1;stroke:none" id="rect20834" width="230.31496" height="124.01582" x="34.901764" y="293.07278" ry="1.0054181"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text20836" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan20925"><tspan style="font-style:italic" id="tspan20929">l</tspan> is an RT(h).  If <tspan style="font-style:italic" id="tspan20927">v</tspan> is red, tree RT(h) → RVT(h);</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan20935">if <tspan style="font-style:italic" id="tspan20937">v</tspan> is black, BT(h) → RT(h); both are valid.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 176.63408,328.5059 0,-35.43306" id="path20844" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20846" d="m 176.63408,328.50584 -70.86614,17.71661" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20848" d="m 176.63408,328.50584 35.43307,17.71661" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-106.8305,197.4035)" id="g20850">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path20852" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text20854" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20856" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20858" y="317.93893" x="184.33485" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.93893" x="184.33485" id="tspan20860" sodipodi:role="line"/></text>
      <text sodipodi:linespacing="125%" id="text20862" y="399.37204" x="212.06715" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="212.06715" id="tspan20864" sodipodi:role="line">BT(h)</tspan></text>
      <g transform="translate(-106.83049,161.9705)" id="g20866">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20868" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text20870" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20872" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 105.76793,346.22245 -35.433075,0" id="path20874" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20876" d="m 105.76793,346.22245 35.43307,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <g id="g20878" transform="translate(-177.69664,215.12011)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path20880" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text20882" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan20884" sodipodi:role="line">lv</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="79.783676" y="328.50595" id="text20886" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20888" x="79.783676" y="328.50595" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(h)</tspan></text>
      <g transform="translate(-106.8305,161.9705)" id="g20890">
        <path inkscape:connector-curvature="0" id="path20892" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20894" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan20896" sodipodi:role="line">lr</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text20898" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20900" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g id="g20902" transform="translate(-177.69664,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20904" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text20906" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20908" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">ll</tspan></text>
        <text sodipodi:linespacing="125%" id="text20910" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan20912" sodipodi:role="line"/></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20914" y="399.37204" x="141.201" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="141.201" id="tspan20916" sodipodi:role="line">BT(h)</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="70.334862" y="399.37204" id="text20918" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20920" x="70.334862" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
    </g>
  </g>
</svg>
    </p>

    <p>
      Here is how the <code>ins_aux</code> procedure works:

      <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="832.67719" height="620.07874" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="recursive_insert_aux.svg" inkscape:export-filename="/home/james/inst/edu/3-msc/net-storage/terms/3/verifying-concurrent-indexes/paper/rbt/recursive_insert_aux.png" inkscape:export-xdpi="90" inkscape:export-ydpi="90">
  <defs id="defs4">
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-6" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker17839" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path17841" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="SquareM" style="overflow:visible">
      <path id="path10104" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="SquareM-0" style="overflow:visible">
      <path id="path10104-7" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="marker18011" style="overflow:visible">
      <path id="path18013" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-4" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker18709" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path18711" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-1" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.4" inkscape:cx="347.65898" inkscape:cy="345.52173" inkscape:document-units="mm" inkscape:current-layer="layer1" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="5mm" spacingy="5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(0.53125,-308.78934)">
    <g id="g9842" transform="translate(-0.53126553,228.83659)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect9844" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.0054181" y="292.55112" x="35.433056" height="124.01581" width="230.31496" id="rect9846" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text9848" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan9856" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line"><tspan style="font-style:italic" id="tspan18355">s</tspan> is a non-empty tree containing some value <tspan style="font-style:italic" id="tspan9938">v</tspan></tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan9936">at the root and two possibly empty subtrees.</tspan></text>
      <path inkscape:connector-curvature="0" id="path9862" d="m 141.7323,327.98423 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 141.7323,327.98417 -35.43307,35.43315" id="path9864" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 141.7323,327.98417 35.43307,35.43315" id="path9870" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g9872" transform="translate(-141.73227,196.88183)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path9874" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text9876" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan9878" sodipodi:role="line">v</tspan></text>
      </g>
      <g id="g9880" transform="translate(-141.73227,179.16537)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path9882" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text9884" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9886" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
        <text sodipodi:linespacing="125%" id="text9888" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan9890" sodipodi:role="line"/></text>
        <text sodipodi:linespacing="125%" id="text11470" y="191.73633" x="261.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="191.73633" x="261.56259" id="tspan11472" sodipodi:role="line">i</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="333.56259" y="191.73633" id="text11474" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11476" x="333.56259" y="191.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
      </g>
      <g id="g9892" transform="translate(-141.73227,179.16537)">
        <path inkscape:connector-curvature="0" id="path9894" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text9896" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan9898" sodipodi:role="line">r</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="167.14961" y="317.41727" id="text9928" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9930" x="167.14961" y="317.41727" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
    </g>
    <g id="g7054" transform="translate(2.6627089e-5,86.582635)">
      <rect style="fill:#b0aee2;fill-opacity:1;stroke:none" id="rect4527-36-6-5" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="0.57875413" y="292.55112" x="35.433056" height="71.387878" width="230.31496" id="rect4525-86-1-3" style="fill:#dbdaf2;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text4239-51-8-6" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan6238" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line"><tspan style="font-weight:bold" id="tspan3553">Precondition:</tspan><tspan style="font-style:italic" id="tspan17809"> s</tspan> is a tree. We are going to insert</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan17819">the value <tspan style="font-style:italic" id="tspan17821">w</tspan> into it.</tspan></text>
      <g transform="translate(-177.16537,196.88184)" id="g3889">
        <path inkscape:connector-curvature="0" id="path6429-4" d="m 318.36638,131.62408 0,-35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
        <g id="g3868" transform="translate(-1.0625272,-69.822729)">
          <path inkscape:connector-curvature="0" id="path3812" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text3820" y="209.73633" x="319.4155" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.4155" id="tspan3822" sodipodi:role="line">s</tspan></text>
        </g>
      </g>
    </g>
    <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618356,468.23816 230.314964,0 0,-106.29921 17.71653,0" id="path7200-7" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
    <g id="g9993" transform="translate(265.21677,87.104311)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect9995" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="0.57452416" y="292.55112" x="35.433056" height="70.866119" width="230.31496" id="rect9997" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text9999" y="270.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="270.83463" x="53.149605" sodipodi:role="line" id="tspan10493">The tree <tspan style="font-style:italic" id="tspan12484">s</tspan> is empty, and represents the set ∅.</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="286.47394" x="53.149605" sodipodi:role="line" id="tspan18095"/></text>
      <g transform="translate(-177.16537,196.88184)" id="g10011">
        <path inkscape:connector-curvature="0" id="path10013" d="m 318.89764,95.669268 0,35.433072" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)" sodipodi:nodetypes="cc"/>
      </g>
      <g id="g10015" transform="translate(-177.16537,126.01569)">
        <text sodipodi:linespacing="125%" id="text10019" y="215.68503" x="316.89764" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="215.68503" x="316.89764" id="tspan10021" sodipodi:role="line">s</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text10023" y="329.41718" x="149.43304" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="329.41718" x="149.43304" id="tspan10025" sodipodi:role="line">BT(h=0)</tspan></text>
    </g>
    <g transform="translate(530.9648,87.104311)" id="g17969">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect17971" style="fill:#b7e2ae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#def2da;fill-opacity:1;stroke:none" id="rect17973" width="230.31496" height="70.866119" x="35.433056" y="292.55112" ry="0.57452416"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="270.83463" id="text17975" sodipodi:linespacing="125%"><tspan id="tspan17981" sodipodi:role="line" x="53.149605" y="270.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">∅ ∪ {<tspan id="tspan17983" style="font-style:italic">w</tspan>} = {w}, so we return a single-node tree.</tspan><tspan sodipodi:role="line" x="53.149605" y="283.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan18099">Same height, and BT → RT is fine.  We're done.</tspan></text>
    </g>
    <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 672.69711,415.08861 0,-35.43306" id="path12133" inkscape:connector-curvature="0"/>
    <path inkscape:connector-curvature="0" id="path12135" d="m 672.69711,415.08855 -35.43307,8e-5" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)" sodipodi:nodetypes="cc"/>
    <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path12137" d="m 672.69711,415.08855 35.43307,8e-5" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)"/>
    <g transform="translate(389.23253,283.98621)" id="g12139">
      <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path12141" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text12143" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12145" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">s</tspan></text>
    </g>
    <g transform="translate(385.70145,247.06875)" id="g12147">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text12149" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12151" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      <text sodipodi:linespacing="125%" id="text12153" y="185.73633" x="251.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.73633" x="251.56259" id="tspan12155" sodipodi:role="line">BT(0)</tspan></text>
      <text sodipodi:linespacing="125%" id="text12157" y="169.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="169.73633" x="247.56259" id="tspan12159" sodipodi:role="line"/></text>
    </g>
    <g transform="translate(385.70144,247.06875)" id="g12161">
      <text sodipodi:linespacing="125%" id="text12169" y="185.73633" x="322.42874" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.73633" x="322.42874" id="tspan12171" sodipodi:role="line">BT(0)</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="168.01979" id="text12165" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12167" x="319.19" y="168.01979" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
    </g>
    <text sodipodi:linespacing="125%" id="text12173" y="397.37201" x="690.41364" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="397.37201" x="690.41364" id="tspan12175" sodipodi:role="line">RT(0)</tspan></text>
    <g id="g18103">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.334919" y="462.52161" id="text3852-9-8-5-9" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0-8-3-0" x="62.334919" y="462.52161" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Is the pointer to tree <tspan id="tspan17889" style="font-style:italic">s</tspan> null?</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="61.77824" y="479.22571" id="text6246-4" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6248-6" x="61.77824" y="479.22571" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Pointer to <tspan id="tspan17895" style="font-style:italic">s</tspan> is not null</tspan></text>
      <path inkscape:connector-curvature="0" id="path7198-2" d="m 52.618356,450.52163 0,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
      <text transform="matrix(0,-1,1,0,0,0)" sodipodi:linespacing="125%" id="text17963" y="294.64984" x="-451.95471" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="294.64984" x="-451.95471" id="tspan17965" sodipodi:role="line">Pointer to <tspan style="font-style:italic" id="tspan17967">s</tspan> is null</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618356,468.23816 230.314964,0 0,-106.29921 17.71653,0" id="path18101" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
    </g>
    <g id="g18116" transform="translate(265.74803,-2.9921259e-6)">
      <text sodipodi:linespacing="125%" id="text18118" y="462.52161" x="62.334919" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="462.52161" x="62.334919" id="tspan18120" sodipodi:role="line">Create and return new red node containing <tspan style="font-style:italic" id="tspan18140">w</tspan>.</tspan></text>
      <path sodipodi:nodetypes="ccccc" inkscape:connector-curvature="0" id="path18138" d="m 52.618358,450.52163 0,17.71654 230.314962,-1e-5 0,-106.29921 17.71653,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    </g>
    <g id="g18357" transform="translate(2.992126e-7,194.88189)">
      <text sodipodi:linespacing="125%" id="text18359" y="462.52161" x="62.334919" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="462.52161" x="62.334919" id="tspan18361" sodipodi:role="line"><tspan style="font-style:italic" id="tspan18551">v</tspan> = <tspan style="font-style:italic" id="tspan18553">w</tspan>?</tspan></text>
      <text sodipodi:linespacing="125%" id="text18365" y="479.22571" x="61.77824" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="479.22571" x="61.77824" id="tspan18367" sodipodi:role="line">v ≠ w</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618356,450.52163 0,35.43307" id="path18371" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-345.95471" y="294.64984" id="text18373" sodipodi:linespacing="125%" transform="matrix(0,-1,1,0,0,0)"><tspan sodipodi:role="line" id="tspan18375" x="-345.95471" y="294.64984" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan18557">v</tspan> = <tspan style="font-style:italic" id="tspan18555">w</tspan></tspan></text>
      <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path18379" d="m 52.618356,468.23816 230.314964,0 0,-159.44882 17.71653,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    </g>
    <g transform="translate(265.21677,228.83659)" id="g18489">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect18491" style="fill:#b7e2ae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#def2da;fill-opacity:1;stroke:none" id="rect18493" width="230.31496" height="124.01581" x="35.433056" y="292.55112" ry="1.0054181"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text18495" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan18563"><tspan style="font-style:italic" id="tspan18565">w</tspan> is already in the set.  Returning the same</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan18571">tree satisfies the specification, so we're done.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 141.7323,327.98423 0,-35.43306" id="path18505" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path18507" d="m 141.7323,327.98417 -35.43307,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path18509" d="m 141.7323,327.98417 35.43307,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-141.73227,196.88183)" id="g18511">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path18513" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text18515" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18517" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">w</tspan></text>
      </g>
      <g transform="translate(-141.73227,179.16537)" id="g18519">
        <path inkscape:connector-curvature="0" id="path18521" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text18523" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan18525" sodipodi:role="line">l</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text18527" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18529" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.56259" y="191.73633" id="text18531" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18533" x="261.56259" y="191.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
        <text sodipodi:linespacing="125%" id="text18535" y="191.73633" x="333.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="191.73633" x="333.56259" id="tspan18537" sodipodi:role="line">i</tspan></text>
      </g>
      <g transform="translate(-141.73227,179.16537)" id="g18539">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path18541" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text18543" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18545" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text18547" y="317.41727" x="167.14961" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.41727" x="167.14961" id="tspan18549" sodipodi:role="line">h</tspan></text>
    </g>
    <g transform="translate(-0.53126553,423.71848)" id="g18573">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect18575" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect18577" width="230.31496" height="124.01581" x="35.433056" y="292.55112" ry="1.0054181"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text18579" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan18581">Value <tspan style="font-style:italic" id="tspan18789">w</tspan> is not at the top of the tree.  It may be</tspan><tspan id="tspan18587" sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">in a subtree.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 141.7323,327.98423 0,-35.43306" id="path18589" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path18591" d="m 141.7323,327.98417 -35.43307,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path18593" d="m 141.7323,327.98417 35.43307,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-141.73227,196.88183)" id="g18595">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path18597" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="284.20337" y="133.28091" id="text18599" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18601" x="284.20337" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v ≠ w</tspan></text>
      </g>
      <g transform="translate(-141.73227,179.16537)" id="g18603">
        <path inkscape:connector-curvature="0" id="path18605" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text18607" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan18609" sodipodi:role="line">l</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text18611" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18613" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.56259" y="191.73633" id="text18615" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18617" x="261.56259" y="191.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
        <text sodipodi:linespacing="125%" id="text18619" y="191.73633" x="333.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="191.73633" x="333.56259" id="tspan18621" sodipodi:role="line">i</tspan></text>
      </g>
      <g transform="translate(-141.73227,179.16537)" id="g18623">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path18625" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text18627" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18629" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text18631" y="317.41727" x="167.14961" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.41727" x="167.14961" id="tspan18633" sodipodi:role="line">h</tspan></text>
    </g>
    <g id="g18639" transform="translate(265.21677,423.71848)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect18641" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.0054181" y="292.55112" x="35.433056" height="124.01581" width="230.31496" id="rect18643" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text18645" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan18647" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line">Value <tspan style="font-style:italic" id="tspan18791">w</tspan> is not at the root.  We want it to be in</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan18649">the left subtree, <tspan style="font-style:italic" id="tspan18795">l</tspan>.</tspan></text>
      <path inkscape:connector-curvature="0" id="path18651" d="m 141.7323,327.98423 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 141.7323,327.98417 -35.43307,35.43315" id="path18653" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 141.7323,327.98417 35.43307,35.43315" id="path18655" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g18657" transform="translate(-141.73227,196.88183)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path18659" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text18661" y="133.28091" x="284.20337" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="284.20337" id="tspan18663" sodipodi:role="line">v &gt; w</tspan></text>
      </g>
      <g id="g18665" transform="translate(-141.73227,179.16537)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path18667" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text18669" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18671" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
        <text sodipodi:linespacing="125%" id="text18673" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan18675" sodipodi:role="line"/></text>
        <text sodipodi:linespacing="125%" id="text18677" y="191.73633" x="261.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="191.73633" x="261.56259" id="tspan18679" sodipodi:role="line">i</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="333.56259" y="191.73633" id="text18681" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18683" x="333.56259" y="191.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
      </g>
      <g id="g18685" transform="translate(-141.73227,179.16537)">
        <path inkscape:connector-curvature="0" id="path18687" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text18689" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan18691" sodipodi:role="line">r</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="167.14961" y="317.41727" id="text18693" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18695" x="167.14961" y="317.41727" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
    </g>
    <g id="g18357-3" transform="translate(2.992126e-7,389.76378)">
      <text sodipodi:linespacing="125%" id="text18359-5" y="462.52161" x="62.334919" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="462.52161" x="62.334919" id="tspan18361-7" sodipodi:role="line"><tspan style="font-style:italic" id="tspan18551-5">v &lt; w</tspan>?</tspan></text>
      <text sodipodi:linespacing="125%" id="text18365-9" y="479.22571" x="61.77824" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="479.22571" x="61.77824" id="tspan18367-5" sodipodi:role="line">v &lt; w</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618356,450.52163 0,35.43307 230.314964,0 0,-17.71654" id="path18371-1" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-345.95471" y="294.64984" id="text18373-9" sodipodi:linespacing="125%" transform="matrix(0,-1,1,0,0,0)"><tspan sodipodi:role="line" id="tspan18375-5" x="-345.95471" y="294.64984" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan18557-7">v &gt; w</tspan></tspan></text>
      <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path18379-6" d="m 52.618356,468.23816 230.314964,0 0,-159.44882 17.71653,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.334919" y="500.52151" id="text11072" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11074" x="62.334919" y="500.52151" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">(Symmetrical to the case for <tspan style="font-style:italic" id="tspan11080">v &gt; w</tspan>)</tspan></text>
    </g>
    <g transform="translate(530.9648,423.71848)" id="g18801">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect18803" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect18805" width="230.31496" height="124.01581" x="35.433056" y="292.55112" ry="1.0054181"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text18807" sodipodi:linespacing="125%"><tspan id="tspan18813" sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">The ins_aux call may have returned an RVT(i).</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan18911">The tree may therefore be invalid.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 159.44883,327.98424 0,-35.43306" id="path18817" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path18819" d="m 159.44883,327.98418 -35.43307,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path18821" d="m 159.44883,327.98418 35.43307,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-124.01574,196.88184)" id="g18823">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path18825" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="284.20337" y="133.28091" id="text18827" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18829" x="284.20337" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v &gt; w</tspan></text>
      </g>
      <g transform="translate(-124.01574,179.16538)" id="g18831">
        <path inkscape:connector-curvature="0" id="path18833" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text18835" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan18837" sodipodi:role="line">l</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text18839" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18841" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="295.56259" y="183.73633" id="text18843" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18845" x="295.56259" y="183.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
        <text sodipodi:linespacing="125%" id="text18847" y="191.73633" x="333.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="191.73633" x="333.56259" id="tspan18849" sodipodi:role="line">i</tspan></text>
      </g>
      <g transform="translate(-124.01574,179.16538)" id="g18851">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path18853" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text18855" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18857" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text18859" y="317.41727" x="184.86615" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.41727" x="184.86615" id="tspan18861" sodipodi:role="line">h</tspan></text>
      <path style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" d="m 103.24078,355.44993 c -11.225119,7.89072 -14.072922,23.31242 -10.86578,35.97679 1.60873,6.46591 5.419721,12.44421 10.9264,16.26078 -0.3416,-1.31822 -2.47816,-2.64673 -3.21509,-4.20314 -7.471936,-11.6024 -7.970683,-27.2987 -2.346616,-39.80554 1.395325,-3.00426 3.316526,-5.79573 5.743556,-8.03188 l -0.18185,-0.24248 -0.0606,0.0454 z" id="path5981-6" inkscape:connector-curvature="0"/>
      <path style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" d="m 157.25182,355.64694 c 9.03109,8.87477 10.88356,22.81877 8.69869,34.8402 -1.27297,6.2828 -3.93445,12.56835 -8.71384,16.95789 1.32634,0.0343 2.83147,-2.05233 4.04625,-3.04606 9.23731,-9.57691 10.25123,-24.74921 5.83449,-36.77998 -1.96016,-4.90004 -5.3251,-9.20547 -9.66858,-12.22968 l -0.19701,0.25763 z" id="path5983-5" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.14962" y="381.13385" id="text6008-3" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6010-2" x="53.14962" y="381.13385" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">ins_aux</tspan></text>
      <text sodipodi:linespacing="125%" id="text18890" y="381.13385" x="147.14963" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="381.13385" x="147.14963" id="tspan18892" sodipodi:role="line">, <tspan style="font-style:italic" id="tspan18894">w</tspan></tspan></text>
    </g>
    <g id="g18913" transform="translate(530.9648,228.83659)">
      <rect style="fill:#d3aee2;fill-opacity:1;stroke:none" id="rect18915" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.0054181" y="292.55112" x="35.433056" height="124.01581" width="230.31496" id="rect18917" style="fill:#ebdaf2;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text18919" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line" id="tspan19033">bal() will fix the tree to be either valid or an</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan19037">RVT.  Both are valid ins_aux return values.</tspan></text>
      <path inkscape:connector-curvature="0" id="path18925" d="m 185.16537,327.98424 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="M 185.16537,327.98418 149.7323,363.41733" id="path18927" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 185.16537,327.98418 35.43307,35.43315" id="path18929" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g18931" transform="translate(-98.2992,196.88184)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path18933" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text18935" y="133.28091" x="284.20337" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="284.20337" id="tspan18937" sodipodi:role="line">v &gt; w</tspan></text>
      </g>
      <g id="g18939" transform="translate(-98.2992,179.16538)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path18941" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text18943" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18945" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
        <text sodipodi:linespacing="125%" id="text18947" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan18949" sodipodi:role="line"/></text>
        <text sodipodi:linespacing="125%" id="text18951" y="183.73633" x="295.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="183.73633" x="295.56259" id="tspan18953" sodipodi:role="line">i</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="333.56259" y="191.73633" id="text18955" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18957" x="333.56259" y="191.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
      </g>
      <g id="g18959" transform="translate(-98.2992,179.16538)">
        <path inkscape:connector-curvature="0" id="path18961" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text18963" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan18965" sodipodi:role="line">r</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="210.58269" y="317.41727" id="text18967" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18969" x="210.58269" y="317.41727" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <path inkscape:connector-curvature="0" id="path18971" d="m 128.95732,355.44993 c -11.22512,7.89072 -14.07292,23.31242 -10.86578,35.97679 1.60873,6.46591 5.41972,12.44421 10.9264,16.26078 -0.3416,-1.31822 -2.47816,-2.64673 -3.21509,-4.20314 -7.47194,-11.6024 -7.97069,-27.2987 -2.34662,-39.80554 1.39533,-3.00426 3.31653,-5.79573 5.74356,-8.03188 l -0.18185,-0.24248 -0.0606,0.0454 z" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/>
      <path inkscape:connector-curvature="0" id="path18973" d="m 182.96836,355.64694 c 9.03109,8.87477 10.88356,22.81877 8.69869,34.8402 -1.27297,6.2828 -3.93445,12.56835 -8.71384,16.95789 1.32634,0.0343 2.83147,-2.05233 4.04625,-3.04606 9.23731,-9.57691 10.25123,-24.74921 5.83449,-36.77998 -1.96016,-4.90004 -5.3251,-9.20547 -9.66858,-12.22968 l -0.19701,0.25763 z" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/>
      <text sodipodi:linespacing="125%" id="text18975" y="381.13385" x="78.866158" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="381.13385" x="78.866158" id="tspan18977" sodipodi:role="line">ins_aux</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="172.86617" y="381.13385" id="text18979" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18981" x="172.86617" y="381.13385" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">, <tspan id="tspan18983" style="font-style:italic">w</tspan></tspan></text>
      <path style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" d="m 86.284965,302.72061 c -19.250786,23.81241 -21.587187,58.48589 -10.806127,86.57323 2.845951,6.91799 6.801908,13.3763 11.675586,19.05356 C 68.221097,376.9428 68.341248,334.43261 86.284965,302.72061 z" id="path19019" inkscape:connector-curvature="0"/>
      <path style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" d="m 239.43337,302.07473 c 15.55841,25.04282 17.23564,57.14994 9.3781,85.14636 -2.01943,6.98588 -5.37489,14.42522 -8.88127,20.18233 20.62019,-24.92248 21.80702,-61.74789 9.40727,-90.53849 -2.7427,-5.67399 -6.25834,-11.02106 -10.5003,-15.70934 l 0.43259,0.66692 0.16361,0.25222 z" id="path19021" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="50.866158" y="359.13385" id="text19027" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19029" x="50.866158" y="359.13385" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">bal</tspan></text>
    </g>
    <g transform="translate(265.74803,389.76378)" id="g18985">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.334919" y="462.52161" id="text18987" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18989" x="62.334919" y="462.52161" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Assign ins_aux(<tspan style="font-style:italic" id="tspan19013">l</tspan>, <tspan style="font-style:italic" id="tspan19015">w</tspan>) to the <tspan style="font-style:italic" id="tspan19017">l</tspan> pointer.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618358,450.52163 0,17.71653 230.314962,0 0,-159.44882 17.71653,0" id="path19005" inkscape:connector-curvature="0" sodipodi:nodetypes="ccccc"/>
    </g>
    <g id="g19039" transform="translate(496.06299,194.88189)">
      <text sodipodi:linespacing="125%" id="text19041" y="63.348648" x="-446.60034" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve" transform="matrix(0,-1,1,0,0,0)"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="63.348648" x="-446.60034" id="tspan19043" sodipodi:role="line">Apply bal() to the whole tree.</tspan></text>
      <path sodipodi:nodetypes="ccccc" inkscape:connector-curvature="0" id="path19051" d="m 88.051429,485.9547 0,-17.71654 -35.433071,0 0,-159.44882 17.71653,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    </g>
    <path inkscape:connector-curvature="0" id="path7198-2-0" d="m 52.618356,308.78935 0,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
  </g>
</svg>
    </p>

    <section class="generated_listing" xml:base="../../code/d/html/rb/insert/recursive.d.html"><pre class="prettyprint">module rb.insert.recursive;

import rb.node;
import rb.rotate;

import std.stdio;

Node* insert_aux(Node* root, int value) {

  Node* o; </pre>
<div class="section"><pre class="indent">  </pre><div class="CommentParagraph">We are going to return o.</div></div>
<pre class="prettyprint">
  if (root == null) { </pre>
<div class="section"><pre class="indent">    </pre><div class="CommentParagraph">insertion into the empty set is just a red node.</div></div>
<pre class="prettyprint">    o = new Node(value);
  }
  else if (value == root.value) { </pre>
<div class="section"><pre class="indent">    </pre><div class="CommentParagraph">the tree already contains the value. Already a valid tree. No adjustment required.</div></div>
<pre class="prettyprint">    o = root;
  }
  else { </pre>
<div class="section"><pre class="indent">    </pre><div class="CommentParagraph">We have to insert value into a subtree.</div></div>
<pre class="prettyprint">
    int dir = root.value &lt; value;  // We need to insert in that subtree.

    Node** into = &amp;root.c[dir];

    bool red_before = red(*into);
    *into = insert_aux(*into, value); // Do the insert.
    bool red_after = red(*into);

    if (red_before &amp;&amp; !red_after) {
      writeln("Red -&gt; Black!");
    }
 </pre>
<div class="section"><pre class="indent">    </pre><div class="CommentParagraph">Now, insert may have passed up a red node.
If we have room, make a home for it here; otherwise pass up again.</div></div>
<pre class="prettyprint">
    if (red(*into)) { </pre>
<div class="section"><pre class="indent">      </pre><div class="CommentParagraph">A red node was passed up.  Make room, or pass it up again.</div></div>
<pre class="prettyprint">
      Node ** sibling = &amp;root.c[!dir];

      if (red(*sibling)) { </pre>
<div class="section"><pre class="indent">        </pre><div class="CommentParagraph">The sibling is red at height N-1.  Implies root is black, at height N.</div></div>
<pre class="prettyprint">
        (*sibling).black = true;  // Turn sibling into black tree (height N).
        (*into).black = true;     // Set passed-up node black.  If it passed by an RV'd tree, that's fixed by it.  Is now BT(N).
        root.black = false;       // Then turn `root` into red tree at height N.  We've pushed the red up the tree.
      }
      else { </pre>
<div class="section"><pre class="indent">        </pre><div class="CommentParagraph">The sibling is black.  root maybe red.</div></div>
<pre class="prettyprint">        Node** far_child = &amp;(*into).c[dir];
        if (red(*far_child)) { </pre>
<div class="section"><pre class="indent">          </pre><div class="CommentParagraph">into is red, far child is red.  RV.  sibling is black.</div></div>

<div class="section"><pre class="indent">          </pre><div class="CommentParagraph">        root, R/B  &lt;== was previously either BT(N) or RT(N-1)
      /           \
     /             \
sibling, B(N-1)   into, RVT(dir, N-1)
                   /       \
                  /         \
    near child, B(TN-1)    far child, R(N-1)</div></div>
<pre class="prettyprint">
          assert(!red(root));   // WHY???

          rb.rotate.single_ptr(&amp;root, !dir);
 </pre>
<div class="section"><pre class="indent">          </pre><div class="CommentParagraph">           --into, B(N)--
          /              \
         /                \
       root, R(N-1)    far child, R(N-1)
      /           \
     /             \
 sibling, B(N-1)   near child, BT(N-1)</div></div>

<div class="section"><pre class="indent">          </pre><div class="CommentParagraph">Rebalancing stops here.</div></div>
<pre class="prettyprint">        }
        else { </pre>
<div class="section"><pre class="indent">          </pre><div class="CommentParagraph">far child is black.</div></div>
<pre class="prettyprint">          Node** near_child = &amp;(*into).c[!dir];
          if (red(*near_child)) {

            assert(!red(root));   // WHY???
 </pre>
<div class="section"><pre class="indent">            </pre><div class="CommentParagraph">near child is red.</div></div>

<div class="section"><pre class="indent">            </pre><div class="CommentParagraph">        root, R/B  &lt;== was previously either BT(N) or RT(N-1)
      /           \
     /             \
sibling, B(N-1)   into, RVT(!dir, N-1)
                   /           \
                  /             \
       near_child, RT(N-1)     far child, BT(N-1)
         /             \
        /               \
 near_gc, BT(N-1)  far_gc, BT(N-1)</div></div>
<pre class="prettyprint">
            rb.rotate.dbl_ptr(&amp;root, !dir);
 </pre>
<div class="section"><pre class="indent">            </pre><div class="CommentParagraph">           near child, BT(N)
          /                \
         /                  \
    root, RT(N-1)        into, RT(N-1)
   /         \            /       \
sibling,   near gc,    far gc,     far child,
BT(N-1)    BT(N-1)     BT(N-1)     BT(N-1)</div></div>

<div class="section"><pre class="indent">            </pre><div class="CommentParagraph">Rebalancing stops here.</div></div>
<pre class="prettyprint">          }
          else { </pre>
<div class="section"><pre class="indent">            </pre><div class="CommentParagraph">near child is black.</div></div>

<div class="section"><pre class="indent">            </pre><div class="CommentParagraph">        root, RVT(dir, N-1) or BT(N)
      /           \
     /             \
sibling, B(N-1)   into, RT(N-1)
                   /           \
                  /             \
       near_child, BT(N-1)     far child, BT(N-1)</div></div>

<div class="section"><pre class="indent">            </pre><div class="CommentParagraph">Either root is black, and rebalancing stops here, or root is red, and we have an RVT to pass up.</div></div>
<pre class="prettyprint">          }
        }
      }
    }
    else { </pre>
<div class="section"><pre class="indent">      </pre><div class="CommentParagraph">No red was passed up.  We're OK.</div></div>
<pre class="prettyprint">    }

    o = root;
  }

  return o;
}


Node* insert(Node* root, int value) {
  Node* r = insert_aux(root, value);
  r.black = true;
  return r;
} </pre></section>    
  </section>

  <section>
    <h4>A recursive <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> <code>remove</code> algorithm</h4>

    <p>
      Here is how the <code>balance_black_sibling</code> procedure works:

      <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="1052.3622" height="744.09448" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="recursive_remove_balance_black_sibling.svg" inkscape:export-filename="/home/james/inst/edu/3-msc/net-storage/terms/3/verifying-concurrent-indexes/paper/rbt/recursive_remove_balance_black_sibling.png" inkscape:export-xdpi="90" inkscape:export-ydpi="90">
  <defs id="defs4">
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-2" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-4" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="0.7" inkscape:cx="499.52771" inkscape:cy="369.70372" inkscape:document-units="mm" inkscape:current-layer="layer1" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="5mm" spacingy="5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(0,-308.2677)">
    <g id="g7054" transform="translate(2.6627089e-5,104.29833)">
      <rect style="fill:#b0aee2;fill-opacity:1;stroke:none" id="rect4527-36-6-5" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.1490486" y="292.55112" x="35.433056" height="141.73227" width="230.31496" id="rect4525-86-1-3" style="fill:#dbdaf2;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text4239-51-8-6" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan6195-4" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line"><tspan style="font-weight:bold" id="tspan3553">Precondition:</tspan> the subtree <tspan id="tspan6240" style="font-style:italic">l</tspan> is black at height <tspan id="tspan6242" style="font-style:italic">h</tspan>,</tspan><tspan id="tspan6238" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line">the other subtree is black-rooted at <tspan id="tspan6244" style="font-style:italic">h</tspan>+1.</tspan></text>
      <g transform="translate(-177.16537,196.88184)" id="g3889">
        <path inkscape:connector-curvature="0" id="path6429-4" d="m 283.46457,131.1024 0,-35.433065" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="M 283.46457,131.10234 248.0315,184.25195" id="path3834" inkscape:connector-curvature="0"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,166.53541 -35.43307,17.71654" id="path3814" inkscape:connector-curvature="0"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,166.53541 35.43307,17.71654" id="path3816" inkscape:connector-curvature="0"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 283.46457,131.10234 70.86614,35.43307" id="path3016" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <g id="g3856">
          <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path3804" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text3004" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan3006" sodipodi:role="line">v</tspan></text>
        </g>
        <g id="g3861">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path3828" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text3830" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3832" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
          <text sodipodi:linespacing="125%" id="text3836" y="185.96849" x="269.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="269.74802" id="tspan3838" sodipodi:role="line">BT(h)</tspan></text>
        </g>
        <g id="g3868">
          <path inkscape:connector-curvature="0" id="path3812" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text3820" y="209.73633" x="315.4155" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="315.4155" id="tspan3822" sodipodi:role="line">rl</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="307.74802" y="185.96849" id="text3844" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3846" x="307.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
        </g>
        <g id="g3875">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 389.76377,184.25195 -17.71653,35.43307 35.43307,0 z" id="path3818" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="386.37872" y="209.4838" id="text3824" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3826" x="386.37872" y="209.4838" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rr</tspan></text>
          <text sodipodi:linespacing="125%" id="text3848" y="185.96849" x="399.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="399.74802" id="tspan3850" sodipodi:role="line">h</tspan></text>
        </g>
        <g id="g3882">
          <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path3806" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,200.4183,115.11795)"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="350.43805" y="169.27" id="text3808" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3810" x="350.43805" y="169.27" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rv</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="395.74802" y="155.96849" id="text3852" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854" x="395.74802" y="155.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h+1)</tspan></text>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="360.88187" y="120.53542" id="text3852-9" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0" x="360.88187" y="120.53542" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">[was RT(h+1) or BT(h+2)]</tspan></text>
      </g>
    </g>
    <g id="g5503" transform="translate(265.74806,194.88104)">
      <rect ry="0.28726187" y="166.53548" x="35.433086" height="35.433033" width="230.31494" id="rect4527-36" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect4525-86" width="230.31496" height="159.44881" x="35.433071" y="201.96851" ry="1.2926797"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 106.2992,237.40168 0,-35.43307" id="path6429-6" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149624" y="182.252" id="text4239-51" sodipodi:linespacing="125%"><tspan id="tspan5497" sodipodi:role="line" x="53.149624" y="182.252" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">The far child of the sibling is an RT. We will</tspan><tspan id="tspan5501" sodipodi:role="line" x="53.149624" y="195.377" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">blacken it and do a rotation.</tspan></text>
      <g transform="translate(-177.16536,106.29921)" id="g3923">
        <path inkscape:connector-curvature="0" id="path3925" d="M 283.46457,131.10234 248.0315,184.25195" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path inkscape:connector-curvature="0" id="path3927" d="m 354.33071,166.53541 -35.43307,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path inkscape:connector-curvature="0" id="path3929" d="m 354.33071,166.53541 35.43307,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path3931" d="m 283.46457,131.10234 70.86614,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <g id="g3933">
          <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path3935" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text3937" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3939" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
        </g>
        <g id="g3941">
          <path inkscape:connector-curvature="0" id="path3943" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text3945" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan3947" sodipodi:role="line">l</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="248.03148" y="237.40157" id="text3949" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3951" x="248.03148" y="237.40157" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
        </g>
        <g id="g3953">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path3955" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="315.4155" y="209.73633" id="text3957" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3959" x="315.4155" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rl</tspan></text>
          <text sodipodi:linespacing="125%" id="text3961" y="237.40157" x="318.89761" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve" inkscape:transform-center-x="2.32575" inkscape:transform-center-y="-7.6750039"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="237.40157" x="318.89761" id="tspan3963" sodipodi:role="line">h</tspan></text>
        </g>
        <g id="g3965">
          <path inkscape:connector-curvature="0" id="path3967" d="m 389.76377,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text3969" y="209.4838" x="386.37872" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.4838" x="386.37872" id="tspan3971" sodipodi:role="line">rr</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="389.76376" y="237.40157" id="text3973" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3975" x="389.76376" y="237.40157" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(h)</tspan></text>
        </g>
        <g id="g3977">
          <path transform="matrix(0.5167323,0,0,0.5167323,200.4183,115.11795)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path3979" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text3981" y="169.27" x="350.43805" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="169.27" x="350.43805" id="tspan3983" sodipodi:role="line">rv</tspan></text>
          <text sodipodi:linespacing="125%" id="text3985" y="155.96849" x="397.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="155.96849" x="397.74802" id="tspan3987" sodipodi:role="line">BT(h+1)</tspan></text>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="360.33072" y="121.3858" id="text3852-9-8" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0-8" x="360.33072" y="121.3858" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">[was RT(h+1) or BT(h+2)]</tspan></text>
      </g>
    </g>
    <g id="g6264" transform="translate(-248.03144,318.89684)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect4527-36-6" width="230.31494" height="35.433033" x="283.46457" y="255.1181" ry="0.28726187"/>
      <rect ry="1.1490486" y="290.55112" x="283.46454" height="141.73227" width="230.31496" id="rect4525-86-1" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,325.98423 0,-35.43307" id="path6429-8" inkscape:connector-curvature="0"/>
      <text sodipodi:linespacing="125%" id="text4239-51-8" y="270.83463" x="301.18109" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="270.83463" x="301.18109" sodipodi:role="line" id="tspan5501-7">The far child of the sibling is an RT. We cannot</tspan><tspan id="tspan6195" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="283.95963" x="301.18109" sodipodi:role="line">blacken it, so we next look to blacken <tspan id="tspan6197" style="font-style:italic">rl</tspan>.</tspan></text>
      <g id="g3989" transform="translate(70.866132,194.88182)">
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="M 283.46457,131.10234 248.0315,184.25195" id="path3991" inkscape:connector-curvature="0"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,166.53541 -35.43307,17.71654" id="path3993" inkscape:connector-curvature="0"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,166.53541 35.43307,17.71654" id="path3995" inkscape:connector-curvature="0"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 283.46457,131.10234 70.86614,35.43307" id="path3997" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <g id="g3999">
          <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path4001" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text4003" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan4005" sodipodi:role="line">v</tspan></text>
        </g>
        <g id="g4007">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path4009" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text4011" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4013" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
          <text sodipodi:linespacing="125%" id="text4015" y="185.96849" x="271.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="271.74802" id="tspan4017" sodipodi:role="line">BT(h)</tspan></text>
        </g>
        <g id="g4019">
          <path inkscape:connector-curvature="0" id="path4021" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text4023" y="209.73633" x="315.4155" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="315.4155" id="tspan4025" sodipodi:role="line">rl</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="307.74802" y="185.96849" id="text4027" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4029" x="307.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
        </g>
        <g id="g4031">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 389.76377,184.25195 -17.71653,35.43307 35.43307,0 z" id="path4033" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="386.37872" y="209.4838" id="text4035" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4037" x="386.37872" y="209.4838" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rr</tspan></text>
          <text sodipodi:linespacing="125%" id="text4039" y="185.96849" x="413.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="413.74802" id="tspan4041" sodipodi:role="line">BT(h)</tspan></text>
        </g>
        <g id="g4043">
          <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path4045" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,200.4183,115.11795)"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="350.43805" y="169.27" id="text4047" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4049" x="350.43805" y="169.27" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rv</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="393.74802" y="155.96849" id="text4051" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4053" x="393.74802" y="155.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h+1)</tspan></text>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="363.44879" y="120.25195" id="text3852-9-5" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0-7" x="363.44879" y="120.25195" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">[was RT(h+1) or BT(h+2)]</tspan></text>
      </g>
    </g>
    <g id="g4725" transform="translate(513.77956,-230.31578)">
      <rect ry="0.28726187" y="591.73224" x="35.433071" height="35.433033" width="230.31494" id="rect4527-1" style="fill:#b7e2ae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#def2da;fill-opacity:1;stroke:none" id="rect4525-3" width="230.31496" height="159.44882" x="35.433056" y="627.16528" ry="1.2926798"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149609" y="607.44879" id="text4239-0" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149609" y="607.44879" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan4537-7">The new root is now a valid RT(h+1), as was</tspan><tspan id="tspan4689" sodipodi:role="line" x="53.149609" y="620.57379" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">the root before deletion, so we're done.</tspan></text>
      <g id="g4055" transform="translate(-177.16536,531.49606)">
        <path sodipodi:nodetypes="cc" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="M 283.46457,166.53542 248.0315,184.25195" id="path4057" inkscape:connector-curvature="0"/>
        <path sodipodi:nodetypes="cc" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 283.46457,166.53542 35.43307,17.71653" id="path4059" inkscape:connector-curvature="0"/>
        <path sodipodi:nodetypes="cc" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.3307,166.5355 35.43308,17.71645" id="path4061" inkscape:connector-curvature="0"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.3307,166.5355 -70.86613,-8e-5" id="path4063" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <g transform="translate(2.9795094e-6,35.433073)" id="g4065">
          <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path4067" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text4069" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan4071" sodipodi:role="line">v</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="242.88187" y="120.53542" id="text4117-1" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4119-1" x="242.88187" y="120.53542" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h+1)</tspan></text>
        </g>
        <g id="g4073">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path4075" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text4077" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4079" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
          <text sodipodi:linespacing="125%" id="text4081" y="237.40154" x="248.03146" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="237.40154" x="248.03146" id="tspan4083" sodipodi:role="line">BT(h)</tspan></text>
        </g>
        <g id="g4085">
          <path inkscape:connector-curvature="0" id="path4087" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text4089" y="209.73633" x="315.4155" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="315.4155" id="tspan4091" sodipodi:role="line">rl</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="318.89761" y="237.40154" id="text4093" sodipodi:linespacing="125%" inkscape:transform-center-x="2.32575" inkscape:transform-center-y="-9.1080488"><tspan sodipodi:role="line" id="tspan4095" x="318.89761" y="237.40154" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
        </g>
        <g id="g4097">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 389.76377,184.25195 -17.71653,35.43307 35.43307,0 z" id="path4099" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="386.37872" y="209.4838" id="text4101" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4103" x="386.37872" y="209.4838" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rr</tspan></text>
          <text sodipodi:linespacing="125%" id="text4105" y="237.40154" x="389.76376" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="237.40154" x="389.76376" id="tspan4107" sodipodi:role="line">BT(h+1)</tspan></text>
        </g>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 177.16535,591.73226 1e-5,-70.86614" id="path6429" inkscape:connector-curvature="0" transform="translate(177.16534,-425.19676)" sodipodi:nodetypes="cc"/>
        <g transform="translate(-9.723705e-6,8.8092382e-5)" id="g4109">
          <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path4111" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,200.4183,115.11795)"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="350.43805" y="169.27" id="text4113" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4115" x="350.43805" y="169.27" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rv</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="399.74802" y="155.96849" id="text4117" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4119" x="399.74802" y="155.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(h+1)</tspan></text>
        </g>
      </g>
    </g>
    <text sodipodi:linespacing="125%" id="text3852-9-8-5" y="550.58179" x="62.866173" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="550.58179" x="62.866173" id="tspan3854-0-8-3" sodipodi:role="line">Test the color of the root of <tspan style="font-style:italic;font-weight:bold" id="tspan7222">rr</tspan>.</tspan></text>
    <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-432.28259" y="295.18109" id="text4225" sodipodi:linespacing="125%" transform="matrix(0,-1,1,0,0,0)"><tspan sodipodi:role="line" id="tspan4227" x="-432.28259" y="295.18109" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic;text-align:start;text-anchor:start" id="tspan4235">rr</tspan> is an RT</tspan></text>
    <g id="g6829" transform="translate(513.77952,-124.01643)">
      <rect style="fill:#b7e2ae;fill-opacity:1;stroke:none" id="rect4527-1-2" width="230.31494" height="35.433033" x="283.4646" y="485.43289" ry="0.28726187"/>
      <rect ry="1.2926795" y="520.86603" x="283.46457" height="159.44879" width="230.31496" id="rect4525-3-3" style="fill:#def2da;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text4239-0-7" y="501.14944" x="301.18115" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan4537-7-5" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="501.14944" x="301.18115" sodipodi:role="line">The new root is now a valid BT(h+2), as was</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="514.27441" x="301.18115" sodipodi:role="line" id="tspan4689-5">the root before deletion, so we're done.</tspan></text>
      <path inkscape:connector-curvature="0" id="path6429-5" d="m 425.19684,556.29919 0,-35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <g transform="translate(70.866148,425.19673)" id="g4455">
        <path inkscape:connector-curvature="0" id="path4457" d="M 283.46457,166.53542 248.0315,184.25195" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cc"/>
        <path inkscape:connector-curvature="0" id="path4459" d="m 283.46457,166.53542 35.43307,17.71653" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cc"/>
        <path inkscape:connector-curvature="0" id="path4461" d="m 354.33071,131.10234 35.43307,53.14961" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cc"/>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path4463" d="m 354.33071,131.10234 -70.86614,35.43308" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <g id="g4465" transform="translate(2.9795094e-6,35.433073)">
          <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path4467" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text4469" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4471" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
          <text sodipodi:linespacing="125%" id="text4473" y="120.53542" x="242.88187" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="120.53542" x="242.88187" id="tspan4475" sodipodi:role="line">BT(h+1)</tspan></text>
        </g>
        <g id="g4477">
          <path inkscape:connector-curvature="0" id="path4479" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text4481" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan4483" sodipodi:role="line">l</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="248.03149" y="237.40152" id="text4485" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4487" x="248.03149" y="237.40152" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
        </g>
        <g id="g4489">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path4491" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="315.4155" y="209.73633" id="text4493" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4495" x="315.4155" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rl</tspan></text>
          <text sodipodi:linespacing="125%" id="text4497" y="237.40152" x="318.89764" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="237.40152" x="318.89764" id="tspan4499" sodipodi:role="line">h</tspan></text>
        </g>
        <g id="g4501">
          <path inkscape:connector-curvature="0" id="path4503" d="m 389.76377,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text4505" y="209.4838" x="386.37872" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.4838" x="386.37872" id="tspan4507" sodipodi:role="line">rr</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="389.76379" y="237.40152" id="text4509" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan4511" x="389.76379" y="237.40152" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h+1)</tspan></text>
        </g>
        <g id="g4513" transform="translate(4.7117929e-6,-35.433071)">
          <path transform="matrix(0.5167323,0,0,0.5167323,200.4183,115.11795)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path4515" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text4517" y="169.27" x="350.43805" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="169.27" x="350.43805" id="tspan4519" sodipodi:role="line">rv</tspan></text>
          <text sodipodi:linespacing="125%" id="text4521" y="155.96849" x="307.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="155.96849" x="307.74802" id="tspan4523" sodipodi:role="line">BT(h+2)</tspan></text>
        </g>
      </g>
    </g>
    <text sodipodi:linespacing="125%" id="text4239-0-5" y="337.69992" x="318.89764" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="337.69992" x="318.89764" sodipodi:role="line" id="tspan5777">Single rotate left.  Blacken <tspan style="font-style:italic;font-weight:bold;text-align:start;text-anchor:start" id="tspan4719">rr</tspan> to be a BT(h+1).  Color the new root with the old color.</tspan></text>
    <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 566.92913,343.69993 248.03153,-10e-6 0,17.71654" id="path5779" inkscape:connector-curvature="0" sodipodi:nodetypes="ccc"/>
    <text sodipodi:linespacing="125%" id="text6246" y="567.28589" x="62.309494" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="567.28589" x="62.309494" id="tspan6248" sodipodi:role="line"><tspan id="tspan6250" style="font-style:italic;text-align:start;text-anchor:start">rr</tspan> is a BT</tspan></text>
    <text sodipodi:linespacing="125%" id="text6252" y="355.10147" x="584.64581" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="355.10147" x="584.64581" id="tspan6254" sodipodi:role="line">The root was red</tspan></text>
    <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="832.67719" y="355.10147" id="text6258" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6260" x="832.67719" y="355.10147" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">The root was black</tspan></text>
    <g id="g6307" transform="translate(-248.03147,549.21174)">
      <rect ry="0.28726187" y="255.1181" x="283.46457" height="35.433033" width="283.46454" id="rect6309" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect6311" width="283.46463" height="159.44888" x="283.46454" y="290.55112" ry="1.2926803"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,325.98424 0,-35.43307" id="path6429-69" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="301.18109" y="270.83463" id="text6313" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="301.18109" y="270.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan6447">The near child of the sibling is an RT.  This red will be</tspan><tspan sodipodi:role="line" x="301.18109" y="283.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan6451">blackened in the course of a double rotation.</tspan></text>
      <g transform="translate(70.866132,194.88182)" id="g6321">
        <path inkscape:connector-curvature="0" id="path6323" d="M 283.46457,131.10234 248.0315,184.25195" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path inkscape:connector-curvature="0" id="path6325" d="m 425.19686,166.53549 -70.86614,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cc"/>
        <path inkscape:connector-curvature="0" id="path6327" d="m 425.19686,166.53549 35.43307,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cc"/>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path6329" d="m 283.46457,131.10234 141.73229,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <g id="g6331">
          <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path6333" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text6335" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6337" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
        </g>
        <g id="g6339">
          <path inkscape:connector-curvature="0" id="path6341" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text6343" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan6345" sodipodi:role="line">l</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="248.03148" y="237.40164" id="text6347" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6349" x="248.03148" y="237.40164" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
        </g>
        <g id="g6351" transform="translate(1.1464567e-5,7.9959399e-5)">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path6353" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="317.65021" y="209.73633" id="text6355" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6357" x="317.65021" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rll</tspan></text>
          <text sodipodi:linespacing="125%" id="text6359" y="237.40157" x="318.89761" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="237.40157" x="318.89761" id="tspan6361" sodipodi:role="line">BT(h)</tspan></text>
        </g>
        <g id="g6363" transform="translate(70.866155,7.8722303e-5)">
          <path inkscape:connector-curvature="0" id="path6365" d="m 389.76377,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text6367" y="209.4838" x="386.37872" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.4838" x="386.37872" id="tspan6369" sodipodi:role="line">rr</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="389.76376" y="237.40157" id="text6371" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6373" x="389.76376" y="237.40157" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
        </g>
        <g id="g6375" transform="translate(70.866155,7.8722303e-5)">
          <path transform="matrix(0.5167323,0,0,0.5167323,200.4183,115.11795)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path6377" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text6379" y="169.27" x="350.43805" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="169.27" x="350.43805" id="tspan6381" sodipodi:role="line">rv</tspan></text>
          <text sodipodi:linespacing="125%" id="text6383" y="155.96849" x="393.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="155.96849" x="393.74802" id="tspan6385" sodipodi:role="line">BT(h+1)</tspan></text>
        </g>
        <text sodipodi:linespacing="125%" id="text6387" y="120.25195" x="363.44879" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="120.25195" x="363.44879" id="tspan6389" sodipodi:role="line">[was RT(h+1) or BT(h+2)]</tspan></text>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 141.73228,839.76376 70.86615,0" id="path6443" inkscape:connector-curvature="0" transform="translate(177.16537,-655.51173)"/>
        <g transform="translate(1.358167e-5,17.716614)" id="g6375-4">
          <path transform="matrix(0.5167323,0,0,0.5167323,200.4183,115.11795)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path6377-4" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text6379-3" y="169.27" x="355.65048" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="169.27" x="355.65048" id="tspan6381-2" sodipodi:role="line">rlv</tspan></text>
          <text sodipodi:linespacing="125%" id="text6383-7" y="143.96849" x="353.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="143.96849" x="353.74802" id="tspan6385-9" sodipodi:role="line">RT(h)</tspan></text>
        </g>
        <g transform="translate(70.866148,8.0825541e-5)" id="g6431">
          <path inkscape:connector-curvature="0" id="path6433" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text6435" y="209.73633" x="313.4155" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="313.4155" id="tspan6437" sodipodi:role="line">rlr</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="318.89761" y="237.40157" id="text6439" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6441" x="318.89761" y="237.40157" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
        </g>
      </g>
    </g>
    <g transform="translate(70.866182,549.21182)" id="g6517">
      <rect style="fill:#b7e2ae;fill-opacity:1;stroke:none" id="rect6519" width="283.46454" height="35.433033" x="283.46457" y="255.1181" ry="0.28726187"/>
      <rect ry="1.2926797" y="290.55112" x="283.46454" height="159.44881" width="283.46463" id="rect6521" style="fill:#def2da;fill-opacity:1;stroke:none"/>
      <path inkscape:connector-curvature="0" id="path6523" d="m 425.19684,361.41724 0,-70.86615" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cc"/>
      <text sodipodi:linespacing="125%" id="text6525" y="270.83463" x="301.18109" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan6529" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="270.83463" x="301.18109" sodipodi:role="line">The root was previously RT(h+1).  It is now RT(h+1).</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="283.95963" x="301.18109" sodipodi:role="line" id="tspan6635">We are done.</tspan></text>
      <g id="g6531" transform="translate(70.866132,194.88182)">
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path6627" d="m 354.33071,166.53542 -70.86614,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="M 283.46457,166.53542 248.0315,184.25195" id="path6533" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <path sodipodi:nodetypes="cc" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 425.19686,166.53549 -35.43308,17.71646" id="path6535" inkscape:connector-curvature="0"/>
        <path sodipodi:nodetypes="cc" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 425.19686,166.53549 35.43307,17.71654" id="path6537" inkscape:connector-curvature="0"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,166.53542 70.86615,7e-5" id="path6539" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <path transform="translate(177.16537,-655.51173)" inkscape:connector-curvature="0" id="path6601" d="m 106.2992,822.04715 35.43307,17.71653" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cc"/>
        <g id="g6541" transform="translate(1.8456512e-6,35.433072)">
          <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path6543" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text6545" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan6547" sodipodi:role="line">v</tspan></text>
        </g>
        <g id="g6549">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path6551" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text6553" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6555" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
          <text sodipodi:linespacing="125%" id="text6557" y="237.40157" x="248.03146" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="237.40157" x="248.03146" id="tspan6559" sodipodi:role="line">h</tspan></text>
        </g>
        <g transform="translate(1.1464567e-5,7.9959399e-5)" id="g6561">
          <path inkscape:connector-curvature="0" id="path6563" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text6565" y="209.73633" x="317.65021" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="317.65021" id="tspan6567" sodipodi:role="line">rll</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="318.89758" y="237.40149" id="text6569" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6571" x="318.89758" y="237.40149" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
        </g>
        <g transform="translate(70.866155,7.8722303e-5)" id="g6573">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 389.76377,184.25195 -17.71653,35.43307 35.43307,0 z" id="path6575" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="386.37872" y="209.4838" id="text6577" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6579" x="386.37872" y="209.4838" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rr</tspan></text>
          <text sodipodi:linespacing="125%" id="text6581" y="237.40149" x="389.76373" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="237.40149" x="389.76373" id="tspan6583" sodipodi:role="line">BT(h)</tspan></text>
        </g>
        <g transform="translate(70.866155,7.8722303e-5)" id="g6585">
          <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path6587" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,200.4183,115.11795)"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="350.43805" y="169.27" id="text6589" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6591" x="350.43805" y="169.27" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rv</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="393.74802" y="155.96849" id="text6593" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6595" x="393.74802" y="155.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h+1)</tspan></text>
          <text sodipodi:linespacing="125%" id="text6629" y="155.96849" x="173.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="155.96849" x="173.74802" id="tspan6631" sodipodi:role="line">BT(h+1)</tspan></text>
        </g>
        <g id="g6603" transform="translate(3.5779346e-6,-6.5151096e-7)">
          <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path6605" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,200.4183,115.11795)"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="355.65048" y="169.27" id="text6607" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6609" x="355.65048" y="169.27" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rlv</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="377.74802" y="141.96849" id="text6611" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6613" x="377.74802" y="141.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(h+1)</tspan></text>
        </g>
        <g id="g6615" transform="translate(70.866148,8.0825541e-5)">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path6617" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="313.4155" y="209.73633" id="text6619" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6621" x="313.4155" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rlr</tspan></text>
          <text sodipodi:linespacing="125%" id="text6623" y="237.40149" x="318.89761" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="237.40149" x="318.89761" id="tspan6625" sodipodi:role="line">BT(h)</tspan></text>
        </g>
      </g>
    </g>
    <g id="g6637" transform="translate(372.04727,549.21177)">
      <rect ry="0.28726187" y="255.1181" x="283.46457" height="35.433033" width="283.46454" id="rect6639" style="fill:#b7e2ae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#def2da;fill-opacity:1;stroke:none" id="rect6641" width="283.46463" height="159.44885" x="283.46454" y="290.55112" ry="1.29268"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 425.19684,325.98416 0,-35.43307" id="path6643" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="301.18109" y="270.83463" id="text6645" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="301.18109" y="270.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan6647">The root was previously BT(h+2).  It is now BT(h+2).</tspan><tspan id="tspan6649" sodipodi:role="line" x="301.18109" y="283.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">We are done.</tspan></text>
      <g transform="translate(70.866132,194.88182)" id="g6651">
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,131.10234 -70.86614,35.43308" id="path6653" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path6655" d="M 283.46457,166.53542 248.0315,184.25195" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path inkscape:connector-curvature="0" id="path6657" d="m 425.19686,166.53549 -35.43308,17.71646" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cc"/>
        <path inkscape:connector-curvature="0" id="path6659" d="m 425.19686,166.53549 35.43307,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cc"/>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path6661" d="m 354.33071,131.10234 70.86615,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path sodipodi:nodetypes="cc" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 106.2992,822.04715 35.43307,17.71653" id="path6663" inkscape:connector-curvature="0" transform="translate(177.16537,-655.51173)"/>
        <g transform="translate(1.8456512e-6,35.433072)" id="g6665">
          <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path6667" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text6669" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6671" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
        </g>
        <g id="g6673">
          <path inkscape:connector-curvature="0" id="path6675" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text6677" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan6679" sodipodi:role="line">l</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="248.03148" y="237.40161" id="text6681" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6683" x="248.03148" y="237.40161" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
        </g>
        <g id="g6685" transform="translate(1.1464567e-5,7.9959399e-5)">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path6687" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="317.65021" y="209.73633" id="text6689" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6691" x="317.65021" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rll</tspan></text>
          <text sodipodi:linespacing="125%" id="text6693" y="237.40154" x="318.89761" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="237.40154" x="318.89761" id="tspan6695" sodipodi:role="line">BT(h)</tspan></text>
        </g>
        <g id="g6697" transform="translate(70.866155,7.8722303e-5)">
          <path inkscape:connector-curvature="0" id="path6699" d="m 389.76377,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text6701" y="209.4838" x="386.37872" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.4838" x="386.37872" id="tspan6703" sodipodi:role="line">rr</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="389.76376" y="237.40154" id="text6705" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6707" x="389.76376" y="237.40154" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
        </g>
        <g id="g6709" transform="translate(70.866155,7.8722303e-5)">
          <path transform="matrix(0.5167323,0,0,0.5167323,200.4183,115.11795)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path6711" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text6713" y="169.27" x="350.43805" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="169.27" x="350.43805" id="tspan6715" sodipodi:role="line">rv</tspan></text>
          <text sodipodi:linespacing="125%" id="text6717" y="155.96849" x="393.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="155.96849" x="393.74802" id="tspan6719" sodipodi:role="line">BT(h+1)</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="173.74802" y="155.96849" id="text6721" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6723" x="173.74802" y="155.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h+1)</tspan></text>
        </g>
        <g transform="translate(3.5779346e-6,-35.433072)" id="g6725">
          <path transform="matrix(0.5167323,0,0,0.5167323,200.4183,115.11795)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path6727" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text6729" y="169.27" x="355.65048" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="169.27" x="355.65048" id="tspan6731" sodipodi:role="line">rlv</tspan></text>
          <text sodipodi:linespacing="125%" id="text6733" y="153.96849" x="393.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="153.96849" x="393.74802" id="tspan6735" sodipodi:role="line">BT(h+2)</tspan></text>
        </g>
        <g transform="translate(70.866148,8.0825541e-5)" id="g6737">
          <path inkscape:connector-curvature="0" id="path6739" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text6741" y="209.73633" x="313.4155" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="313.4155" id="tspan6743" sodipodi:role="line">rlr</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="318.89761" y="237.40154" id="text6745" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6747" x="318.89761" y="237.40154" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
        </g>
      </g>
    </g>
    <text sodipodi:linespacing="125%" id="text4239-0-5-9" y="1028.9283" x="50.86618" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="1028.9283" x="50.86618" sodipodi:role="line" id="tspan7204">Double rotate left.  Color previous root black.  Color new root with color of previous root.</tspan></text>
    <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 372.04724,1016.9283 301.1811,0 0,-17.71659" id="path5779-0" inkscape:connector-curvature="0" sodipodi:nodetypes="ccc"/>
    <text sodipodi:linespacing="125%" id="text6252-6" y="1010.3299" x="381.76379" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="1010.3299" x="381.76379" id="tspan6254-9" sodipodi:role="line">The root was red</tspan></text>
    <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="682.94495" y="1012.6449" id="text6258-7" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6260-7" x="682.94495" y="1012.6449" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">The root was black</tspan></text>
    <g id="g6872" transform="translate(17.716606,318.89685)">
      <rect ry="0.28726187" y="255.1181" x="283.46457" height="35.433033" width="230.31494" id="rect6874" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect6876" width="230.31496" height="141.73227" x="283.46454" y="290.55112" ry="1.1490486"/>
      <path inkscape:connector-curvature="0" id="path6878" d="m 354.33071,325.98423 0,-35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="301.18109" y="270.83463" id="text6880" sodipodi:linespacing="125%"><tspan id="tspan6882" sodipodi:role="line" x="301.18109" y="270.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Both children of the sibling are black, so we can</tspan><tspan sodipodi:role="line" x="301.18109" y="283.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan6884">redden <tspan style="font-style:italic" id="tspan6962">rv</tspan> to become RT(h).</tspan></text>
      <g transform="translate(70.866132,194.88182)" id="g6888">
        <path inkscape:connector-curvature="0" id="path6890" d="M 283.46457,131.10234 248.0315,184.25195" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path inkscape:connector-curvature="0" id="path6892" d="m 354.33071,166.53541 -35.43307,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path inkscape:connector-curvature="0" id="path6894" d="m 354.33071,166.53541 35.43307,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path6896" d="m 283.46457,131.10234 70.86614,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <g id="g6898">
          <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path6900" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text6902" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6904" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
        </g>
        <g id="g6906">
          <path inkscape:connector-curvature="0" id="path6908" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text6910" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan6912" sodipodi:role="line">l</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="229.74802" y="185.96849" id="text6914" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6916" x="229.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
        </g>
        <g id="g6918">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path6920" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="315.4155" y="209.73633" id="text6922" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6924" x="315.4155" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rl</tspan></text>
          <text sodipodi:linespacing="125%" id="text6926" y="185.96849" x="299.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="299.74802" id="tspan6928" sodipodi:role="line">BT(h)</tspan></text>
        </g>
        <g id="g6930">
          <path inkscape:connector-curvature="0" id="path6932" d="m 389.76377,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text6934" y="209.4838" x="386.37872" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.4838" x="386.37872" id="tspan6936" sodipodi:role="line">rr</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="413.74802" y="185.96849" id="text6938" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6940" x="413.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
        </g>
        <g id="g6942">
          <path transform="matrix(0.5167323,0,0,0.5167323,200.4183,115.11795)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path6944" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text6946" y="169.27" x="350.43805" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="169.27" x="350.43805" id="tspan6948" sodipodi:role="line">rv</tspan></text>
          <text sodipodi:linespacing="125%" id="text6950" y="155.96849" x="393.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="155.96849" x="393.74802" id="tspan6952" sodipodi:role="line">BT(h+1)</tspan></text>
        </g>
        <text sodipodi:linespacing="125%" id="text6954" y="120.25195" x="363.44879" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="120.25195" x="363.44879" id="tspan6956" sodipodi:role="line">[was RT(h+1) or BT(h+2)]</tspan></text>
      </g>
    </g>
    <g transform="translate(265.74809,318.89685)" id="g6964">
      <rect style="fill:#b7e2ae;fill-opacity:1;stroke:none" id="rect6966" width="230.31494" height="35.433033" x="283.46457" y="255.1181" ry="0.28726187"/>
      <rect ry="1.1490486" y="290.55112" x="283.46454" height="141.73227" width="230.31496" id="rect6968" style="fill:#def2da;fill-opacity:1;stroke:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33065,343.70072 6e-5,-53.14956" id="path6970" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <text sodipodi:linespacing="125%" id="text6972" y="270.83463" x="301.18109" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="270.83463" x="301.18109" sodipodi:role="line" id="tspan7052">We have a BT(h+1).  The root was red, so it</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="283.95963" x="301.18109" sodipodi:role="line" id="tspan7192">was an RT(h+1).  We are done.</tspan></text>
      <g id="g6980" transform="translate(70.866132,194.88182)">
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="M 283.46452,148.8189 248.0315,184.25195" id="path6982" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33066,184.25197 -35.43302,-2e-5" id="path6984" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33066,184.25197 35.43312,-2e-5" id="path6986" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 283.46452,148.8189 70.86614,35.43307" id="path6988" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <g id="g6990" transform="translate(-5.0595294e-5,17.716555)">
          <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path6992" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text6994" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan6996" sodipodi:role="line">v</tspan></text>
        </g>
        <g id="g6998">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path7000" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text7002" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan7004" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
          <text sodipodi:linespacing="125%" id="text7006" y="185.96849" x="229.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="229.74802" id="tspan7008" sodipodi:role="line">BT(h)</tspan></text>
        </g>
        <g id="g7010">
          <path inkscape:connector-curvature="0" id="path7012" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text7014" y="209.73633" x="315.4155" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="315.4155" id="tspan7016" sodipodi:role="line">rl</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="299.74802" y="185.96849" id="text7018" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan7020" x="299.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
        </g>
        <g id="g7022">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 389.76377,184.25195 -17.71653,35.43307 35.43307,0 z" id="path7024" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="386.37872" y="209.4838" id="text7026" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan7028" x="386.37872" y="209.4838" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rr</tspan></text>
          <text sodipodi:linespacing="125%" id="text7030" y="185.96849" x="413.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="413.74802" id="tspan7032" sodipodi:role="line">BT(h)</tspan></text>
        </g>
        <g id="g7034" transform="translate(-4.886301e-5,17.716553)">
          <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path7036" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,200.4183,115.11795)"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="350.43805" y="169.27" id="text7038" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan7040" x="350.43805" y="169.27" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rv</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="372.04724" y="148.81888" id="text7042" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan7044" x="372.04724" y="148.81888" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(h)</tspan></text>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="318.89758" y="131.10236" id="text7046" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan7048" x="318.89758" y="131.10236" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h+1)</tspan></text>
      </g>
    </g>
    <g id="g7106" transform="translate(513.7796,318.89692)">
      <rect ry="0.28726187" y="255.1181" x="283.46457" height="35.433033" width="230.31494" id="rect7108" style="fill:#e2aeae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#f2dada;fill-opacity:1;stroke:none" id="rect7110" width="230.31496" height="141.73227" x="283.46454" y="290.55112" ry="1.1490486"/>
      <path inkscape:connector-curvature="0" id="path7112" d="m 354.33064,343.70065 7e-5,-53.14949" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cc"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="301.18109" y="270.83463" id="text7114" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="301.18109" y="270.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan7116">We have a BT(h+1).  The root was black, so it</tspan><tspan id="tspan7118" sodipodi:role="line" x="301.18109" y="283.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">was a BT(h+2).  We pass up the violation.</tspan></text>
      <g transform="translate(70.866132,194.88182)" id="g7120">
        <path inkscape:connector-curvature="0" id="path7122" d="m 283.4645,148.81883 -35.433,35.43312" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cc"/>
        <path inkscape:connector-curvature="0" id="path7124" d="m 354.33065,184.2519 -35.43301,5e-5" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cc"/>
        <path inkscape:connector-curvature="0" id="path7126" d="m 354.33065,184.2519 35.43313,5e-5" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cc"/>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path7128" d="m 283.4645,148.81883 70.86615,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <g id="g7130" transform="translate(-6.4528566e-5,17.716485)">
          <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path7132" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text7134" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan7136" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
        </g>
        <g id="g7138">
          <path inkscape:connector-curvature="0" id="path7140" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text7142" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan7144" sodipodi:role="line">l</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="229.74802" y="185.96849" id="text7146" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan7148" x="229.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
        </g>
        <g id="g7150">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path7152" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="315.4155" y="209.73633" id="text7154" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan7156" x="315.4155" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rl</tspan></text>
          <text sodipodi:linespacing="125%" id="text7158" y="185.96849" x="299.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="299.74802" id="tspan7160" sodipodi:role="line">BT(h)</tspan></text>
        </g>
        <g id="g7162">
          <path inkscape:connector-curvature="0" id="path7164" d="m 389.76377,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text7166" y="209.4838" x="386.37872" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.4838" x="386.37872" id="tspan7168" sodipodi:role="line">rr</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="413.74802" y="185.96849" id="text7170" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan7172" x="413.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
        </g>
        <g id="g7174" transform="translate(-6.2800018e-5,17.716483)">
          <path transform="matrix(0.5167323,0,0,0.5167323,200.4183,115.11795)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path7176" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text7178" y="169.27" x="350.43805" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="169.27" x="350.43805" id="tspan7180" sodipodi:role="line">rv</tspan></text>
          <text sodipodi:linespacing="125%" id="text7182" y="148.81888" x="383.76379" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="148.81888" x="383.76379" id="tspan7184" sodipodi:role="line">RT(h)</tspan></text>
        </g>
        <text sodipodi:linespacing="125%" id="text7186" y="131.10229" x="318.89758" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="131.10229" x="318.89758" id="tspan7188" sodipodi:role="line">BT(h+1)</tspan></text>
      </g>
    </g>
    <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 53.149606,538.58182 0,35.43307" id="path7198" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 53.149606,556.29835 230.314964,0 0,-177.16535 17.71653,0" id="path7200" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 53.149606,999.21174 0,17.71656 318.897634,0 0,-17.71656" id="path7206" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 318.89764,361.41646 0,-17.71653 248.03149,0 0,17.71653" id="path7208" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
    <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 318.89764,751.18024 0,17.71654 248.03149,0 0,-17.71654" id="path7210" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 566.92913,768.89678 248.0315,0 0,-17.71654" id="path7212" inkscape:connector-curvature="0"/>
    <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="574.92914" y="762.89679" id="text7214" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan7216" x="574.92914" y="762.89679" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">The root was red</tspan></text>
    <text sodipodi:linespacing="125%" id="text7218" y="765.21179" x="826.11029" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="765.21179" x="826.11029" id="tspan7220" sodipodi:role="line">The root was black</tspan></text>
    <text sodipodi:linespacing="125%" id="text7224" y="780.61334" x="318.89764" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="780.61334" x="318.89764" id="tspan7226" sodipodi:role="line">Redden subtree at <tspan style="font-style:italic" id="tspan7228">rv</tspan>.  If the root is black, pass up the violation; else blacken the root and finish.</tspan></text>
    <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 53.149606,751.18024 0,53.14961" id="path7232" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 53.149606,768.89678 230.314964,0 0,-177.16535 17.71653,0" id="path7234" inkscape:connector-curvature="0"/>
    <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="59.149605" y="762.89679" id="text7236" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan7238" x="59.149605" y="762.89679" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Test the color of the root of <tspan id="tspan7240" style="font-style:italic;font-weight:bold">rl</tspan>.</tspan></text>
    <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="61.149605" y="798.61334" id="text7242" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan7244" x="61.149605" y="798.61334" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic;text-align:start;text-anchor:start" id="tspan7246">rl</tspan> is an RT</tspan></text>
    <text transform="matrix(0,-1,1,0,0,0)" sodipodi:linespacing="125%" id="text7248" y="295.18109" x="-638.28259" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="295.18109" x="-638.28259" id="tspan7250" sodipodi:role="line"><tspan id="tspan7252" style="font-style:italic;text-align:start;text-anchor:start">rl</tspan> is a BT</tspan></text>
    <path inkscape:connector-curvature="0" id="path7198-2" d="m 53.149606,325.98424 0,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
  </g>
</svg>
    </p>

    <p>
      Here is how the <code>balance</code> procedure works:

      <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="692" height="674.28125" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="recursive_remove_balance.svg" inkscape:export-filename="/home/james/inst/edu/3-msc/net-storage/terms/3/verifying-concurrent-indexes/paper/rbt/recursive_remove_balance.png" inkscape:export-xdpi="90" inkscape:export-ydpi="90">
  <defs id="defs4">
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="0.98994949" inkscape:cx="297.88638" inkscape:cy="319.01038" inkscape:document-units="mm" inkscape:current-layer="layer1" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="5mm" spacingy="5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(0.53125,-307.73644)">
    <g transform="translate(-1.5529122e-5,299.18109)" id="g5557">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect5559" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect5561" width="230.31496" height="141.73227" x="35.433056" y="292.55112" ry="1.1490486"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text5563" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan5573"><tspan style="font-style:italic" id="tspan5654">rv</tspan> is the root of a BT(<tspan style="font-style:italic" id="tspan5660">h</tspan>+1).  Its children are</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan5656">therefore at height <tspan style="font-style:italic" id="tspan5658">h</tspan>.</tspan></text>
      <g id="g5577" transform="translate(-177.16537,196.88184)">
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 283.46457,131.1024 0,-35.433065" id="path5579" inkscape:connector-curvature="0"/>
        <path inkscape:connector-curvature="0" id="path5581" d="M 283.46457,131.10234 248.0315,184.25195" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path inkscape:connector-curvature="0" id="path5583" d="m 354.33071,166.53541 -35.43307,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path inkscape:connector-curvature="0" id="path5585" d="m 354.33071,166.53541 35.43307,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path5587" d="m 283.46457,131.10234 70.86614,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <g id="g5589">
          <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path5591" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text5593" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5595" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
        </g>
        <g id="g5597">
          <path inkscape:connector-curvature="0" id="path5599" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text5601" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan5603" sodipodi:role="line">l</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="271.74802" y="185.96849" id="text5605" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5607" x="271.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
        </g>
        <g id="g5609">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path5611" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="315.4155" y="209.73633" id="text5613" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5615" x="315.4155" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rl</tspan></text>
          <text sodipodi:linespacing="125%" id="text5617" y="185.96849" x="307.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="307.74802" id="tspan5619" sodipodi:role="line">h</tspan></text>
        </g>
        <g id="g5621">
          <path inkscape:connector-curvature="0" id="path5623" d="m 389.76377,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text5625" y="209.4838" x="386.37872" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.4838" x="386.37872" id="tspan5627" sodipodi:role="line">rr</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="399.74802" y="185.96849" id="text5629" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5631" x="399.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
        </g>
        <g id="g5633">
          <path transform="matrix(0.5167323,0,0,0.5167323,200.4183,115.11795)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path5635" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text5637" y="169.27" x="350.43805" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="169.27" x="350.43805" id="tspan5639" sodipodi:role="line">rv</tspan></text>
          <text sodipodi:linespacing="125%" id="text5641" y="155.96849" x="395.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="155.96849" x="395.74802" id="tspan5643" sodipodi:role="line">BT(h+1)</tspan></text>
        </g>
        <text sodipodi:linespacing="125%" id="text5645" y="120.53542" x="360.88187" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="120.53542" x="360.88187" id="tspan5647" sodipodi:role="line">[was RT(h+1) or BT(h+2)]</tspan></text>
      </g>
    </g>
    <g id="g5662" transform="translate(265.74802,299.18109)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect5664" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.1490486" y="292.55112" x="35.433056" height="141.73227" width="230.31496" id="rect5666" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text5668" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan5670" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line"><tspan id="tspan5672" style="font-style:italic">rv</tspan> is the root of an RT(<tspan id="tspan5674" style="font-style:italic">h</tspan>+1).  Its children are</tspan><tspan id="tspan5676" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line">therefore BT(<tspan style="font-style:italic" id="tspan5752">h</tspan>+1), and the root was a BT(<tspan style="font-style:italic" id="tspan5764">h</tspan>+2).</tspan></text>
      <g transform="translate(-177.16537,196.88184)" id="g5680">
        <path inkscape:connector-curvature="0" id="path5682" d="m 283.46459,148.81894 -2e-5,-53.149605" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cc"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="M 283.46459,148.81894 248.0315,184.25195" id="path5684" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33074,184.25201 -35.4331,-6e-5" id="path5686" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33074,184.25201 35.43304,-6e-5" id="path5688" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 283.46459,148.81894 70.86615,35.43307" id="path5690" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <g id="g5692" transform="translate(2.5341714e-5,17.716595)">
          <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path5694" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text5696" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan5698" sodipodi:role="line">v</tspan></text>
        </g>
        <g id="g5700">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path5702" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text5704" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5706" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
          <text sodipodi:linespacing="125%" id="text5708" y="233.40161" x="248.03152" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="233.40161" x="248.03152" id="tspan5710" sodipodi:role="line">BT(h)</tspan></text>
        </g>
        <g id="g5712">
          <path inkscape:connector-curvature="0" id="path5714" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text5716" y="209.73633" x="315.4155" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="315.4155" id="tspan5718" sodipodi:role="line">rl</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="318.89767" y="233.40161" id="text5720" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5722" x="318.89767" y="233.40161" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h+1)</tspan></text>
        </g>
        <g id="g5724">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 389.76377,184.25195 -17.71653,35.43307 35.43307,0 z" id="path5726" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="386.37872" y="209.4838" id="text5728" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5730" x="386.37872" y="209.4838" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rr</tspan></text>
          <text sodipodi:linespacing="125%" id="text5732" y="233.40161" x="389.76379" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="233.40161" x="389.76379" id="tspan5734" sodipodi:role="line">BT(h+1)</tspan></text>
        </g>
        <g id="g5736" transform="translate(2.7073998e-5,17.716593)">
          <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path5738" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,200.4183,115.11795)"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="350.43805" y="169.27" id="text5740" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5742" x="350.43805" y="169.27" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rv</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="372.04724" y="148.81888" id="text5744" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5746" x="372.04724" y="148.81888" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(h+1)</tspan></text>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="336.33075" y="137.1024" id="text5748" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5750" x="336.33075" y="137.1024" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">[was BT(h+2)]</tspan></text>
      </g>
    </g>
    <g id="g7054" transform="translate(2.6627089e-5,86.582635)">
      <rect style="fill:#b0aee2;fill-opacity:1;stroke:none" id="rect4527-36-6-5" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.1490486" y="292.55112" x="35.433056" height="141.73227" width="230.31496" id="rect4525-86-1-3" style="fill:#dbdaf2;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text4239-51-8-6" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan6195-4" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line"><tspan style="font-weight:bold" id="tspan3553">Precondition:</tspan> the subtree <tspan id="tspan6240" style="font-style:italic">l</tspan> is black at height <tspan id="tspan6242" style="font-style:italic">h</tspan>,</tspan><tspan id="tspan6238" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line">the other subtree is non-empty at height <tspan id="tspan6244" style="font-style:italic">h</tspan>+1.</tspan></text>
      <g transform="translate(-177.16537,196.88184)" id="g3889">
        <path inkscape:connector-curvature="0" id="path6429-4" d="m 283.46457,131.1024 0,-35.433065" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="M 283.46457,131.10234 248.0315,184.25195" id="path3834" inkscape:connector-curvature="0"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,166.53541 -35.43307,17.71654" id="path3814" inkscape:connector-curvature="0"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,166.53541 35.43307,17.71654" id="path3816" inkscape:connector-curvature="0"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 283.46457,131.10234 70.86614,35.43307" id="path3016" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <g id="g3856">
          <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path3804" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text3004" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan3006" sodipodi:role="line">v</tspan></text>
        </g>
        <g id="g3861">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path3828" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text3830" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3832" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
          <text sodipodi:linespacing="125%" id="text3836" y="185.96849" x="271.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="271.74802" id="tspan3838" sodipodi:role="line">BT(h)</tspan></text>
        </g>
        <g id="g3868">
          <path inkscape:connector-curvature="0" id="path3812" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text3820" y="209.73633" x="315.4155" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="315.4155" id="tspan3822" sodipodi:role="line">rl</tspan></text>
        </g>
        <g id="g3875">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 389.76377,184.25195 -17.71653,35.43307 35.43307,0 z" id="path3818" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="386.37872" y="209.4838" id="text3824" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3826" x="386.37872" y="209.4838" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rr</tspan></text>
        </g>
        <g id="g3882">
          <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path3806" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,200.4183,115.11795)"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="350.43805" y="169.27" id="text3808" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3810" x="350.43805" y="169.27" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rv</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="387.74802" y="155.96849" id="text3852" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854" x="387.74802" y="155.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h+1</tspan></text>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="360.88187" y="120.53542" id="text3852-9" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0" x="360.88187" y="120.53542" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">[was RT(h+1) or BT(h+2)]</tspan></text>
      </g>
    </g>
    <text sodipodi:linespacing="125%" id="text3852-9-8-5" y="532.86609" x="62.866173" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="532.86609" x="62.866173" id="tspan3854-0-8-3" sodipodi:role="line">Test the color of <tspan style="font-style:italic;font-weight:bold" id="tspan7222">rv</tspan>.</tspan></text>
    <text sodipodi:linespacing="125%" id="text6246" y="549.57019" x="62.309494" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="549.57019" x="62.309494" id="tspan6248" sodipodi:role="line"><tspan id="tspan6250" style="font-style:italic;text-align:start;text-anchor:start">rv</tspan> is black</tspan></text>
    <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 53.149606,212.59842 0,35.43307" id="path7198" inkscape:connector-curvature="0" transform="translate(0,308.2677)"/>
    <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 53.149606,230.31495 265.748034,0 0,17.71654" id="path7200" inkscape:connector-curvature="0" transform="translate(0,308.2677)" sodipodi:nodetypes="ccc"/>
    <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="330.30948" y="549.57019" id="text5758" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5760" x="330.30948" y="549.57019" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic;text-align:start;text-anchor:start" id="tspan5762">rv</tspan> is red</tspan></text>
    <path inkscape:connector-curvature="0" id="path5862" d="m 53.149606,733.46455 0,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    <g transform="translate(336.61417,511.77949)" id="g5878">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="283.46457" id="rect5880" style="fill:#b7e2ae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#def2da;fill-opacity:1;stroke:none" id="rect5882" width="283.46454" height="141.73227" x="35.433083" y="292.55112" ry="1.1490486"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text5884" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan6018">bal_b applied to the red-rooted tree will return a valid</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan6026">tree at height <tspan style="font-style:italic" id="tspan6028">h</tspan>+1.  We are done.</tspan></text>
      <g id="g5898" transform="translate(-124.01576,196.88184)">
        <path sodipodi:nodetypes="cc" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 372.04727,131.10241 0,-35.433074" id="path5900" inkscape:connector-curvature="0"/>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path5902" d="m 283.46459,184.25201 -35.43309,-6e-5" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path5904" d="m 283.46459,184.25201 35.43305,-6e-5" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path5906" d="m 372.04727,131.10241 35.43307,53.1496" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path5908" d="m 372.04727,131.10241 -88.58268,53.1496" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
        <g transform="translate(2.534545e-5,53.149671)" id="g5910">
          <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path5912" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text5914" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5916" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
        </g>
        <g id="g5918">
          <path inkscape:connector-curvature="0" id="path5920" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text5922" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan5924" sodipodi:role="line">l</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="248.03152" y="233.40163" id="text5926" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5928" x="248.03152" y="233.40163" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
        </g>
        <g id="g5930">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path5932" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="315.4155" y="209.73633" id="text5934" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5936" x="315.4155" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rl</tspan></text>
          <text sodipodi:linespacing="125%" id="text5938" y="233.40163" x="318.89767" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="233.40163" x="318.89767" id="tspan5940" sodipodi:role="line">BT(h+1)</tspan></text>
        </g>
        <g id="g5942" transform="translate(17.716567,6.4390379e-5)">
          <path inkscape:connector-curvature="0" id="path5944" d="m 389.76377,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text5946" y="209.4838" x="386.37872" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.4838" x="386.37872" id="tspan5948" sodipodi:role="line">rr</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="389.76379" y="233.40163" id="text5950" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5952" x="389.76379" y="233.40163" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h+1)</tspan></text>
        </g>
        <g transform="translate(17.716563,5.7424735e-5)" id="g5954">
          <path transform="matrix(0.5167323,0,0,0.5167323,200.4183,79.684884)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path5956" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text5958" y="133.83694" x="350.43805" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.83694" x="350.43805" id="tspan5960" sodipodi:role="line">rv</tspan></text>
        </g>
        <text sodipodi:linespacing="125%" id="text5966" y="113.38587" x="336.6142" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="113.38587" x="336.6142" id="tspan5968" sodipodi:role="line">BT(h+2)</tspan></text>
        <path inkscape:connector-curvature="0" id="path5981" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" d="m 224.10129,213.72102 c -6.54507,-5.40971 -10.55226,-16.09556 -10.55226,-27.58282 0,-11.48727 3.9404,-22.03955 10.55226,-27.51602 l -1.40251,-1.80324 c -9.81761,6.61185 -14.22552,17.29772 -14.22552,29.25248 l 0,0.0668 c 0,12.08834 4.40791,22.90776 14.22552,29.38605 l 1.40251,-1.80323"/>
        <path inkscape:connector-curvature="0" id="path5983" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" d="m 358.23578,186.1382 c 0,-12.02154 -4.20754,-22.64063 -14.22552,-29.31926 l -1.4693,1.80324 c 6.54508,5.3429 10.61905,16.02875 10.61905,27.51602 0,11.48726 -3.87361,22.03954 -10.61905,27.58282 l 1.4693,1.80323 c 10.01798,-6.81222 14.22552,-17.29771 14.22552,-29.31926 l 0,-0.0668"/>
        <text sodipodi:linespacing="125%" id="text5962" y="148.81894" x="275.4646" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="148.81894" x="275.4646" id="tspan5964" sodipodi:role="line">h+1</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="177.44885" y="190.25201" id="text6008" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6010" x="177.44885" y="190.25201" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">bal_b</tspan></text>
      </g>
    </g>
    <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.866173" y="746.86609" id="text6044" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6046" x="62.866173" y="746.86609" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Pass through to bal_b</tspan><tspan sodipodi:role="line" x="62.866173" y="759.99109" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan6050">with the same parameters.</tspan></text>
    <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 318.89764,733.46454 0,17.71652 70.86614,0 0,17.71654" id="path6052" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
    <text sodipodi:linespacing="125%" id="text6054" y="747.18109" x="330.61417" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="747.18109" x="330.61417" sodipodi:role="line" id="tspan6062">Single rotate left.  Apply bal_b to the left subtree.</tspan></text>
    <g id="g15879" transform="translate(-1.5529122e-5,511.77949)">
      <rect style="fill:#d3aee2;fill-opacity:1;stroke:none" id="rect15881" width="318.89764" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.1490486" y="292.55112" x="35.433056" height="141.73227" width="318.89767" id="rect15883" style="fill:#ebdaf2;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text15885" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line" id="tspan16563">The return state of bal_b() will satisfy the postcondition of</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan16567">balance().  The violation may still be passed up.</tspan></text>
      <g transform="translate(-106.2992,196.88184)" id="g15897">
        <path inkscape:connector-curvature="0" id="path15899" d="m 283.46457,131.1024 0,-35.433065" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="M 283.46457,131.10234 248.0315,184.25195" id="path15901" inkscape:connector-curvature="0"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,166.53541 -35.43307,17.71654" id="path15903" inkscape:connector-curvature="0"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,166.53541 35.43307,17.71654" id="path15905" inkscape:connector-curvature="0"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 283.46457,131.10234 70.86614,35.43307" id="path15907" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <g id="g15909">
          <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path15911" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text15913" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan15915" sodipodi:role="line">v</tspan></text>
        </g>
        <g id="g15917">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path15919" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text15921" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan15923" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
          <text sodipodi:linespacing="125%" id="text15925" y="185.96849" x="271.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="271.74802" id="tspan15927" sodipodi:role="line">BT(h)</tspan></text>
        </g>
        <g id="g15929">
          <path inkscape:connector-curvature="0" id="path15931" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text15933" y="209.73633" x="315.4155" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="315.4155" id="tspan15935" sodipodi:role="line">rl</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="307.74802" y="185.96849" id="text15937" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan15939" x="307.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
        </g>
        <g id="g15941">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 389.76377,184.25195 -17.71653,35.43307 35.43307,0 z" id="path15943" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="386.37872" y="209.4838" id="text15945" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan15947" x="386.37872" y="209.4838" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rr</tspan></text>
          <text sodipodi:linespacing="125%" id="text15949" y="185.96849" x="399.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="399.74802" id="tspan15951" sodipodi:role="line">h</tspan></text>
        </g>
        <g id="g15953">
          <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path15955" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,200.4183,115.11795)"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="350.43805" y="169.27" id="text15957" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan15959" x="350.43805" y="169.27" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rv</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="395.74802" y="155.96849" id="text15961" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan15963" x="395.74802" y="155.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h+1)</tspan></text>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="360.88187" y="120.53542" id="text15965" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan15967" x="360.88187" y="120.53542" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <path style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" d="M 109.4375,313.03125 C 85.5376,329.8801 81.0451,364.47091 91.152641,390.33473 94.88023,399.4196 101.44414,408.58539 109.65625,413.3125 92.307809,396.11964 88.773612,369.11404 93,345.875 c 2.363432,-12.25863 7.79725,-23.76091 16.4375,-32.84375 z" id="path5981-9" inkscape:connector-curvature="0"/>
      <path style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" d="m 317.125,313.3125 c 17.63526,17.31032 21.09096,44.8224 16.54739,68.22926 -2.52823,11.77698 -7.58635,23.45607 -16.54739,31.73949 5.24194,-2.50644 10.1915,-8.5871 13.8125,-13.78125 12.43369,-19.87312 12.87765,-46.91196 2.6875,-67.9375 -3.81577,-7.40924 -9.47825,-13.77883 -16.21875,-18.59375 l -0.28125,0.34375 z" id="path5983-2" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.14962" y="363.41733" id="text6008-5" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6010-0" x="53.14962" y="363.41733" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">bal_b</tspan></text>
    </g>
  </g>
</svg>
    </p>

    <p>
      Here is how the <code>remove_aux</code> procedure works:

      <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="1151.5748" height="1204.7245" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="recursive_remove_aux.svg" inkscape:export-filename="/home/james/inst/edu/3-msc/net-storage/terms/3/verifying-concurrent-indexes/paper/rbt/recursive_remove_aux.png" inkscape:export-xdpi="90" inkscape:export-ydpi="90">
  <defs id="defs4">
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="SquareM" style="overflow:visible">
      <path id="path10104" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-3" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-0" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker10509" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path10511" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-0" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-8" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker10597" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path10599" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-5" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-7" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker10864" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path10866" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker11016" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path11018" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="SquareM-1" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path10104-5" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-8" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-4" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker12514" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path12516" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-1" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-25" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker12706" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path12708" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-4" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-87" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker16589" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path16591" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-30" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-5" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-04" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-1" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-2" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-71" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker17386" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path17388" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-06" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.4" inkscape:cx="343.16889" inkscape:cy="1102.5783" inkscape:document-units="mm" inkscape:current-layer="g9860-8-8-8" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="5mm" spacingy="5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(0,-113.38579)">
    <g id="g9993" transform="translate(265.74804,-108.29918)">
      <rect style="fill:#b7e2ae;fill-opacity:1;stroke:none" id="rect9995" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="0.57452416" y="292.55112" x="35.433056" height="70.866119" width="230.31496" id="rect9997" style="fill:#def2da;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text9999" y="270.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="270.83463" x="53.149605" sodipodi:role="line" id="tspan10489">The tree <tspan style="font-style:italic" id="tspan12484">s</tspan> is empty, and represents the set ∅.</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="286.47394" x="53.149605" sodipodi:role="line" id="tspan10493">∅ \ {<tspan style="font-style:italic" id="tspan10495">w</tspan>} = ∅, so we return the same tree.</tspan></text>
      <g transform="translate(-177.16537,196.88184)" id="g10011">
        <path inkscape:connector-curvature="0" id="path10013" d="m 318.89764,95.669268 0,35.433072" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)" sodipodi:nodetypes="cc"/>
      </g>
      <g id="g10015" transform="translate(-177.16537,126.01569)">
        <text sodipodi:linespacing="125%" id="text10019" y="215.68503" x="316.89764" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="215.68503" x="316.89764" id="tspan10021" sodipodi:role="line">s</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text10023" y="329.41718" x="149.43304" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="329.41718" x="149.43304" id="tspan10025" sodipodi:role="line">BT(h=0)</tspan></text>
    </g>
    <g transform="translate(1.4988456e-5,-108.29917)" id="g9693">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect9695" style="fill:#b0aee2;fill-opacity:1;stroke:none"/>
      <rect style="fill:#dbdaf2;fill-opacity:1;stroke:none" id="rect9697" width="230.31496" height="70.866119" x="35.433056" y="292.55112" ry="0.57452416"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text9699" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan9781"><tspan id="tspan9703" style="font-weight:bold">Precondition:</tspan><tspan style="font-style:italic" id="tspan12482"> s</tspan> is a tree.  We are going to </tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan9787">remove the value <tspan style="font-style:italic" id="tspan9789">w</tspan> if it exists in the tree.</tspan></text>
      <g id="g9713" transform="translate(-177.16537,196.88184)">
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 318.89764,131.1024 0,-35.433061" id="path9715" inkscape:connector-curvature="0"/>
      </g>
      <g transform="translate(-177.16537,126.01569)" id="g9745">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path9747" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="315.4155" y="209.73633" id="text9749" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9751" x="315.4155" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">s</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="157.43304" y="313.41718" id="text9928-1" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9930-6" x="157.43304" y="313.41718" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
    </g>
    <g id="g9842" transform="translate(-1.5529122e-5,33.433038)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect9844" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.0054181" y="292.55112" x="35.433056" height="124.01581" width="230.31496" id="rect9846" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text9848" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan9856" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line"><tspan style="font-style:italic" id="tspan9940">s</tspan> is a non-empty tree containing some value <tspan style="font-style:italic" id="tspan9938">v</tspan></tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan9936">at the root and two possibly empty subtrees.</tspan></text>
      <path inkscape:connector-curvature="0" id="path9862" d="m 141.7323,327.98423 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 141.7323,327.98417 -35.43307,35.43315" id="path9864" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 141.7323,327.98417 35.43307,35.43315" id="path9870" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g9872" transform="translate(-141.73227,196.88183)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path9874" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text9876" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan9878" sodipodi:role="line">v</tspan></text>
      </g>
      <g id="g9880" transform="translate(-141.73227,179.16537)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path9882" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text9884" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9886" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
        <text sodipodi:linespacing="125%" id="text9888" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan9890" sodipodi:role="line"/></text>
        <text sodipodi:linespacing="125%" id="text11470" y="191.73633" x="261.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="191.73633" x="261.56259" id="tspan11472" sodipodi:role="line">i</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="333.56259" y="191.73633" id="text11474" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11476" x="333.56259" y="191.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
      </g>
      <g id="g9892" transform="translate(-141.73227,179.16537)">
        <path inkscape:connector-curvature="0" id="path9894" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text9896" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan9898" sodipodi:role="line">r</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="167.14961" y="317.41727" id="text9928" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9930" x="167.14961" y="317.41727" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
    </g>
    <g transform="translate(-177.16538,230.31488)" id="g9860">
      <text sodipodi:linespacing="125%" id="text3852-9-8-5-3" y="36.803165" x="240.03156" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="36.803165" x="240.03156" id="tspan3854-0-8-3-9" sodipodi:role="line">Is the pointer to tree <tspan style="font-style:italic" id="tspan17891">s</tspan> null?</tspan></text>
      <text sodipodi:linespacing="125%" id="text6246-3" y="53.507275" x="239.47488" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="53.507275" x="239.47488" id="tspan6248-7" sodipodi:role="line"><tspan id="tspan6250-2" style="font-style:italic;text-align:start;text-anchor:start"><tspan style="font-style:normal" id="tspan10561">Pointer to </tspan>s</tspan> is not null</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 230.31499,24.803192 0,35.433072" id="path7198-0" inkscape:connector-curvature="0"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 230.31499,42.519722 230.31496,5e-6 0,-106.299212 17.71654,0" id="path7200-0" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-25.271278" y="472.56787" id="text10577" sodipodi:linespacing="125%" transform="matrix(0,-1,1,0,0,0)"><tspan sodipodi:role="line" id="tspan10579" x="-25.271278" y="472.56787" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Pointer to <tspan style="font-style:italic" id="tspan17893">s</tspan> is null</tspan></text>
    </g>
    <g transform="translate(-1.5529122e-5,263.748)" id="g10798">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect10800" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect10802" width="230.31496" height="124.0158" x="35.433056" y="292.55112" ry="1.0054181"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text10804" sodipodi:linespacing="125%"><tspan id="tspan10812" sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">The value <tspan style="font-style:italic" id="tspan10936">w</tspan> to remove is at the root, and in</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan10938">neither subtree.  Subtrees may be empty.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 141.7323,327.98423 0,-35.43306" id="path10814" inkscape:connector-curvature="0"/>
      <path inkscape:connector-curvature="0" id="path10816" d="m 141.7323,327.98417 -35.43307,35.43314" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path10818" d="m 141.7323,327.98417 35.43307,35.43314" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-141.73227,196.88183)" id="g10820">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path10822" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text10824" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan10826" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">w</tspan></text>
      </g>
      <g transform="translate(-141.73227,179.16536)" id="g10828">
        <path inkscape:connector-curvature="0" id="path10830" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text10832" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan10834" sodipodi:role="line">l</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text10836" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan10838" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <text sodipodi:linespacing="125%" id="text11470-5" y="191.73633" x="261.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="191.73633" x="261.56259" id="tspan11472-1" sodipodi:role="line">i</tspan></text>
      </g>
      <g transform="translate(-141.73227,179.16536)" id="g10840">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path10842" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text10844" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan10846" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
        <text sodipodi:linespacing="125%" id="text11470-1" y="191.73633" x="332.42874" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="191.73633" x="332.42874" id="tspan11472-17" sodipodi:role="line">i</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text10848" y="317.41727" x="167.14961" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.41727" x="167.14961" id="tspan10850" sodipodi:role="line">h</tspan></text>
    </g>
    <g transform="translate(-177.16538,425.19677)" id="g9860-8">
      <text sodipodi:linespacing="125%" id="text3852-9-8-5-3-2" y="36.803165" x="240.03156" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="36.803165" x="240.03156" id="tspan3854-0-8-3-9-6" sodipodi:role="line">Is <tspan style="font-style:italic" id="tspan10922">v</tspan> = <tspan style="font-style:italic" id="tspan10920">w</tspan>?</tspan></text>
      <text sodipodi:linespacing="125%" id="text6246-3-3" y="89.507278" x="239.47488" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="89.507278" x="239.47488" id="tspan6248-7-1" sodipodi:role="line"><tspan style="font-style:italic" id="tspan10924">v = w</tspan></tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 230.31499,24.803192 0,70.866145" id="path7198-0-3" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 230.31499,42.519722 230.31496,5e-6 -1e-5,-159.448817 17.71654,0" id="path7200-0-9" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="82.728722" y="472.56787" id="text10577-9" sodipodi:linespacing="125%" transform="matrix(0,-1,1,0,0,0)"><tspan sodipodi:role="line" id="tspan10579-4" x="82.728722" y="472.56787" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan10930">v ≠ w</tspan></tspan></text>
    </g>
    <g transform="translate(265.74802,33.433038)" id="g10940">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect10942" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect10944" width="230.31496" height="124.01581" x="35.433056" y="292.55112" ry="1.0054181"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text10946" sodipodi:linespacing="125%"><tspan id="tspan10954" sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">The value <tspan style="font-style:italic" id="tspan11136">w</tspan> to remove is not at the root.  If it</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan10998">is in the tree, it is in a subtree.  Which one?</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 141.7323,327.98423 0,-35.43306" id="path10956" inkscape:connector-curvature="0"/>
      <path inkscape:connector-curvature="0" id="path10958" d="m 141.7323,327.98417 -35.43308,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path10960" d="m 141.7323,327.98417 35.43307,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-141.73227,196.88183)" id="g10962">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path10964" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="271.10742" y="133.28091" id="text10966" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan10968" x="271.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v ≠ w</tspan></text>
      </g>
      <g transform="translate(-141.73227,179.16537)" id="g10970">
        <path inkscape:connector-curvature="0" id="path10972" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text10974" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan10976" sodipodi:role="line">l</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text10978" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan10980" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="264.97992" y="191.73633" id="text11474-7" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11476-5" x="264.97992" y="191.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
      </g>
      <g transform="translate(-141.73227,179.16537)" id="g10982">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path10984" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text10986" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan10988" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="333.56259" y="191.73633" id="text11474-5" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11476-2" x="333.56259" y="191.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text10990" y="317.41727" x="167.14961" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.41727" x="167.14961" id="tspan10992" sodipodi:role="line">h</tspan></text>
    </g>
    <g transform="translate(88.582648,425.19676)" id="g9860-8-1">
      <text sodipodi:linespacing="125%" id="text3852-9-8-5-3-2-2" y="36.803165" x="240.03156" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="36.803165" x="240.03156" id="tspan3854-0-8-3-9-6-5" sodipodi:role="line">Is <tspan style="font-style:italic" id="tspan10922-2">v &lt; w</tspan>?</tspan></text>
      <text sodipodi:linespacing="125%" id="text6246-3-3-5" y="53.507275" x="239.47488" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="53.507275" x="239.47488" id="tspan6248-7-1-9" sodipodi:role="line"><tspan style="font-style:italic" id="tspan10924-7">v &lt; w</tspan></tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 230.31499,24.803195 0,35.433071 230.31496,0 0,-17.716536" id="path7198-0-3-7" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 230.31499,42.519722 230.31496,5e-6 0,-301.181097 17.71654,0" id="path7200-0-9-9" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="222.72873" y="472.56787" id="text10577-9-6" sodipodi:linespacing="125%" transform="matrix(0,-1,1,0,0,0)"><tspan sodipodi:role="line" id="tspan10579-4-2" x="222.72873" y="472.56787" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan10930-6">v &gt; w</tspan></tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="240.03156" y="74.803162" id="text11072" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11074" x="240.03156" y="74.803162" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">(Symmetrical to the case for <tspan style="font-style:italic" id="tspan11080">v &gt; w</tspan>)</tspan></text>
    </g>
    <g transform="translate(531.49608,-108.29925)" id="g11167">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect11169" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect11171" width="230.31496" height="124.01581" x="35.433056" y="292.55112" ry="1.1490486"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text11173" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan11175">The value <tspan id="tspan11177" style="font-style:italic">w</tspan> to remove, if it is in the tree, is in</tspan><tspan id="tspan11179" sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan id="tspan11181" style="font-style:italic">l</tspan>.  We need to remove from <tspan style="font-style:italic" id="tspan11221">l</tspan>.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 141.7323,327.98423 0,-35.43306" id="path11183" inkscape:connector-curvature="0"/>
      <path inkscape:connector-curvature="0" id="path11185" d="m 141.7323,327.98417 -35.4331,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path11187" d="m 141.7323,327.98417 35.43304,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-141.73227,196.88183)" id="g11189">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path11191" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="271.10742" y="133.28091" id="text11193" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11195" x="271.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v &gt; w</tspan></text>
      </g>
      <g transform="translate(-141.7323,179.16537)" id="g11197">
        <path inkscape:connector-curvature="0" id="path11199" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text11201" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan11203" sodipodi:role="line">l</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text11205" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11207" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g transform="translate(-141.7323,179.16537)" id="g11209">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path11211" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text11213" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11215" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="333.56259" y="191.73633" id="text11474-57" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11476-3" x="333.56259" y="191.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text11217" y="317.41727" x="167.14961" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.41727" x="167.14961" id="tspan11219" sodipodi:role="line">h</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="119.2476" y="370.61823" id="text11474-3" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11476-1" x="119.2476" y="370.61823" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
    </g>
    <g id="g11223" transform="translate(531.49605,86.582634)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect11225" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.1490486" y="292.55112" x="35.433056" height="124.01582" width="230.31499" id="rect11227" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text11229" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line" id="tspan11235">The tree does not contain <tspan style="font-style:italic" id="tspan11330">w</tspan>.  If not <tspan style="font-style:italic" id="tspan11364">fixed</tspan>, then</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan11332">the rem_aux call passed up a tree at height <tspan style="font-style:italic" id="tspan11553">i</tspan>-1.</tspan></text>
      <path inkscape:connector-curvature="0" id="path11241" d="m 177.16537,327.98424 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="M 177.16537,327.98418 141.7323,363.41733" id="path11243" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 177.16537,327.98425 35.43307,35.43308" id="path11245" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g11247" transform="translate(-106.2992,196.88184)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path11249" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text11251" y="133.28091" x="271.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="271.10742" id="tspan11253" sodipodi:role="line">v &gt; w</tspan></text>
      </g>
      <g id="g11255" transform="translate(-106.2992,179.16538)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path11257" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text11259" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11261" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
        <text sodipodi:linespacing="125%" id="text11263" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan11265" sodipodi:role="line"/></text>
      </g>
      <g id="g11267" transform="translate(-106.2992,179.16538)">
        <path inkscape:connector-curvature="0" id="path11269" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text11271" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan11273" sodipodi:role="line">r</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="333.56259" y="191.73631" id="text11474-56" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11476-59" x="333.56259" y="191.73631" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="202.58269" y="317.41727" id="text11275" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11277" x="202.58269" y="317.41727" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <path inkscape:connector-curvature="0" id="path5981-4" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" d="m 116.29923,398.24065 c -4.13659,-3.41901 -6.66919,-10.17262 -6.66919,-17.43274 0,-7.26011 2.49039,-13.92931 6.66919,-17.39051 l -0.88641,-1.13968 c -6.20487,4.17879 -8.99074,10.93241 -8.99074,18.48799 l 0,0.0422 c 0,7.64 2.78587,14.47803 8.99074,18.5724 l 0.88641,-1.13967"/>
      <path inkscape:connector-curvature="0" id="path5983-3" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" d="m 183.07414,380.80791 c 0,-7.59778 -2.65923,-14.3092 -8.99073,-18.53019 l -0.92862,1.13968 c 4.13658,3.37679 6.71139,10.1304 6.71139,17.39051 0,7.26012 -2.44818,13.92931 -6.71139,17.43274 l 0.92862,1.13967 c 6.3315,-4.30542 8.99073,-10.9324 8.99073,-18.53019 l 0,-0.0422"/>
      <text sodipodi:linespacing="125%" id="text11251-6" y="381.59589" x="62.509007" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="381.59589" x="62.509007" id="tspan11253-9" sodipodi:role="line">rem_aux</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="160.509" y="381.59589" id="text11321" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11323" x="160.509" y="381.59589" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">, <tspan style="font-style:italic" id="tspan11325">w</tspan></tspan></text>
    </g>
    <g id="g11334" transform="translate(354.33068,283.46448)">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="240.03156" y="38.803165" id="text11336" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11338" x="240.03156" y="38.803165" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Apply rem_aux to the left subtree.</tspan><tspan sodipodi:role="line" x="240.03156" y="51.928165" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan11360">Record its return value <tspan style="font-style:italic" id="tspan11362">fixed</tspan>.</tspan></text>
      <path inkscape:connector-curvature="0" id="path11350" d="m 230.31499,24.803192 0,35.433072" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    </g>
    <g transform="translate(797.24411,-108.29925)" id="g11370">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="283.46457" id="rect11372" style="fill:#b7e2ae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#def2da;fill-opacity:1;stroke:none" id="rect11374" width="283.46457" height="124.01581" x="35.433056" y="292.55112" ry="1.1490486"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text11376" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan11569">The call to rem_aux returned a tree at height <tspan style="font-style:italic" id="tspan11561">i</tspan>, and which</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan11687">shall not cause a red violation, and so we're done.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 212.59844,327.98423 0,-35.43306" id="path11386" inkscape:connector-curvature="0"/>
      <path inkscape:connector-curvature="0" id="path11388" d="m 212.59844,327.98417 -35.4331,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path11390" d="m 212.59844,327.98424 35.43304,35.43308" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-70.86613,196.88183)" id="g11392">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path11394" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="271.10742" y="133.28091" id="text11396" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11398" x="271.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v &gt; w</tspan></text>
      </g>
      <g transform="translate(-70.866159,179.16537)" id="g11400">
        <path inkscape:connector-curvature="0" id="path11402" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text11404" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan11406" sodipodi:role="line">l</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text11408" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11410" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g transform="translate(-70.866159,179.16537)" id="g11412">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path11414" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text11416" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11418" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text11420" y="317.41727" x="238.01576" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.41727" x="238.01576" id="tspan11422" sodipodi:role="line">h</tspan></text>
      <path d="m 151.73227,398.24064 c -4.13659,-3.41901 -6.66919,-10.17262 -6.66919,-17.43274 0,-7.26011 2.49039,-13.92931 6.66919,-17.39051 l -0.88641,-1.13968 c -6.20487,4.17879 -8.99074,10.93241 -8.99074,18.48799 l 0,0.0422 c 0,7.64 2.78587,14.47803 8.99074,18.5724 l 0.88641,-1.13967" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="path11424" inkscape:connector-curvature="0"/>
      <path d="m 218.50718,380.8079 c 0,-7.59778 -2.65923,-14.3092 -8.99073,-18.53019 l -0.92862,1.13968 c 4.13658,3.37679 6.71139,10.1304 6.71139,17.39051 0,7.26012 -2.44818,13.92931 -6.71139,17.43274 l 0.92862,1.13967 c 6.3315,-4.30542 8.99073,-10.9324 8.99073,-18.53019 l 0,-0.0422" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="path11426" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="99.942047" y="383.59589" id="text11428" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11430" x="99.942047" y="383.59589" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rem_aux</tspan></text>
      <text sodipodi:linespacing="125%" id="text11432" y="381.59589" x="195.94205" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="381.59589" x="195.94205" id="tspan11434" sodipodi:role="line">, <tspan id="tspan11436" style="font-style:italic">w</tspan></tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="262.69644" y="370.9017" id="text11474-8" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11476-31" x="262.69644" y="370.9017" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="225.26337" y="370.9017" id="text11474-89" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11476-36" x="225.26337" y="370.9017" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
    </g>
    <g id="g11438" transform="translate(354.33068,478.34638)">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="240.03156" y="36.803165" id="text11440" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11442" x="240.03156" y="36.803165" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan11468">fixed</tspan>?</tspan></text>
      <path sodipodi:nodetypes="ccc" inkscape:connector-curvature="0" id="path11452" d="m 460.62995,-99.212562 0,-212.598428 17.71654,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
      <path sodipodi:nodetypes="ccccc" inkscape:connector-curvature="0" id="path11454" d="m 230.31499,24.80319 0,17.716536 230.31496,1e-6 0,-177.165357 17.71654,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
      <text transform="matrix(0,-1,1,0,0,0)" sodipodi:linespacing="125%" id="text11456" y="472.56787" x="78.728722" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="472.56787" x="78.728722" id="tspan11458" sodipodi:role="line">No, ¬<tspan style="font-style:italic" id="tspan11579">fixed</tspan></tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="262.72873" y="472.56787" id="text11571" sodipodi:linespacing="125%" transform="matrix(0,-1,1,0,0,0)"><tspan sodipodi:role="line" id="tspan11573" x="262.72873" y="472.56787" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Yes, <tspan style="font-style:italic" id="tspan11577">fixed</tspan></tspan></text>
    </g>
    <g id="g11581" transform="translate(797.24408,68.866108)">
      <rect style="fill:#d3aee2;fill-opacity:1;stroke:none" id="rect11583" width="283.46457" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.0054181" y="292.55112" x="35.433056" height="124.01581" width="283.4646" id="rect11585" style="fill:#ebdaf2;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text11587" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line" id="tspan11663">rem_aux returned a tree at height <tspan id="tspan11591" style="font-style:italic">i</tspan>-1, which requires</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan11681">balancing.  Pass through bal(), which may pass up violation.</tspan></text>
      <path inkscape:connector-curvature="0" id="path11595" d="m 212.59844,327.98424 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 212.47559,328.3524 -35.31025,35.06491" id="path11597" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 212.47559,328.35247 35.55589,35.06484" id="path11599" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g11601" transform="translate(-70.988978,197.25006)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path11603" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text11605" y="133.28091" x="271.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="271.10742" id="tspan11607" sodipodi:role="line">v &gt; w</tspan></text>
      </g>
      <g id="g11609" transform="translate(-70.866161,179.16536)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path11611" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text11613" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11615" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
        <text sodipodi:linespacing="125%" id="text11617" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan11619" sodipodi:role="line"/></text>
      </g>
      <g id="g11621" transform="translate(-70.866161,179.16536)">
        <path inkscape:connector-curvature="0" id="path11623" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text11625" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan11627" sodipodi:role="line">r</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="237.89291" y="317.78549" id="text11629" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11631" x="237.89291" y="317.78549" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <path inkscape:connector-curvature="0" id="path11633" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" d="m 151.73227,398.24063 c -4.13659,-3.41901 -6.66919,-10.17262 -6.66919,-17.43274 0,-7.26011 2.49039,-13.92931 6.66919,-17.39051 l -0.88641,-1.13968 c -6.20487,4.17879 -8.99074,10.93241 -8.99074,18.48799 l 0,0.0422 c 0,7.64 2.78587,14.47803 8.99074,18.5724 l 0.88641,-1.13967"/>
      <path inkscape:connector-curvature="0" id="path11635" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" d="m 218.50718,380.80789 c 0,-7.59778 -2.65923,-14.3092 -8.99073,-18.53019 l -0.92862,1.13968 c 4.13658,3.37679 6.71139,10.1304 6.71139,17.39051 0,7.26012 -2.44818,13.92931 -6.71139,17.43274 l 0.92862,1.13967 c 6.3315,-4.30542 8.99073,-10.9324 8.99073,-18.53019 l 0,-0.0422"/>
      <text sodipodi:linespacing="125%" id="text11637" y="383.59589" x="99.942047" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="383.59589" x="99.942047" id="tspan11639" sodipodi:role="line">rem_aux</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="195.94205" y="381.59589" id="text11641" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11643" x="195.94205" y="381.59589" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">, <tspan style="font-style:italic" id="tspan11645">w</tspan></tspan></text>
      <text sodipodi:linespacing="125%" id="text11647" y="370.9017" x="262.69641" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="370.9017" x="262.69641" id="tspan11649" sodipodi:role="line">i</tspan></text>
      <text sodipodi:linespacing="125%" id="text11651" y="370.9017" x="225.26337" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="370.9017" x="225.26337" id="tspan11653" sodipodi:role="line">i-1</tspan></text>
      <path style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" d="m 93.322505,313.0212 c -20.43062,14.50197 -24.17681,44.15068 -15.235869,66.2144 3.146776,7.4405 8.707984,15.13359 15.498104,18.90717 -14.740007,-14.56395 -17.792244,-37.55727 -14.13448,-57.24596 2.059059,-10.26816 6.375747,-20.44073 14.13448,-27.66582 l -0.209788,-0.26224 -0.05245,0.0525 z" id="path11665" inkscape:connector-curvature="0"/>
      <path style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" d="m 280.79478,313.57189 c 14.79811,14.46685 17.81868,37.44569 14.21315,57.11484 -2.04804,10.27212 -6.39555,20.54462 -14.21315,27.71827 3.43801,-1.32311 6.84688,-5.487 9.54537,-8.5751 12.28607,-16.05779 13.24053,-38.90487 6.1363,-57.35084 -3.37087,-7.44238 -8.28979,-14.81135 -15.68167,-18.90717 z" id="path11667" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="51.14962" y="359.41733" id="text11669" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11671" x="51.14962" y="359.41733" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">bal</tspan></text>
    </g>
    <g id="g11693" transform="translate(-1.5529122e-5,458.62989)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect11695" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.0054181" y="292.55112" x="35.433056" height="124.0158" width="230.31496" id="rect11697" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text11699" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan11705" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line">The value <tspan id="tspan11703" style="font-style:italic">w</tspan> to remove is at the root.  Subtree</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan11806"><tspan style="font-style:italic" id="tspan11810">l</tspan> is not empty; <tspan style="font-style:italic" id="tspan11808">r</tspan> might be so.</tspan></text>
      <path inkscape:connector-curvature="0" id="path11707" d="m 141.7323,327.98423 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="m 141.7323,327.98417 -35.43307,35.43314" id="path11709" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 141.7323,327.98417 35.43307,35.43314" id="path11711" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g11713" transform="translate(-141.73227,196.88183)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path11715" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text11717" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan11719" sodipodi:role="line">w</tspan></text>
      </g>
      <g id="g11721" transform="translate(-141.73227,179.16536)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path11723" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text11725" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11727" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
        <text sodipodi:linespacing="125%" id="text11729" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan11731" sodipodi:role="line"/></text>
      </g>
      <g id="g11733" transform="translate(-141.73227,179.16536)">
        <path inkscape:connector-curvature="0" id="path11735" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text11737" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan11739" sodipodi:role="line">r</tspan></text>
        <text sodipodi:linespacing="125%" id="text11470-05" y="191.7363" x="332.42874" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="191.7363" x="332.42874" id="tspan11472-2" sodipodi:role="line">i</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="167.14961" y="317.41727" id="text11741" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11743" x="167.14961" y="317.41727" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <text sodipodi:linespacing="125%" id="text11470-0" y="370.90167" x="119.83032" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="370.90167" x="119.83032" id="tspan11472-7" sodipodi:role="line">i</tspan></text>
    </g>
    <g id="g11812" transform="translate(265.74802,263.748)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect11814" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.0054181" y="292.55112" x="35.433056" height="124.0158" width="230.31496" id="rect11816" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text11818" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan11824" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line">The value <tspan id="tspan11822" style="font-style:italic">w</tspan> to remove is at the root.  Subtree</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan11876"><tspan style="font-style:italic" id="tspan11880">l</tspan> is empty.  We want to return the values in <tspan style="font-style:italic" id="tspan11878">r</tspan>.</tspan></text>
      <path inkscape:connector-curvature="0" id="path11826" d="m 141.7323,327.98423 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)" d="m 141.7323,327.98417 -35.43308,35.43314" id="path11828" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 141.7323,327.98417 35.43307,35.43314" id="path11830" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g11832" transform="translate(-141.73227,196.88183)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path11834" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text11836" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan11838" sodipodi:role="line">w</tspan></text>
      </g>
      <g id="g11840" transform="translate(-141.73227,179.16536)">
        <text sodipodi:linespacing="125%" id="text11848" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan11850" sodipodi:role="line"/></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="267.56259" y="191.73633" id="text11852" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11854" x="267.56259" y="191.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(0)</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="199.73633" id="text11844" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11846" x="247.56259" y="199.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
      </g>
      <g id="g11856" transform="translate(-141.73227,179.16536)">
        <path inkscape:connector-curvature="0" id="path11858" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text11860" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan11862" sodipodi:role="line">r</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="336.42874" y="191.73633" id="text11864" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11866" x="336.42874" y="191.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">0</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="167.14961" y="317.41727" id="text11868" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11870" x="167.14961" y="317.41727" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
    </g>
    <g transform="translate(531.49605,281.46453)" id="g12115">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect12117" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect12119" width="230.31496" height="88.582726" x="35.433056" y="292.55112" ry="0.71815586"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text12121" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan12180">The root is at the same height as the subtrees,</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan12764">so <tspan style="font-style:italic" id="tspan12182">h</tspan>=0.  <tspan style="font-style:italic" id="tspan12184">r</tspan> must be empty.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 141.7323,327.98423 0,-35.43306" id="path12133" inkscape:connector-curvature="0"/>
      <path inkscape:connector-curvature="0" id="path12135" d="m 141.7323,327.98417 -35.43307,8e-5" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path12137" d="m 141.7323,327.98417 35.43307,8e-5" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)"/>
      <g transform="translate(-141.73227,196.88183)" id="g12139">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path12141" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text12143" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12145" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">w</tspan></text>
      </g>
      <g transform="translate(-141.73227,174.88183)" id="g12147">
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text12149" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12151" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <text sodipodi:linespacing="125%" id="text12153" y="185.73633" x="251.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.73633" x="251.56259" id="tspan12155" sodipodi:role="line">BT(0)</tspan></text>
        <text sodipodi:linespacing="125%" id="text12157" y="169.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="169.73633" x="247.56259" id="tspan12159" sodipodi:role="line">l</tspan></text>
      </g>
      <g transform="translate(-141.73227,176.88183)" id="g12161">
        <text sodipodi:linespacing="125%" id="text12169" y="185.73633" x="322.42874" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.73633" x="322.42874" id="tspan12171" sodipodi:role="line">BT(0)</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="168.01979" id="text12165" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12167" x="319.19" y="168.01979" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text12173" y="317.41727" x="167.14961" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.41727" x="167.14961" id="tspan12175" sodipodi:role="line">RT(0)</tspan></text>
    </g>
    <g id="g9993-8" transform="translate(797.24408,281.46453)">
      <rect style="fill:#b7e2ae;fill-opacity:1;stroke:none" id="rect9995-9" width="283.46457" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="0.57452416" y="292.55112" x="35.433056" height="70.866119" width="283.4646" id="rect9997-1" style="fill:#def2da;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text9999-3" y="270.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="270.83463" x="53.149605" sodipodi:role="line" id="tspan12496">RT(0) → BT(0) is the same height and cannot cause a red</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="283.95963" x="53.149605" sodipodi:role="line" id="tspan12500">violation.  Therefore we're done.</tspan></text>
      <g transform="translate(-141.73227,196.88191)" id="g10011-4">
        <path inkscape:connector-curvature="0" id="path10013-6" d="m 318.89764,95.669268 0,35.433072" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)" sodipodi:nodetypes="cc"/>
      </g>
      <g id="g10015-1" transform="translate(-141.73227,126.01576)">
        <text sodipodi:linespacing="125%" id="text10019-0" y="215.68503" x="316.89764" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="215.68503" x="316.89764" id="tspan10021-0" sodipodi:role="line">s</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text10023-1" y="329.41724" x="184.86615" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="329.41724" x="184.86615" id="tspan10025-0" sodipodi:role="line">BT(0)</tspan></text>
    </g>
    <g id="g11438-8" transform="translate(354.33068,655.51173)">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="240.03156" y="18.803165" id="text11440-4" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11442-0" x="240.03156" y="18.803165" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Return the null pointer and finish.</tspan></text>
      <path sodipodi:nodetypes="ccccc" inkscape:connector-curvature="0" id="path11454-2" d="m 230.31499,7.0866556 0,17.7165364 230.31496,1e-6 0,-124.01575 17.71654,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    </g>
    <g transform="translate(265.74802,458.62987)" id="g12625">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect12627" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect12629" width="230.31496" height="124.01582" x="35.433056" y="292.55112" ry="1.0054182"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text12631" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan12774">Just returning <tspan style="font-style:italic" id="tspan12692">r</tspan> will cause a black violation,</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan12780">because the black root is missing from it.</tspan><tspan sodipodi:role="line" x="53.149605" y="299.08463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan12772"/></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 141.7323,327.98423 0,-35.43306" id="path12643" inkscape:connector-curvature="0"/>
      <path inkscape:connector-curvature="0" id="path12645" d="m 141.7323,327.98417 -35.43308,35.43316" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path12647" d="m 141.7323,327.98417 35.43307,35.43316" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-141.73227,196.88183)" id="g12649">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path12651" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text12653" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12655" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">w</tspan></text>
      </g>
      <g transform="translate(-141.73227,179.16538)" id="g12657">
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text12659" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12661" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <text sodipodi:linespacing="125%" id="text12663" y="201.96855" x="248.03149" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="201.96855" x="248.03149" id="tspan12665" sodipodi:role="line">BT(0)</tspan></text>
        <text sodipodi:linespacing="125%" id="text12667" y="175.73633" x="245.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="175.73633" x="245.56259" id="tspan12669" sodipodi:role="line">l</tspan></text>
      </g>
      <g transform="translate(-141.73227,179.16538)" id="g12671">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path12673" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text12675" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12677" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
        <text sodipodi:linespacing="125%" id="text12679" y="191.73633" x="338.42874" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="191.73633" x="338.42874" id="tspan12681" sodipodi:role="line">0</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text12683" y="317.41727" x="167.14961" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.41727" x="167.14961" id="tspan12685" sodipodi:role="line">BT(1)</tspan></text>
    </g>
    <g transform="translate(88.582648,655.51173)" id="g9860-8-8">
      <text sodipodi:linespacing="125%" id="text3852-9-8-5-3-2-8" y="36.803165" x="240.03156" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="36.803165" x="240.03156" id="tspan3854-0-8-3-9-6-58" sodipodi:role="line">Test the color of the root</tspan></text>
      <text sodipodi:linespacing="125%" id="text6246-3-3-2" y="55.507278" x="239.47488" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="55.507278" x="239.47488" id="tspan6248-7-1-96" sodipodi:role="line">The root is black<tspan style="font-style:italic" id="tspan10924-8"/></tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 230.31499,24.803192 0,35.43307" id="path7198-0-3-3" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 230.31499,42.519722 230.31496,5e-6 0,-141.732284 17.71654,0" id="path7200-0-9-0" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="24.728722" y="472.56787" id="text10577-9-3" sodipodi:linespacing="125%" transform="matrix(0,-1,1,0,0,0)"><tspan sodipodi:role="line" id="tspan10579-4-9" x="24.728722" y="472.56787" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">The root is red<tspan style="font-style:italic" id="tspan10930-3"/></tspan></text>
    </g>
    <g id="g12782" transform="translate(531.49605,618.07871)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect12784" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.0054183" y="292.55112" x="35.433056" height="124.01583" width="230.31496" id="rect12786" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text12788" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line" id="tspan12912">A non-null height-0 subtree must be red with</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan12916">two null subtrees.</tspan><tspan id="tspan12796" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="299.08463" x="53.149605" sodipodi:role="line"/></text>
      <path inkscape:connector-curvature="0" id="path12798" d="m 141.7323,327.98423 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)" d="m 141.7323,327.98417 -35.43307,35.43317" id="path12800" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="m 141.7323,327.98417 35.43307,35.43317" id="path12802" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g12804" transform="translate(-141.73227,196.88183)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path12806" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text12808" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan12810" sodipodi:role="line">w</tspan></text>
      </g>
      <g id="g12812" transform="translate(-141.73227,161.44879)">
        <text sodipodi:linespacing="125%" id="text12814" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan12816" sodipodi:role="line"/></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="248.03149" y="219.68509" id="text12818" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12820" x="248.03149" y="219.68509" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(0)</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="245.56259" y="193.73633" id="text12822" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12824" x="245.56259" y="193.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="167.14961" y="317.41727" id="text12838" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12840" x="167.14961" y="317.41727" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(1)</tspan></text>
      <path inkscape:connector-curvature="0" id="path12871" d="m 177.16537,363.41734 -35.43307,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)" d="m 177.16537,363.41734 35.43307,0" id="path12873" inkscape:connector-curvature="0"/>
      <g transform="translate(-106.2992,232.315)" id="g12842">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path12844" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text12846" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12848" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="285.27911" y="164.30319" id="text12818-8" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12820-5" x="285.27911" y="164.30319" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(0)</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="141.7323" y="381.13385" id="text12818-2" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12820-9" x="141.7323" y="381.13385" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(0)</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="212.59843" y="381.13385" id="text12818-4" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12820-6" x="212.59843" y="381.13385" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(0)</tspan></text>
    </g>
    <g transform="translate(797.24408,653.51176)" id="g12918">
      <rect ry="0.28726187" y="221.68506" x="35.433083" height="35.433033" width="283.46457" id="rect12920" style="fill:#b7e2ae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#def2da;fill-opacity:1;stroke:none" id="rect12922" width="283.4646" height="124.01583" x="35.433052" y="257.11807" ry="1.0054183"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149601" y="237.40158" id="text12924" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149601" y="237.40158" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan12930">BT(1) → BT(1) is the same height and color.   We're done.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 177.16537,292.55118 0,-35.43306" id="path12932" inkscape:connector-curvature="0"/>
      <path inkscape:connector-curvature="0" id="path12934" d="M 177.16537,292.55112 141.7323,327.98429" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path12936" d="m 177.16537,292.55112 35.43307,35.43317" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM-1)"/>
      <g transform="translate(-106.2992,161.44878)" id="g12938">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path12940" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text12942" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12944" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <g transform="translate(-141.73227,126.01574)" id="g12946">
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text12948" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12950" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <text sodipodi:linespacing="125%" id="text12952" y="219.68509" x="283.46457" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="219.68509" x="283.46457" id="tspan12954" sodipodi:role="line">BT(0)</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text12960" y="281.98422" x="202.58269" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="281.98422" x="202.58269" id="tspan12962" sodipodi:role="line">BT(1)</tspan></text>
      <text sodipodi:linespacing="125%" id="text12984" y="345.70081" x="212.59845" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="345.70081" x="212.59845" id="tspan12986" sodipodi:role="line">BT(0)</tspan></text>
    </g>
    <g transform="translate(354.33068,1027.5589)" id="g13215">
      <text sodipodi:linespacing="125%" id="text13217" y="18.803165" x="240.03156" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="18.803165" x="240.03156" id="tspan13219" sodipodi:role="line">Blacken <tspan style="font-style:italic" id="tspan13223">r</tspan> and return it.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 230.31499,7.0866556 0,17.7165364 230.31496,1e-6 0,-159.448823 17.71654,0" id="path13221" inkscape:connector-curvature="0" sodipodi:nodetypes="ccccc"/>
    </g>
    <g transform="translate(531.49605,440.91335)" id="g13225">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect13227" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect13229" width="230.31496" height="106.29926" x="35.433056" y="292.55112" ry="0.86178696"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="270.83463" id="text13231" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="270.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan16693">Both subtrees represent ∅.  The tree represents</tspan><tspan sodipodi:role="line" x="53.149605" y="286.47394" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan13237">{w}, and {w} \ {w} = ∅, so we must return null.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 141.7323,327.98423 0,-35.43306" id="path13239" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path13241" d="m 141.7323,327.98417 -35.43307,35.43317" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)"/>
      <g transform="translate(-141.73227,161.44879)" id="g13253">
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text13255" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan13257" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <text sodipodi:linespacing="125%" id="text13259" y="219.68509" x="248.03149" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="219.68509" x="248.03149" id="tspan13261" sodipodi:role="line">BT(0)</tspan></text>
        <text sodipodi:linespacing="125%" id="text13263" y="193.73633" x="245.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="193.73633" x="245.56259" id="tspan13265" sodipodi:role="line">l</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="323.56259" y="193.73633" id="text13295" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan13297" x="323.56259" y="193.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text13267" y="317.41727" x="167.14961" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.41727" x="167.14961" id="tspan13269" sodipodi:role="line">BT(1)</tspan></text>
      <path inkscape:connector-curvature="0" id="path13273" d="m 141.7323,327.98425 35.43307,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)" sodipodi:nodetypes="cc"/>
      <text sodipodi:linespacing="125%" id="text13287" y="381.13385" x="177.16537" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="381.13385" x="177.16537" id="tspan13289" sodipodi:role="line">BT(0)</tspan></text>
      <g transform="translate(-141.73227,196.88183)" id="g13245">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path13247" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text13249" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan13251" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">w</tspan></text>
      </g>
    </g>
    <g transform="translate(797.24408,440.91335)" id="g13303">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="283.46457" id="rect13305" style="fill:#e2aeae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#f2dada;fill-opacity:1;stroke:none" id="rect13307" width="283.4646" height="70.866119" x="35.433056" y="292.55112" ry="0.57452416"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="270.83463" id="text13309" sodipodi:linespacing="125%"><tspan id="tspan13313" sodipodi:role="line" x="53.149605" y="270.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">We return the empty set represented by the null pointer, but</tspan><tspan sodipodi:role="line" x="53.149605" y="283.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan15339">we reduced the black height, so we pass up the violation.</tspan></text>
      <g id="g13315" transform="translate(-141.73227,196.88191)">
        <path sodipodi:nodetypes="cc" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)" d="m 318.89764,95.669268 0,35.433072" id="path13317" inkscape:connector-curvature="0"/>
      </g>
      <g transform="translate(-141.73227,126.01576)" id="g13319">
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="316.89764" y="215.68503" id="text13321" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan13323" x="316.89764" y="215.68503" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">s</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="184.86615" y="329.41724" id="text13325" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan13327" x="184.86615" y="329.41724" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(0)</tspan></text>
    </g>
    <g transform="translate(354.33068,832.67708)" id="g15341">
      <text sodipodi:linespacing="125%" id="text15343" y="18.803165" x="240.03156" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="18.803165" x="240.03156" id="tspan15345" sodipodi:role="line">Return the null pointer and pass up violation.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 230.31499,7.0866556 0,17.7165364 230.31496,1e-6 0,-141.732313 17.71654,0" id="path15347" inkscape:connector-curvature="0" sodipodi:nodetypes="ccccc"/>
    </g>
    <g transform="translate(88.582648,850.39362)" id="g9860-8-8-8">
      <text sodipodi:linespacing="125%" id="text3852-9-8-5-3-2-8-1" y="36.803165" x="240.03156" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="36.803165" x="240.03156" id="tspan3854-0-8-3-9-6-58-1" sodipodi:role="line"><tspan style="font-style:italic" id="tspan16681">r</tspan> = null?</tspan></text>
      <text sodipodi:linespacing="125%" id="text6246-3-3-2-3" y="54.236259" x="441.48035" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="54.236259" x="441.48035" id="tspan6248-7-1-96-0" sodipodi:role="line"><tspan style="font-style:italic" id="tspan16685">r</tspan> ≠ null</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 460.62995,42.519725 c 5.90549,10e-7 11.81103,0 17.71654,0" id="path7198-0-3-3-6" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 230.31499,24.80319 0,17.716535 230.31496,2e-6 0,-177.165357 17.71654,0" id="path7200-0-9-0-7" inkscape:connector-curvature="0" sodipodi:nodetypes="ccccc"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="86.728722" y="472.56787" id="text10577-9-3-4" sodipodi:linespacing="125%" transform="matrix(0,-1,1,0,0,0)"><tspan sodipodi:role="line" id="tspan10579-4-9-0" x="86.728722" y="472.56787" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan16683">r</tspan> = null</tspan></text>
      <path inkscape:connector-curvature="0" id="path7198-2" d="m -35.433042,-737.00774 0,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    </g>
    <g id="g16651" transform="translate(-177.16538,655.51173)">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="240.03156" y="36.803165" id="text16653" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan16655" x="240.03156" y="36.803165" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan16677">l</tspan> = null?</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="239.47488" y="53.507278" id="text16661" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan16663" x="239.47488" y="53.507278" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan16679">l</tspan> ≠ null</tspan></text>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path16667" d="m 230.31499,24.803192 0,35.433069" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
      <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path16669" d="m 230.31499,42.519722 230.31496,5e-6 -1e-5,-159.448817 17.71654,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
      <text transform="matrix(0,-1,1,0,0,0)" sodipodi:linespacing="125%" id="text16671" y="472.56787" x="74.728722" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="472.56787" x="74.728722" id="tspan16673" sodipodi:role="line">l = null</tspan></text>
    </g>
    <g transform="translate(-1.5529122e-5,653.51178)" id="g16701">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect16703" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect16705" width="230.31496" height="124.0158" x="35.433056" y="292.55112" ry="1.0054181"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text16707" sodipodi:linespacing="125%"><tspan id="tspan16713" sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">The value <tspan style="font-style:italic" id="tspan16711">w</tspan> to remove is at the root.  Neither</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan16769">subtree is empty.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 141.7323,327.98423 0,-35.43306" id="path16719" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path16721" d="m 141.7323,327.98417 -35.43307,35.43314" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path16723" d="m 141.7323,327.98417 35.43307,35.43314" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <g transform="translate(-141.73227,196.88183)" id="g16725">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path16727" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text16729" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan16731" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">w</tspan></text>
      </g>
      <g transform="translate(-141.73227,179.16536)" id="g16733">
        <path inkscape:connector-curvature="0" id="path16735" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text16737" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan16739" sodipodi:role="line">l</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text16741" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan16743" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g transform="translate(-141.73227,179.16536)" id="g16745">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path16747" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text16749" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan16751" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="332.42874" y="191.7363" id="text16753" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan16755" x="332.42874" y="191.7363" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text16757" y="317.41727" x="167.14961" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.41727" x="167.14961" id="tspan16759" sodipodi:role="line">h</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="119.83032" y="370.90167" id="text16761" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan16763" x="119.83032" y="370.90167" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
    </g>
    <g id="g16771" transform="translate(265.74802,653.51178)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect16773" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.0054181" y="292.55112" x="35.433056" height="124.0158" width="230.31496" id="rect16775" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text16777" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line" id="tspan16835">Subtree <tspan style="font-style:italic" id="tspan17085">r</tspan> is empty.  Subtree <tspan style="font-style:italic" id="tspan16837">l </tspan>is non-null at</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan17083">height 0, so must be RT(0), so root is black.</tspan></text>
      <path inkscape:connector-curvature="0" id="path16785" d="m 159.44883,327.98423 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="m 159.44883,327.98417 -35.43307,35.43314" id="path16787" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM-1)" d="m 159.44883,327.98417 35.43307,35.43314" id="path16789" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g16791" transform="translate(-124.01574,196.88183)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path16793" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text16795" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan16797" sodipodi:role="line">w</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="184.86615" y="317.41727" id="text16823" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan16825" x="184.86615" y="317.41727" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(1)</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="194.88191" y="381.13385" id="text17075" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17077" x="194.88191" y="381.13385" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(0)</tspan></text>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path17095" d="m 124.01575,363.41731 35.43307,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM-1)"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM-1)" d="m 124.01575,363.41731 -35.433067,0" id="path17097" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g transform="translate(-159.44881,232.31497)" id="g17087">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path17089" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="283.10742" y="133.28091" id="text17091" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17093" x="283.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
        <text sodipodi:linespacing="125%" id="text17111" y="125.28091" x="361.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="125.28091" x="361.10742" id="tspan17113" sodipodi:role="line">r</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text17099" y="381.13385" x="159.44884" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="381.13385" x="159.44884" id="tspan17101" sodipodi:role="line">BT(0)</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="88.58268" y="381.13385" id="text17103" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17105" x="88.58268" y="381.13385" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(0)</tspan></text>
      <text sodipodi:linespacing="125%" id="text17107" y="398.85037" x="124.01575" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="398.85037" x="124.01575" id="tspan17109" sodipodi:role="line">RT(0)</tspan></text>
    </g>
    <g transform="translate(88.582648,1062.992)" id="g13215-5">
      <text sodipodi:linespacing="125%" id="text13217-3" y="18.803165" x="240.03156" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="18.803165" x="240.03156" id="tspan13219-8" sodipodi:role="line">Blacken <tspan style="font-style:italic" id="tspan17718">l</tspan> and return it.  (Symmetrical case.)</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 230.31499,7.0866556 0,17.7165364 496.06299,4.3e-5 0,-35.433071" id="path13221-5" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
    </g>
    <g transform="translate(-1.5529122e-5,848.39367)" id="g17270">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect17272" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect17274" width="230.31499" height="124.01582" x="35.433056" y="292.55112" ry="1.1490486"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text17276" sodipodi:linespacing="125%"><tspan id="tspan17278" sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">The tree does not contain <tspan id="tspan17280" style="font-style:italic">w</tspan>.  If not <tspan id="tspan17282" style="font-style:italic">fixed</tspan>, then</tspan><tspan id="tspan17284" sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">the rem_aux call passed up a tree at height <tspan id="tspan17286" style="font-style:italic">i</tspan>-1.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 177.16537,327.98424 0,-35.43306" id="path17288" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path17290" d="M 177.16537,327.98418 141.7323,363.41733" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path17292" d="m 177.16537,327.98425 35.43307,35.43308" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <g transform="translate(-106.2992,196.88184)" id="g17294">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path17296" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="275.10742" y="133.28091" id="text17298" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17300" x="275.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">max</tspan></text>
      </g>
      <g transform="translate(-106.2992,179.16538)" id="g17302">
        <path inkscape:connector-curvature="0" id="path17304" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text17306" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan17308" sodipodi:role="line">l</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text17310" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17312" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g transform="translate(-106.2992,179.16538)" id="g17314">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path17316" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text17318" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17320" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
        <text sodipodi:linespacing="125%" id="text17322" y="191.73631" x="333.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="191.73631" x="333.56259" id="tspan17324" sodipodi:role="line">i</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text17326" y="317.41727" x="202.58269" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.41727" x="202.58269" id="tspan17328" sodipodi:role="line">h</tspan></text>
      <path d="m 116.29923,398.24065 c -4.13659,-3.41901 -6.66919,-10.17262 -6.66919,-17.43274 0,-7.26011 2.49039,-13.92931 6.66919,-17.39051 l -0.88641,-1.13968 c -6.20487,4.17879 -8.99074,10.93241 -8.99074,18.48799 l 0,0.0422 c 0,7.64 2.78587,14.47803 8.99074,18.5724 l 0.88641,-1.13967" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="path17330" inkscape:connector-curvature="0"/>
      <path d="m 189.07414,380.80791 c 0,-7.59778 -2.65923,-14.3092 -8.99073,-18.53019 l -0.92862,1.13968 c 4.13658,3.37679 6.71139,10.1304 6.71139,17.39051 0,7.26012 -2.44818,13.92931 -6.71139,17.43274 l 0.92862,1.13967 c 6.3315,-4.30542 8.99073,-10.9324 8.99073,-18.53019 l 0,-0.0422" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="path17332" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.509007" y="381.59589" id="text17334" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17336" x="62.509007" y="381.59589" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rem_aux</tspan></text>
      <text sodipodi:linespacing="125%" id="text17338" y="381.59589" x="158.509" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="381.59589" x="158.509" id="tspan17340" sodipodi:role="line"><tspan style="font-style:normal" id="tspan17344">, </tspan>max</tspan></text>
    </g>
    <g transform="translate(-177.16538,850.39362)" id="g17346">
      <text sodipodi:linespacing="125%" id="text17348" y="36.803165" x="240.03156" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="36.803165" x="240.03156" id="tspan17350" sodipodi:role="line">r = null?</tspan></text>
      <text sodipodi:linespacing="125%" id="text17354" y="53.507278" x="239.47488" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="53.507278" x="239.47488" id="tspan17356" sodipodi:role="line">r ≠ null</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 230.31499,24.803192 0,35.433069" id="path17360" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 230.31499,42.519722 230.31496,5e-6 -1e-5,35.433069 17.71654,0" id="path17362" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-65.271278" y="472.56787" id="text17364" sodipodi:linespacing="125%" transform="matrix(0,-1,1,0,0,0)"><tspan sodipodi:role="line" id="tspan17366" x="-65.271278" y="472.56787" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan17368">r</tspan> = null</tspan></text>
    </g>
    <g transform="translate(-177.16538,1045.2755)" id="g17346-2">
      <text sodipodi:linespacing="125%" id="text17348-6" y="38.803165" x="240.03156" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="38.803165" x="240.03156" id="tspan17350-5" sodipodi:role="line">Remove <tspan style="font-style:italic" id="tspan17433">max</tspan>, the maximum value in <tspan style="font-style:italic" id="tspan17437">l</tspan>, from <tspan style="font-style:italic" id="tspan17435">l</tspan>.</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="51.928165" x="240.03156" sodipodi:role="line" id="tspan17439">Replace <tspan style="font-style:italic" id="tspan17443">w</tspan> with <tspan style="font-style:italic" id="tspan17441">max</tspan>.  Record return value <tspan style="font-style:italic" id="tspan17445">fixed</tspan>.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 230.31499,24.803192 0,35.433069" id="path17360-1" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
    </g>
    <g transform="translate(265.74802,848.39367)" id="g17270-0">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect17272-8" style="fill:#b7e2ae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#def2da;fill-opacity:1;stroke:none" id="rect17274-3" width="230.31499" height="124.01582" x="35.433056" y="292.55112" ry="1.1490486"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text17276-6" sodipodi:linespacing="125%"><tspan id="tspan17284-6" sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">The call to rem_aux returned a tree at height <tspan style="font-style:italic" id="tspan17634">i</tspan>,</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan17628">and so we're done.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 177.16537,327.98424 0,-35.43306" id="path17288-4" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path17290-4" d="M 177.16537,327.98418 141.7323,363.41733" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path17292-3" d="m 177.16537,327.98425 35.43307,35.43308" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <g transform="translate(-106.2992,196.88184)" id="g17294-7">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path17296-3" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="275.10742" y="133.28091" id="text17298-9" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17300-3" x="275.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">max</tspan></text>
      </g>
      <g transform="translate(-106.2992,179.16538)" id="g17302-8">
        <path inkscape:connector-curvature="0" id="path17304-3" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text17306-4" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan17308-6" sodipodi:role="line">l</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text17310-4" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17312-8" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g transform="translate(-106.2992,179.16538)" id="g17314-6">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path17316-9" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text17318-3" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17320-2" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
        <text sodipodi:linespacing="125%" id="text17322-5" y="191.73631" x="333.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="191.73631" x="333.56259" id="tspan17324-9" sodipodi:role="line">i</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="299.56259" y="191.73631" id="text17620" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17622" x="299.56259" y="191.73631" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text17326-6" y="317.41727" x="202.58269" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.41727" x="202.58269" id="tspan17328-7" sodipodi:role="line">h</tspan></text>
      <path d="m 116.29923,398.24065 c -4.13659,-3.41901 -6.66919,-10.17262 -6.66919,-17.43274 0,-7.26011 2.49039,-13.92931 6.66919,-17.39051 l -0.88641,-1.13968 c -6.20487,4.17879 -8.99074,10.93241 -8.99074,18.48799 l 0,0.0422 c 0,7.64 2.78587,14.47803 8.99074,18.5724 l 0.88641,-1.13967" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="path17330-4" inkscape:connector-curvature="0"/>
      <path d="m 189.07414,380.80791 c 0,-7.59778 -2.65923,-14.3092 -8.99073,-18.53019 l -0.92862,1.13968 c 4.13658,3.37679 6.71139,10.1304 6.71139,17.39051 0,7.26012 -2.44818,13.92931 -6.71139,17.43274 l 0.92862,1.13967 c 6.3315,-4.30542 8.99073,-10.9324 8.99073,-18.53019 l 0,-0.0422" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="path17332-8" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.509007" y="381.59589" id="text17334-5" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17336-8" x="62.509007" y="381.59589" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rem_aux</tspan></text>
      <text sodipodi:linespacing="125%" id="text17338-4" y="381.59589" x="158.509" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="381.59589" x="158.509" id="tspan17340-6" sodipodi:role="line"><tspan style="font-style:normal" id="tspan17344-9">, </tspan>max</tspan></text>
    </g>
    <g transform="translate(531.49605,848.39367)" id="g17636">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="283.46457" id="rect17638" style="fill:#d3aee2;fill-opacity:1;stroke:none"/>
      <rect style="fill:#ebdaf2;fill-opacity:1;stroke:none" id="rect17640" width="283.4646" height="124.01581" x="35.433056" y="292.55112" ry="1.0054181"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text17642" sodipodi:linespacing="125%"><tspan id="tspan17644" sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rem_aux returned a tree at height <tspan style="font-style:italic" id="tspan17646">i</tspan>-1, which requires</tspan><tspan id="tspan17648" sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">balancing.  Pass through bal(), which may pass up violation.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 212.59844,327.98424 0,-35.43306" id="path17650" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path17652" d="m 212.47559,328.3524 -35.31025,35.06491" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path17654" d="m 212.47559,328.35247 35.55589,35.06484" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-70.988978,197.25006)" id="g17656">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path17658" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="275.10742" y="133.28091" id="text17660" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17662" x="275.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">max</tspan></text>
      </g>
      <g transform="translate(-70.866161,179.16536)" id="g17664">
        <path inkscape:connector-curvature="0" id="path17666" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text17668" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan17670" sodipodi:role="line">l</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text17672" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17674" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g transform="translate(-70.866161,179.16536)" id="g17676">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path17678" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text17680" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17682" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text17684" y="317.78549" x="237.89291" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.78549" x="237.89291" id="tspan17686" sodipodi:role="line">h</tspan></text>
      <path d="m 151.73227,398.24063 c -4.13659,-3.41901 -6.66919,-10.17262 -6.66919,-17.43274 0,-7.26011 2.49039,-13.92931 6.66919,-17.39051 l -0.88641,-1.13968 c -6.20487,4.17879 -8.99074,10.93241 -8.99074,18.48799 l 0,0.0422 c 0,7.64 2.78587,14.47803 8.99074,18.5724 l 0.88641,-1.13967" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="path17688" inkscape:connector-curvature="0"/>
      <path d="m 220.50718,380.80789 c 0,-7.59778 -2.65923,-14.3092 -8.99073,-18.53019 l -0.92862,1.13968 c 4.13658,3.37679 6.71139,10.1304 6.71139,17.39051 0,7.26012 -2.44818,13.92931 -6.71139,17.43274 l 0.92862,1.13967 c 6.3315,-4.30542 8.99073,-10.9324 8.99073,-18.53019 l 0,-0.0422" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="path17690" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="99.942047" y="383.59589" id="text17692" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17694" x="99.942047" y="383.59589" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rem_aux</tspan></text>
      <text sodipodi:linespacing="125%" id="text17696" y="381.59589" x="191.94205" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="381.59589" x="191.94205" id="tspan17698" sodipodi:role="line">, <tspan style="font-style:italic" id="tspan17762">max</tspan></tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="262.69641" y="370.9017" id="text17702" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17704" x="262.69641" y="370.9017" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="227.26337" y="370.9017" id="text17706" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17708" x="227.26337" y="370.9017" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i-1</tspan></text>
      <path inkscape:connector-curvature="0" id="path17710" d="m 93.322505,313.0212 c -20.43062,14.50197 -24.17681,44.15068 -15.235869,66.2144 3.146776,7.4405 8.707984,15.13359 15.498104,18.90717 -14.740007,-14.56395 -17.792244,-37.55727 -14.13448,-57.24596 2.059059,-10.26816 6.375747,-20.44073 14.13448,-27.66582 l -0.209788,-0.26224 -0.05245,0.0525 z" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/>
      <path inkscape:connector-curvature="0" id="path17712" d="m 280.79478,313.57189 c 14.79811,14.46685 17.81868,37.44569 14.21315,57.11484 -2.04804,10.27212 -6.39555,20.54462 -14.21315,27.71827 3.43801,-1.32311 6.84688,-5.487 9.54537,-8.5751 12.28607,-16.05779 13.24053,-38.90487 6.1363,-57.35084 -3.37087,-7.44238 -8.28979,-14.81135 -15.68167,-18.90717 z" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/>
      <text sodipodi:linespacing="125%" id="text17714" y="359.41733" x="51.14962" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="359.41733" x="51.14962" id="tspan17716" sodipodi:role="line">bal</tspan></text>
    </g>
    <g transform="translate(-177.16538,1240.1574)" id="g17764">
      <text sodipodi:linespacing="125%" id="text17766" y="36.803165" x="240.03156" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="36.803165" x="240.03156" id="tspan17768" sodipodi:role="line"><tspan id="tspan17770" style="font-style:italic">fixed</tspan>?</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 496.06302,42.519725 265.74803,0 0,-17.716536" id="path17772" inkscape:connector-curvature="0" sodipodi:nodetypes="ccc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 230.31499,24.80319 0,17.716536 c 88.58268,-10e-7 177.16535,4e-6 265.74803,-10e-7 l 0,-17.716536" id="path17774" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="707.81104" y="36.519726" id="text17776" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan17778" x="707.81104" y="36.519726" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">No, ¬<tspan id="tspan17780" style="font-style:italic">fixed</tspan></tspan></text>
      <text sodipodi:linespacing="125%" id="text17782" y="36.519726" x="448.06302" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="36.519726" x="448.06302" id="tspan17784" sodipodi:role="line">Yes, <tspan id="tspan17786" style="font-style:italic">fixed</tspan></tspan></text>
    </g>
  </g>
</svg>
    </p>

    <section class="generated_listing" xml:base="../../code/d/html/rb/remove/recursive.d.html"><pre class="prettyprint">module rb.remove.recursive;

import rb.node;
static import rb.rotate;
import rb.print;

import std.stdio;

Node* blacken(Node* root) { </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph">T(root, S)</div></div>
<pre class="prettyprint">
  if (root != null &amp;&amp; !root.black) { </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph">RT(root, S)</div></div>
<pre class="prettyprint">    root.black = true; </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph">BT(root, S)</div></div>
<pre class="prettyprint">  }
  else { </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph">T(root, S) &amp;&amp;<br/><span class="assertionIndent"> </span>(root == null || root.black)</div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph">BT(root, S)</div></div>
<pre class="prettyprint">  } </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph">BT(root, S)</div></div>
<pre class="prettyprint">
  return root;
}

int findMax(Node* root) { </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph">T(root, S)</div></div>
<pre class="prettyprint">
  int max;

  if (root.c[1]) { </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph">R != empty</div></div>
<pre class="prettyprint">    max = findMax(root.c[1]); </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph">max is max(R)<br/><span class="assertionIndent"> </span>max(R) is max(S)</div></div>
<pre class="prettyprint">  }
  else { </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph">R is empty</div></div>
<pre class="prettyprint">    max = root.value; </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph">max is max({value})<br/><span class="assertionIndent"> </span>max is max(S)</div></div>
<pre class="prettyprint">  } </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph">max is max(S)</div></div>
<pre class="prettyprint">
  return max;
}

Node* clr(bool c, Node* root, bool* fixed) { </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph">root some color * T(root.c[0], L, h) * T(root.c[0], R, i) &amp;&amp; !fixed</div></div>
<pre class="prettyprint">
  *fixed = true;
  root.black = c;
  root.c[0].black = root.c[1].black = true;
 </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph">fixed &amp;&amp; (c == red &amp;&amp; RT(root, S)) || (c == black &amp;&amp; EBT(root, S))</div></div>
<pre class="prettyprint">
  return root;
}

Node* balB(Node* root, int dir, bool* fixed) { </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph">!fixed</div></div>
<pre class="prettyprint">
  Node* o;

  if (red(root.c[!dir].c[!dir])) { </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph">T(fix, h) * root     * T(near, h) * black sibling * RT(far, h)</div></div>
<pre class="prettyprint">    bool oldColor = root.black;
    root = rb.rotate.single(root, dir); </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph">T(fix, h) * red root * T(near, h) * black sibling * RT(far, h)</div></div>
<pre class="prettyprint">    o = clr(oldColor, root, fixed); </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph">fixed &amp;&amp; </div></div>
<pre class="prettyprint">  }
  else {
    if (red(root.c[!dir].c[dir] )) {
      o = clr(root.black, rb.rotate.dbl(   root, dir), fixed);
    }
    else {
      *fixed = !root.black;
      root.black = true;
      root.c[!dir].black = false;
      o = root;
    }
  }

  return o;
}


Node* balance(Node* root, int dir, bool* fixed) { </pre>
<div class="section"><pre class="indent">  </pre><div class="CommentParagraph">one less BH in `dir`. root.c[!dir] != null.</div></div>
<pre class="prettyprint">
  if (red(root.c[!dir])) {  // do case-reducing rotation.
    root = rb.rotate.single(root, dir);
    root.c[dir] = balB(root.c[dir], dir, fixed);
    return root;
  }
  else return balB(root, dir, fixed);
}


Node* try_finish(Node* root, bool b, bool* fixed) {
  if (!b) {
    *fixed = true;
    return root;
  }
  else if (red(root)) {
    *fixed = true;
    return blacken(root);
  }
  else return root;
}


Node* remove_aux(Node* root, int value, bool* fixed) {
  if (root == null) {
    *fixed = true;
    return root;
  }
  else if (root.value == value) {
    if (root.c[0]) {
      if (root.c[1]) {
	int max = findMax(root.c[0]);
	root.value = max;
	root.c[0] = remove_aux(root.c[0], max, fixed);
	return (*fixed) ? root : balance(root, 0, fixed);
      }
      else return try_finish(root.c[0], root.black, fixed);
    }
    else return try_finish(root.c[1], root.black, fixed);
  }
  else {
    int dir = root.value &lt; value;
    root.c[dir] = remove_aux(root.c[dir], value, fixed);
    return (*fixed) ? root : balance(root, dir, fixed);
  }
}


Node* remove(Node* root, int value) {
  bool* dummy = new bool;
  *dummy = false;
  return blacken(remove_aux(root, value, dummy));
} </pre></section>
  </section>
</section>
<!--      <xi:include href="iterative.html" /> -->
</section>
      <!-- <xi:include href="concurrent/concurrent.html" /> -->
    </section>
  </body>
</html>
