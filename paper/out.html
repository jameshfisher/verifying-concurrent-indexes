<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:e="http://eegg.github.com/htmlx" xmlns:m="http://eegg.github.com/macro">
  <head>
    <meta charset="utf-8"/>

    <link rel="stylesheet" type="text/css" href="http://eegg.github.com/style/css/common.css"/>
    <link rel="stylesheet" type="text/css" href="css/style.css"/>

    <link rel="stylesheet" type="text/css" href="css/google-code-prettify/prettify.css"/>
    <link rel="stylesheet" type="text/css" href="css/main.css"/>

    <script type="text/javascript" src="css/google-code-prettify/prettify.js"> </script>
    <script type="text/javascript">window.addEventListener("load", function() { prettyPrint(); });</script>

    <title>Verifying indexes</title>
  </head>
  <body>
    <section class="content">
      <hgroup>
	<h1>Verifying indexes</h1>
      </hgroup>

      <table>
	<tbody>
	  <tr>
	    <th>Name</th>
	    <td>James Fisher</td>
	  </tr>
	</tbody>
      </table>

      <!--<xi:include href="introduction/introduction.html" />
      <xi:include href="ll/ll.html" />
      <xi:include href="bst/bst.html" />-->
      <section xml:base="rbt/rbt.html">
  
  <h2>Verifying the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr></h2>

  <p>
    As before, I verify recursive algorithms for <code>search</code>, <code>insert</code>, and <code>remove</code>.
  </p>

  <section xml:base="intro/intro.html">
  
  <h2>Introduction, motivation, history</h2>

  <p>
    The ideal <abbr title="Binary Search Tree" class="smallcaps">BST</abbr> is one that enables each comparison step in the algorithms
    to cut the size of the tree under consideration in two—that is,
    where the size of the left subtree is equal to the size of the right subtree.
    Indeed, this principle was the motivating factor in using a <abbr title="Binary Search Tree" class="smallcaps">BST</abbr> instead of an <abbr title="Linked List" class="smallcaps">LL</abbr>.
    However, the algorithms on the <abbr title="Binary Search Tree" class="smallcaps">BST</abbr> provide no guarantee that this will be the case.
    For example, insertion the values 1…<span class="var">n</span> into an empty <abbr title="Binary Search Tree" class="smallcaps">BST</abbr>
    will result in a tree with the same topology as a <abbr title="Linked List" class="smallcaps">LL</abbr>.
    What is needed is some guarantee of <em>balance</em>,
    and this is what the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> provides.
  </p>

<!--
  <p>
    The <m:rbt /> inherits ideas from the AVL tree and the B-tree.
    It has the same goals and performance guarantees as the AVL tree,
    and uses the same tree mutation to achieve them: rotations.
    However, it can also be seen as 
    a mapping of a B-tree of degree <e:var n="t"/> = 2 onto a <m:bst />;
    <m:ie/>,
    a B-tree where the number of elements <e:var n="e"/> is 1 ≤ <e:var n="e"/> ≤ 3
    (and therefore the number of links <e:var n="l"/> is 2 ≤ <e:var n="l"/> ≤ 4).
    This has the advantage over the B-tree that
    adjusting a node does not require copying,
    and less-than-full nodes do not hold unused allocated memory.
  </p>

  <p>
    In such a B-tree,
    a 3-node (a node that can contain up to 3 elements)
    is structured as three element-sized spaces adjacent in memory.
    The <m:rbt /> instead uses <e:var n="n"/> 1-nodes to represent an <e:var n="n"/>-element pseudonode.
    The first 1-node (there must be at least one) is signaled to be representative of the pseudonode by being <q>colored black</q>
    (which simply means a flag is set at the node).
    This node is the target of child links from parent pseudonodes.
    It is accompanied by zero, one or two more 1-nodes,
    which contain the other elements in the pseudonode,
    and which are <q>colored red</q> (which means the flag at the node is not set).
    All accompanying <q>red nodes</q> are pointed at by a child pointer of the black node.
  </p>

  <p>
    Because of the isomorphism between the <m:rbt/> and the B-tree,
    the colors of the nodes are not arbitrary.
    Specifically:

    <ol>
      <li>
	<strong>A node is either red or black.</strong>
      </li>
      <li>
	<strong>The root is black.</strong>
	(The root node is representative of the root pseudonode.)
      </li>
      <li>
	<strong>Leaf (null) nodes are black.</strong>
      </li>
      <li>
	<strong>Red nodes cannot have red children (the <q>red rule</q>).</strong>
      </li>
      <li>
	<strong>For any node, all simple paths to a descendant leaf have the same number of black nodes (the <q>black rule</q>).</strong>
	This number is the node's <e:jargon>black-height</e:jargon>.
	This is equivalent to the B-tree rule that all leaves have the same depth.
      </li>
    </ol>
  </p>

  <p>
    We now want to define the <m:rbt /> recursively.
    We can then describe a node pointer.
  </p>

  <p>
    The representative-node's <code>left</code> and <code>right</code> pointers have two roles.
    Where side-nodes exist,
    the pointers point to these.
    (Note this implies that, if the analogous 3-node is full,
    the representative-node will hold the middle element.)
    Where a side-node is absent,
    the corresponding pointer instead points directly to the appropriate child representative-node.
    <e:note>
      Herein lies the space-saving and copy-reducing aspects of the <m:rbt />,
      analogous to the benefits of the <m:bst /> over an array.
    </e:note>
    A side-node's pointers must point to a child representative-node.
    (All pointers may instead be to <code>null</code> nodes, at which the tree terminates.)
  </p>

  <p>
    How are we to know whether a pointer leads us to a side-node or a child representative-node?
    The approach of Guibas and Sedgewick was to give the pointer a <e:jargon>color</e:jargon>:
    pointers to representative-nodes are black,
    and pointers to side-nodes are red.
    In the literature, this has been transformed into the equivalent rule that
    representative-nodes are colored black,
    and side-nodes are colored red.
    This has been shortened to simply <q>red nodes</q> and <q>black nodes</q>.
  </p>

  <p>
    We can now state the properties of the <m:rbt />,
    and relate them to the B-tree:
  </p>


  <p>
    From the B-tree analogy,
    it should already be evident that the <m:rbt /> enforces balance.
    However, we can also see this from the last two <m:rbt /> properties.
    Precisely, we can show that,
    for any node, the longest path to a descendant leaf
    is no more than double the length of the shortest path to a descendant leaf.
    If the node has black-height <e:var n="h"/>,
    then both the shortest and longest path consist of <e:var n="h"/> black nodes (by property 5), interspersed with red nodes.
    The shortest path will contain no red nodes
    (because excising one maintains the \RBt properties and makes the path shorter),
    and therefore has length <e:var n="h"/>.
    The longest path will contain one red node between each pair of black nodes
    (because introducing another violates property 4),
    and therefore has length 2<e:var n="h"/>−1.
  </p>

  <p>
    <m:rbt /> operations feel like B-tree operations.
    When inserting a new node, we color it red,
    and insert it as we would in a <m:bst />.
    Then, if its parent is black, we're done
    (analogous to there being space in a leaf 3-node).
    Otherwise, the parent is red, and we have violated the red rule.
    We know the grandparent is black.
    We check the color of the uncle.
    If the uncle is red, we do a color swap on the parent, grandparent, and uncle,
    and move up the tree to look for a possible red violation.
    This is analogous to a 3-node being full, splitting it, and moving the median up.
    However, if the uncle is black,
    we do a single rotation on the grandparent and some recoloring, and stop.
    This is analogous to there being free space <q>on the other side</q> of the 3-node.
  </p>

  <section>
    <h4>Simplifications of the <m:rbt /></h4>

    <p>
      The standard <m:rbt /> is sometimes seen as overly complex.
      More precisely,
      the number of violating cases that the algorithms have to rectify
      is seen as too large.
      In response, there are simplifications of the standard <m:rbt />.
      One is the AA-tree,
      which has the additional requirement that
      red nodes must be right children.
      In the B-tree analogy, they are 2-3 trees.
      This reduces seven cases to two.
    </p>

    <p>
      Another is the Left-Leaning Red-Black tree,
      introduced by Sedgewick.
      In a similar spirit,
      it reduces the number of cases,
      enforcing that
      no node may have a black left child and a red right child.
      This means that, in the B-tree analogy,
      a 3-node only has a single representation in the <m:rbt />.
      Unlike the AA-tree, this is still analogous to a 2-3-4 tree.
      The main advantage is code simplicity:
      <code>insert</code> takes 33 lines <m:vs /> 150 lines.
    </p>

    <p>
      I find these simplifications unsatisfying.
      The gain in code simplicity results in a loss of conceptual clarity.
      More importantly, the <m:rbt /> algorithms can be drastically shortened
      by tackling the symmetric cases using the same code,
      while remaining semantically equivalent.
      A simple technique
      uses a two-element array of child pointers
      instead of a <code>left</code> and a <code>right</code> pointer.
      <e:cite>Julienne Walker, jsw</e:cite>
    </p>

    <p>
      This allows the direction (left or right) to be parameterized,
      encoded as either a <e:const n="0"/> or <e:const n="1"/>.
      The direction can thus be reversed with with the C <code>!</code> operator.
    </p>
  </section>
-->
</section>
  <section xml:base="data/data.html">
  
  <h3>The <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> data structure</h3>

  <p>
    The <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> is an augmentation of the <abbr title="Binary Search Tree" class="smallcaps">BST</abbr>,
    and as such it is also a recursive data structure:
    a specific <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> contains smaller <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr>s
    (subject to restrictions that will be explained).
    As before, the recursive algorithms on the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr>
    follow the recursive definition of the data structure,
    and many of the proofs we used for the <abbr title="Binary Search Tree" class="smallcaps">BST</abbr>
    (such as the lemmata relating to the <span class="pred_name">Compose</span> predicate)
    can be reused here.
  </p>

  <p>
    The specific augmentation that the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> makes
    is to modify the <code>Node</code> definition
    such that each node in the structure
    carries a single extra bit of information.
    Typically, and for simplicity, this bit is carried
    as a single extra boolean field in the <code>Node</code>.
    <span class="note">
      Other methods exist, such as using the relative size of the subtree pointers as integers,
      but these are optimizations and lead to less clarity.
    </span>
    This bit is called the node's <code>color</code>,
    and the two values the bit may take on are named not <code>true</code> and <code>false</code>,
    but rather <q>red</q> and <q>black</q>
    (the primary reason for which is convenience in visual representations of the data structure).
    In the code, we will assign <code>false</code> to play the role of red and <code>true</code> to black.
  </p>

  <p>
    The distribution of red bits and black bits over an <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> is not arbitrary.
    In explaining the restrictions,
    it is helpful to think of a tree as being either <q>red-rooted</q> or <q>black-rooted</q>,
    where this indicates the color stored in the <code>color</code> field of the root node.
    We shall develop separate predicates for each:
    <span class="pred_name">RT</span> shall describe a red-rooted <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr>,
    and <span class="pred_name">BT</span> a black-rooted one.
  </p>

  <p>
    A red-rooted tree, <span class="pred_name">RT</span>,
    is subject to the restriction that neither of its child subtrees are red-rooted.
    This is equivalent to saying that if a node is red, then its parent is black;
    and is again equivalent to saying that there shall be no two red nodes <q>in a row</q> in any proper path.
    These equivalent rules are known as the <em>red rule</em>.
    I prefer the first formulation of it, as it more readily translates to our inductive definition of an <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr>.
  </p>

  <p>
    There is no such rule for black-rooted trees: their child subtrees are unrestricted in the color of their root.
    Black nodes are subject to a different, more complex, restriction: that
    <em>from any node in the tree</em> (whether red or black), <em>all proper paths from that node to a leaf contain the same number of black nodes</em>.
    This rule and equivalent statements of it are called the <em>black rule</em>.
  </p>

  <p>
    To encode this rule in our predicates, let us call the number of black nodes on the path from some node
    the <em>black-height</em> of that node.
    In terms of our inductive definition, we say that the black-height is an attribute of the tree,
    and as such our predicates are parameterized by it:
    <span class="pred_name">BT</span>(<code>root</code>, <span class="st">S</span>, <span class="var">h</span>)
    describes a black-rooted <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr>, at root address <code>root</code>, representing set <span class="st">S</span>, with a black-height of <span class="var">h</span>.
    In exactly the same way,
    <span class="pred_name">RT</span>(<code>root</code>, <span class="st">S</span>, <span class="var">h</span>)
    describes a <em>red-rooted</em> <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr>, at root address <code>root</code>, representing set <span class="st">S</span>, with a black-height of <span class="var">h</span>.
  </p>

  <p>
    Consider a black-rooted tree at black-height <span class="var">h</span>—what is the black-height of one of its subtrees?
    Since all paths to the leaves contain the same number of black nodes, just consider a single path to a single leaf.
    This path runs through one of the child nodes of the root.
    Since the root node is one of the <span class="var">h</span> black nodes,
    the other <span class="var">h</span>−<span class="constant">1</span> black nodes
    must be in the section of the path descending from the child node to the leaf.
    As this was for an arbitrary path through an arbitrary child node,
    both subtrees are at black-height <span class="var">h</span>−<span class="constant">1</span>.
    Now consider a red-rooted tree at black-height <span class="var">h</span>—what is the black-height of its subtrees?
    Since the root is red, it never contributes to the <span class="var">h</span> black nodes on any path,
    and so all <span class="var">h</span> black nodes are in the black-height of the subtree;
    <i>i.e.</i>, the subtrees of a red-rooted tree at height <span class="var">h</span> are also at height <span class="var">h</span>.
  </p>

  <p>
    Finally, the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> has a separate representation of ∅,
    and once again, it is a pointer to <code>null</code> with no allocated memory.
    Despite having no root <code>Node</code> with a <code>color</code> field,
    the empty tree is interpreted as being <q>black-rooted</q>,
    with a black-height of 1.
  </p>

  <p>
    As before, the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr>'s recursive structure can be shown graphically:

    <div class="display">
      <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="549.21259" height="318.89761" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="predicates.svg">
  <defs id="defs4">
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="SquareM" style="overflow:visible">
      <path id="path5430" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-1" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker4310" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4312" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker4314" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4316" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-9-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-1-7" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker4499" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4501" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker4503" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4505" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="0.35" inkscape:cx="1343.2184" inkscape:cy="429.07114" inkscape:document-units="mm" inkscape:current-layer="layer1" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="2.5mm" spacingy="2.5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(372.04724,-308.26767)">
    <rect style="fill:none;stroke:none" id="rect5268" width="788.3858" height="106.29922" x="-354.33072" y="379.13382"/>
    <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="248.03149" y="453.99994" id="text6078" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6080" x="248.03149" y="453.99994" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
    <g id="g6344" transform="translate(-26.574808,-1.2472241e-5)">
      <g style="fill:#000000;fill-opacity:0.90980392" id="g6290">
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" d="m 150.59057,423.42516 0,132.87401" style="fill:#000000;fill-opacity:0.90980392;stroke:#000000;stroke-width:0.99921262;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:0.90980392;stroke-dasharray:none;marker-end:url(#SquareM)" id="path6062"/>
        <text sodipodi:linespacing="125%" id="text6082" y="419.42517" x="150.59056" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:0.90980392;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:0.90980392;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="419.42517" x="150.59056" id="tspan6084" sodipodi:role="line">root</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="150.59056" y="574.01569" id="text5888-7" sodipodi:linespacing="125%"><tspan id="tspan6022-9" sodipodi:role="line" x="150.59056" y="574.01569" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">EBT(<tspan style="font-style:italic" id="tspan4684">root</tspan>, <tspan style="font-weight:bold" id="tspan3050">S</tspan>, <tspan style="font-style:italic" id="tspan9625">h</tspan>),</tspan><tspan sodipodi:role="line" x="150.59056" y="589.65497" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan6383">where <tspan style="font-weight:bold" id="tspan3052">S</tspan> = ∅</tspan><tspan sodipodi:role="line" x="150.59056" y="602.77997" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan9627">and h = 0.</tspan></text>
    </g>
    <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="15.433075" y="379.13379" id="text5888-7-8" sodipodi:linespacing="125%"><tspan id="tspan6022-9-4" sodipodi:role="line" x="15.433075" y="379.13379" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(<tspan style="font-style:italic" id="tspan4485">root</tspan>, <tspan style="font-weight:bold" id="tspan3048">S</tspan>, <tspan style="font-style:italic" id="tspan9633">h</tspan>)</tspan></text>
    <path style="font-size:438.40066528px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" d="m 154.82102,400 c 0,-3.29679 -0.75752,-6.05553 -7.08086,-6.05553 -3.51297,0.054 -122.72268,0.48926 -126.235653,0.48926 -1.891594,0 -4.325669,-2.16348 -4.649941,-6.97354 l -1.837634,0 c -0.324272,4.81006 -2.754601,6.97354 -4.592149,6.97354 -3.350832,-0.054 -137.779143,-0.48926 -141.724483,-0.48926 -6.2693,0 -6.91905,2.75874 -6.91905,6.05553 l 1.7837,0 c 0.54045,-4.05342 2.59532,-4.54207 5.08142,-4.54207 3.29678,0 137.24035,0.75894 140.915454,0.75894 2.972514,0 5.565386,-1.29945 6.267986,-4.48814 l 0.215738,0 c 0.756637,3.18869 3.295463,4.48814 6.267976,4.48814 3.512973,0 122.399306,-0.75894 125.804176,-0.75894 2.37801,0 4.37916,0.48865 4.91962,4.54207 z" id="path6395" inkscape:connector-curvature="0" sodipodi:nodetypes="ccscccsccssccsscc"/>
    <g transform="translate(-371.51597,318.37587)" id="g3889-5">
      <g id="g5417" transform="translate(88.582671,88.582684)">
        <path inkscape:connector-curvature="0" id="path3812-4" d="m 274.07504,25.324863 -53.14961,0 -62.00787,124.015747 177.16535,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="ccccc"/>
        <text sodipodi:linespacing="125%" id="text3389-5" y="167.05714" x="247.50023" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="167.05714" x="247.50023" id="tspan3391-35" sodipodi:role="line">NBT(<tspan style="font-style:italic" id="tspan4650">root</tspan>, <tspan id="tspan3395-4" style="font-weight:bold">S</tspan>, <tspan style="font-style:italic" id="tspan9639">h</tspan>),</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="180.18214" x="247.50023" sodipodi:role="line" id="tspan4674">where Compose(<tspan style="font-weight:bold" id="tspan4656">L, </tspan><tspan style="font-style:italic" id="tspan4658">v,</tspan><tspan style="font-weight:bold" id="tspan4660"> R, S</tspan>),</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="193.30714" x="247.50023" sodipodi:role="line" id="tspan9653">and <tspan style="font-style:italic" id="tspan9655">h</tspan> &gt; 0.</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="206.43214" x="247.50023" sodipodi:role="line" id="tspan4668"/></text>
        <g transform="translate(1.3622047e-6,-2.2939176e-5)" id="g10304-8">
          <path sodipodi:nodetypes="ccccccc" inkscape:connector-curvature="0" id="path10306-6" d="m 229.7837,43.041398 -8.85827,17.716536 -8.85827,17.716535 70.86615,0 -8.85827,-17.716535 -8.85827,-17.716536 z" style="fill:none;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text10308-7" y="71.616211" x="227.78369" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="71.616211" x="227.78369" id="tspan10310-7" sodipodi:role="line">l</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.50023" y="53.899654" id="text10312-2" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan10314-4" x="247.50023" y="53.899654" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="267.21677" y="71.616211" id="text10316-0" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan10318-7" x="267.21677" y="71.616211" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
          <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path10320-1" d="m 274.07504,60.757934 -53.14961,0" style="fill:none;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <rect style="fill:#000000;fill-opacity:1;stroke:#000000;stroke-width:1.77165353000000003;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect10416-5" width="17.716536" height="17.716536" x="238.64195" y="60.757912"/>
          <text sodipodi:linespacing="125%" id="text10410-2" y="71.616211" x="247.21677" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#ffffff;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.50000000000000000px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#ffffff;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="71.616211" x="247.21677" id="tspan10412-3" sodipodi:role="line">c</tspan></text>
        </g>
      </g>
      <text sodipodi:linespacing="125%" id="text3820-5-0" y="101.04928" x="336.08292" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="101.04928" x="336.08292" id="tspan3822-6-81" sodipodi:role="line">root</tspan></text>
      <g id="g5427" transform="translate(26.574803,17.716535)">
        <g id="g5397" transform="translate(-54.212135,-16.673117)">
          <path inkscape:connector-curvature="0" id="path5399" d="m 319.4289,183.73027 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#787878;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cccc"/>
          <text sodipodi:linespacing="125%" id="text5401" y="209.73633" x="319.4155" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.4155" id="tspan5403" sodipodi:role="line">L</tspan></text>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="265.20337" y="213.9136" id="text5405" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5407" x="265.20337" y="213.9136" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RBT(<tspan id="tspan5415" style="font-style:italic">l</tspan>, <tspan id="tspan5413" style="font-weight:bold">L</tspan>, <tspan style="font-style:italic" id="tspan9645">h</tspan>-1)</tspan></text>
      </g>
      <g id="g5437" transform="translate(115.15748,17.716535)">
        <g transform="translate(-54.212135,-16.673117)" id="g5439">
          <path sodipodi:nodetypes="cccc" style="fill:#ffffff;fill-opacity:1;stroke:#787878;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 319.4289,183.73027 -17.71653,35.43307 35.43307,0 z" id="path5441" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.4155" y="209.73633" id="text5443" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan5445" x="319.4155" y="209.73633" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">R</tspan></text>
        </g>
        <text sodipodi:linespacing="125%" id="text5447" y="213.9136" x="265.20337" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="213.9136" x="265.20337" id="tspan5449" sodipodi:role="line">RBT(<tspan style="font-style:italic" id="tspan5451">r</tspan>, <tspan style="font-weight:bold" id="tspan5453">R</tspan>, <tspan style="font-style:italic" id="tspan9651">h</tspan>-1)</tspan></text>
      </g>
      <path sodipodi:nodetypes="cc" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0;marker-end:url(#Arrow2Mend-9-9)" d="m 371.51598,167.05715 8.85827,17.71654" id="path6195" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#Arrow2Mend-9-9)" d="m 336.08291,105.04928 0,26.5748" id="path6197" inkscape:connector-curvature="0"/>
      <path inkscape:connector-curvature="0" id="path6829" d="m 300.64984,167.05715 -8.85827,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0;marker-end:url(#Arrow2Mend-9-9)" sodipodi:nodetypes="cc"/>
    </g>
    <g id="g10274" transform="translate(-592.97266,318.37587)">
      <g transform="translate(88.582671,88.582684)" id="g10276">
        <path sodipodi:nodetypes="ccccc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 274.07504,25.324863 -53.14961,0 -62.00787,124.015747 177.16535,0 z" id="path10278" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.50023" y="167.05714" id="text10280" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan10282" x="247.50023" y="167.05714" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(<tspan id="tspan10284" style="font-style:italic">root</tspan>, <tspan style="font-weight:bold" id="tspan10286">S</tspan>, <tspan id="tspan10288" style="font-style:italic">h</tspan>),</tspan><tspan id="tspan10298" sodipodi:role="line" x="247.50023" y="180.18214" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">where Compose(<tspan id="tspan10292" style="font-weight:bold">L, </tspan><tspan id="tspan10294" style="font-style:italic">v,</tspan><tspan id="tspan10296" style="font-weight:bold"> R, S</tspan>).</tspan><tspan id="tspan10302" sodipodi:role="line" x="247.50023" y="193.30714" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <g id="g10304">
          <path sodipodi:nodetypes="ccccccc" inkscape:connector-curvature="0" id="path10306" d="m 229.7837,43.041398 -8.85827,17.716536 -8.85827,17.716535 70.86615,0 -8.85827,-17.716535 -8.85827,-17.716536 z" style="fill:none;stroke:#000000;stroke-width:1.77165353000000003;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;fill-opacity:1"/>
          <text sodipodi:linespacing="125%" id="text10308" y="71.616211" x="227.78369" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="71.616211" x="227.78369" id="tspan10310" sodipodi:role="line">l</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.50023" y="53.899654" id="text10312" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan10314" x="247.50023" y="53.899654" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="267.21677" y="71.616211" id="text10316" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan10318" x="267.21677" y="71.616211" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
          <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path10320" d="m 274.07504,60.757934 -53.14961,0" style="fill:none;stroke:#000000;stroke-width:1.77165353000000003;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;fill-opacity:1"/>
          <rect style="fill:#ff0000;stroke:#000000;stroke-width:1.77165353000000003;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;fill-opacity:1" id="rect10416" width="17.716536" height="17.716536" x="238.64195" y="60.757912"/>
          <text sodipodi:linespacing="125%" id="text10410" y="71.616211" x="247.21677" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="71.616211" x="247.21677" id="tspan10412" sodipodi:role="line">c</tspan></text>
        </g>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="336.08292" y="101.04928" id="text10324" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan10326" x="336.08292" y="101.04928" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">root</tspan></text>
      <g transform="translate(26.574803,17.716535)" id="g10328">
        <g transform="translate(-54.212135,-16.673117)" id="g10330">
          <path sodipodi:nodetypes="cccc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 319.4289,183.73027 -17.71653,35.43307 35.43307,0 z" id="path10332" inkscape:connector-curvature="0"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.4155" y="209.73633" id="text10334" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan10336" x="319.4155" y="209.73633" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">L</tspan></text>
        </g>
        <text sodipodi:linespacing="125%" id="text10338" y="213.9136" x="265.20337" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="213.9136" x="265.20337" id="tspan10340" sodipodi:role="line">BT(<tspan style="font-style:italic" id="tspan10342">l</tspan>, <tspan style="font-weight:bold" id="tspan10344">L</tspan>, <tspan id="tspan10346" style="font-style:italic">h</tspan>)</tspan></text>
      </g>
      <g transform="translate(115.15748,17.716535)" id="g10348">
        <g id="g10350" transform="translate(-54.212135,-16.673117)">
          <path inkscape:connector-curvature="0" id="path10352" d="m 319.4289,183.73027 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:1.77165353;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cccc"/>
          <text sodipodi:linespacing="125%" id="text10354" y="209.73633" x="319.4155" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.4155" id="tspan10356" sodipodi:role="line">R</tspan></text>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="265.20337" y="213.9136" id="text10358" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan10360" x="265.20337" y="213.9136" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(<tspan id="tspan10362" style="font-style:italic">r</tspan>, <tspan id="tspan10364" style="font-weight:bold">R</tspan>, <tspan id="tspan10366" style="font-style:italic">h</tspan>)</tspan></text>
      </g>
      <path inkscape:connector-curvature="0" id="path10368" d="m 371.51598,167.05715 8.85827,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0;marker-end:url(#Arrow2Mend-9-9)" sodipodi:nodetypes="cc"/>
      <path inkscape:connector-curvature="0" id="path10370" d="m 336.08291,105.04928 0,26.5748" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#Arrow2Mend-9-9)" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0;marker-end:url(#Arrow2Mend-9-9)" d="m 300.64984,167.05715 -8.85827,17.71654" id="path10372" inkscape:connector-curvature="0"/>
    </g>
    <text sodipodi:linespacing="125%" id="text10382" y="335.13379" x="-92.566925" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="335.13379" x="-92.566925" sodipodi:role="line" id="tspan10384">RBT(<tspan id="tspan10386" style="font-style:italic">root</tspan>, <tspan id="tspan10388" style="font-weight:bold">S</tspan>, <tspan id="tspan10390" style="font-style:italic">h</tspan>)</tspan></text>
    <path sodipodi:nodetypes="ccscccsccssccsscc" inkscape:connector-curvature="0" id="path10392" d="m 154.82102,356 c 0,-3.29679 -0.75752,-6.05553 -7.08086,-6.05553 -3.51297,0.054 -236.72268,0.48926 -240.235653,0.48926 -1.891594,0 -4.325669,-2.16348 -4.649941,-6.97354 l -1.837634,0 c -0.324272,4.81006 -2.754602,6.97354 -4.592152,6.97354 -3.35083,-0.054 -229.77914,-0.48926 -233.72448,-0.48926 -6.2693,0 -6.91905,2.75874 -6.91905,6.05553 l 1.7837,0 c 0.54045,-4.05342 2.59532,-4.54207 5.08142,-4.54207 3.29678,0 229.24035,0.75894 232.91545,0.75894 2.97252,0 5.56539,-1.29945 6.26799,-4.48814 l 0.215738,0 c 0.756637,3.18869 3.295463,4.48814 6.267976,4.48814 3.512973,0 236.399306,-0.75894 239.804176,-0.75894 2.37801,0 4.37916,0.48865 4.91962,4.54207 z" style="font-size:438.40066528px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"/>
    <g transform="translate(-920.72857,327.23411)" id="g13907">
      <g id="g13909" transform="translate(88.582671,88.582684)">
        <path style="fill:#ff0000;fill-opacity:1;stroke:#ffffff;stroke-width:0.88582677;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="M -212.59375 79.71875 L -229.78125 114.09375 L -195.40625 114.09375 L -212.59375 79.71875 z M -230.875 116.25 L -238.65625 131.84375 L -213.5 131.84375 L -213.5 116.25 L -230.875 116.25 z M -211.71875 116.25 L -211.71875 131.84375 L -186.53125 131.84375 L -194.34375 116.25 L -211.71875 116.25 z M -239.6875 133.90625 L -301.1875 256.875 L -124.03125 256.875 L -185.5 133.90625 L -239.6875 133.90625 z " transform="translate(460.09866,-107.54912)" id="path13911"/>
        <text sodipodi:linespacing="125%" id="text13913" y="60.757938" x="247.50023" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="60.757938" x="247.50023" sodipodi:role="line" id="tspan13923">RT(<tspan style="font-style:italic" id="tspan13917">root</tspan>, <tspan id="tspan13919" style="font-weight:bold">S</tspan>, <tspan style="font-style:italic" id="tspan13921">h</tspan>)</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="73.882935" x="247.50023" sodipodi:role="line" id="tspan13931"/></text>
        <g id="g13933" transform="translate(8.8582707,-53.149602)">
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="227.78369" y="71.616211" id="text13937" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan13939" x="227.78369" y="71.616211" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
          <text sodipodi:linespacing="125%" id="text13941" y="49.899654" x="239.50023" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="49.899654" x="239.50023" id="tspan13943" sodipodi:role="line">v</tspan></text>
          <text sodipodi:linespacing="125%" id="text13945" y="71.616211" x="249.21677" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="71.616211" x="249.21677" id="tspan13947" sodipodi:role="line">r</tspan></text>
        </g>
      </g>
      <text sodipodi:linespacing="125%" id="text13957" y="30.183144" x="336.08292" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="30.183144" x="336.08292" id="tspan13959" sodipodi:role="line">root</tspan></text>
      <g id="g13961" transform="translate(26.574803,17.716535)" style="stroke:#ffffff;stroke-opacity:1;stroke-width:0.88582677;stroke-miterlimit:4;stroke-dasharray:none">
        <g id="g13963" transform="translate(-54.212135,-16.673117)" style="stroke:#ffffff;stroke-opacity:1;stroke-width:0.88582677;stroke-miterlimit:4;stroke-dasharray:none">
          <path inkscape:connector-curvature="0" id="path13965" d="m 319.4289,148.2972 -44.29134,88.58268 88.58268,0 z" style="fill:#000000;fill-opacity:1;stroke:#ffffff;stroke-width:0.88582677;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cccc"/>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#ffffff;fill-opacity:1;stroke:none;font-family:Sans;stroke-opacity:1;stroke-width:0.88582676999999999;stroke-miterlimit:4;stroke-dasharray:none" x="265.20337" y="193.9136" id="text13971" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan13973" x="265.20337" y="193.9136" style="font-size:10.50000000000000000px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#ffffff;fill-opacity:1;font-family:Minion Pro;-inkscape-font-specification:Minion Pro;stroke:none;stroke-opacity:1;stroke-width:0.88582676999999999;stroke-miterlimit:4;stroke-dasharray:none">BT(<tspan id="tspan13975" style="font-style:italic;fill:#ffffff;fill-opacity:1;stroke:none;stroke-opacity:1;stroke-width:0.88582676999999999;stroke-miterlimit:4;stroke-dasharray:none">l</tspan>, <tspan id="tspan13977" style="font-weight:bold;fill:#ffffff;fill-opacity:1;stroke:none;stroke-opacity:1;stroke-width:0.88582676999999999;stroke-miterlimit:4;stroke-dasharray:none">L</tspan>, <tspan style="font-style:italic;fill:#ffffff;fill-opacity:1;stroke:none;stroke-opacity:1;stroke-width:0.88582676999999999;stroke-miterlimit:4;stroke-dasharray:none" id="tspan13979">h</tspan>)</tspan></text>
      </g>
      <g id="g13981" transform="translate(115.15748,17.716535)"/>
      <path sodipodi:nodetypes="cc" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#Arrow2Mend-9-9)" d="m 336.0829,34.183145 0,26.5748" id="path14003" inkscape:connector-curvature="0"/>
      <g style="stroke:#ffffff;stroke-width:0.88582677;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" transform="translate(115.15748,17.716539)" id="g14031">
        <g style="stroke:#ffffff;stroke-width:0.88582677;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" transform="translate(-54.212135,-16.673117)" id="g14033">
          <path sodipodi:nodetypes="cccc" style="fill:#000000;fill-opacity:1;stroke:#ffffff;stroke-width:0.88582677;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 319.4289,148.2972 -44.29134,88.58268 88.58268,0 z" id="path14035" inkscape:connector-curvature="0"/>
        </g>
        <text sodipodi:linespacing="125%" id="text14037" y="193.9136" x="265.20337" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#ffffff;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;fill:#ffffff;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="193.9136" x="265.20337" id="tspan14039" sodipodi:role="line">BT(<tspan style="font-style:italic;fill:#ffffff;fill-opacity:1;stroke:none" id="tspan14041">r</tspan>, <tspan style="font-weight:bold" id="tspan14047">R</tspan>, <tspan id="tspan14045" style="font-style:italic;fill:#ffffff;fill-opacity:1;stroke:none">h</tspan>)</tspan></text>
      </g>
    </g>
  </g>
</svg>
    </div>
  </p>

  <p>
    A red-rooted tree pointed to by <code>n</code> represents set <span class="st">S</span> with a tree of black-height <span class="var">bh</span> if

    <table class="displaymath">
      <tr>
	<td><span class="pred_name">RT</span>(<code>n</code>, <span class="st">S</span>, <span class="var">bh</span>) =</td>
	<td>
	  ∃ <span class="var">v</span>, <span class="var">c[0]</span>, <span class="var">c[1]</span>, <span class="st">L</span>, <span class="st">R</span>.
	</td>
	<td>there exist element <span class="var">v</span> and sets <span class="st">L</span> and <span class="st">R</span></td>
      </tr>
      <tr>
	<td/>
	<td><span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>) ∧</td>
	<td>such that <span class="st">L</span>, <span class="var">v</span> and <span class="st">R</span> make up <span class="st">S</span>, and</td>
      </tr>
      <tr>
	<td/>
	<td>
	  <code>n</code> ↦ <span class="var">v</span>, <span class="var">c[0]</span>, <span class="var">c[1]</span>, <span class="constant">false</span> ∗
	</td>
	<td><code>n</code> points to a red node containing <span class="var">v</span> and child pointers</td>
      </tr>
      <tr>
	<td/>
	<td>
	  <span class="pred_name">BT</span>(<span class="var">c[0]</span>, <span class="st">L</span>, <span class="var">bh</span>) ∗
	</td>
	<td>to black trees representing <span class="st">L</span></td>
      </tr>
      <tr>
	<td/>
	<td>
	  <span class="pred_name">BT</span>(<span class="var">c[1]</span>, <span class="st">R</span>, <span class="var">bh</span>)
	</td>
	<td>and <span class="st">R</span>, with the same black height.</td>
      </tr>
    </table>
  </p>

  <p>
    There's only one kind of RT, as the rules demand both children are black.
    However, there are multiple types of BT, analogous to the multiple node types in a 2,3,4-tree.
    There are two-nodes, in which both children are also black.
    There are three-nodes, in which one child is black (a BT) and one is red (an RT).
    That is, the RBT rules have two representations of a three-node:
    where the left child is the RT (<q>left-leaning</q>),
    and where the right child is the RT (<q>right-leaning</q>).
    Finally, there are four-nodes, where both children are RTs.
  </p>

  <p>
    First, two-nodes (2T).
    Two distinct types of two-node exist: empty and non-empty.
    The empty tree <span class="pred_name">ET</span> is easiest to describe, and looks like this:

    <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="177.16536" height="221.4567" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="ET.svg">
  <defs id="defs4">
    <marker inkscape:stockid="SquareM" orient="auto" refY="0.0" refX="0.0" id="SquareM" style="overflow:visible">
      <path id="path10104" d="M -5.0,-5.0 L -5.0,5.0 L 5.0,5.0 L 5.0,-5.0 L -5.0,-5.0 z " style="fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none" transform="scale(0.4)"/>
    </marker>
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.979899" inkscape:cx="53.976462" inkscape:cy="69.727466" inkscape:document-units="mm" inkscape:current-layer="g7054" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="2.5mm" spacingy="2.5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(4e-6,-308.26769)">
    <g id="g7054" transform="translate(-265.74801,104.29833)">
      <g transform="translate(70.866106,196.88277)" id="g3889">
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="283.46457" y="219.40155" id="text3852-9" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0" x="283.46457" y="219.40155" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">ET(∅, 0)</tspan></text>
        <path inkscape:connector-curvature="0" id="path6429-4" d="m 283.46458,7.0865926 0,88.5826774" style="fill:none;stroke:#000000;stroke-width:1.06299213;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#SquareM)" sodipodi:nodetypes="cc"/>
      </g>
    </g>
  </g>
</svg>
  </p>

  <p>
    The empty tree:

    <table class="displaymath">
      <tbody>
	<tr>
	  <td><span class="pred_name">ET</span>(<code>n</code>, <span class="st">S</span>, <span class="var">bh</span>) =</td>
	  <td><code>n</code> = <code>null</code> ∧</td>
	  <td><span class="var">n</span> is <code>null</code>,</td>
	</tr>
	<tr>
	  <td/>
	  <td><span class="st">S</span> = ∅ ∧</td>
          <td>the tree represents the empty set,</td>
	</tr>
	<tr>
	  <td/>
	  <td><b>emp</b> ∧</td>
          <td>the heap is empty,</td>
	</tr>
	<tr>
	  <td/>
	  <td><span class="var">bh</span> = <span class="constant">1</span></td>
          <td>and we have a black-height of 1.</td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    Next we capture the non-empty two-node.
    
    <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="177.16536" height="221.4567" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="2T.svg">
  <defs id="defs4">
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.979899" inkscape:cx="53.976462" inkscape:cy="69.727466" inkscape:document-units="mm" inkscape:current-layer="g3889" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="2.5mm" spacingy="2.5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(4e-6,-308.26769)">
    <g id="g7054" transform="translate(-265.74801,104.29833)">
      <g transform="translate(70.866106,196.88277)" id="g3889">
        <g id="g3861" transform="translate(-8.8582671,-2.3025345e-6)">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 265.74804,148.81888 -17.71654,35.43307 35.43308,0 z" id="path3828" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
          <text sodipodi:linespacing="125%" id="text3836" y="195.96849" x="265.74805" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="195.96849" x="265.74805" id="tspan3838" sodipodi:role="line">BT(L, <tspan style="font-style:italic" id="tspan21101">h</tspan>-1)</tspan></text>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="283.46457" y="219.40155" id="text3852-9" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0" x="283.46457" y="219.40155" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">2T(L ∪ {<tspan style="font-style:italic" id="tspan21097">v</tspan>} ∪ R, <tspan style="font-style:italic" id="tspan21099">h</tspan>)</tspan></text>
        <path style="fill:none;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,35.433065 -79.72441,159.448815 159.44882,0 z" id="path9226" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc" transform="translate(-70.866133,7.0866)"/>
        <g transform="translate(44.291339,-2.3025345e-6)" id="g9236">
          <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path9238" d="m 265.74804,148.81888 -17.71654,35.43307 35.43308,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="265.74805" y="195.96849" id="text9240" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9242" x="265.74805" y="195.96849" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(R, <tspan style="font-style:italic" id="tspan21103">h</tspan>-1)</tspan></text>
        </g>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path9244" d="m 283.46458,95.669271 26.5748,53.149609" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
        <path inkscape:connector-curvature="0" id="path6429-4" d="m 283.46458,7.0865926 0,70.8661414" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" sodipodi:nodetypes="cc"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="M 283.46458,95.669271 256.88977,148.81888" id="path3834" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <g id="g3856" transform="translate(7.2778187e-6,-35.433071)">
          <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path3804" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text3004" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan3006" sodipodi:role="line">v</tspan></text>
        </g>
      </g>
    </g>
  </g>
</svg>
  </p>

  <p>
    Represents set <span class="st">S</span> with black-height <span class="var">bh</span> if

    <table class="displaymath">
      <tbody>
	<tr>
	  <td><span class="pred_name">N2T</span>(<code>n</code>, <span class="st">S</span>, <span class="var">bh</span>) =</td>
	  <td>∃ <span class="var">v</span>, <span class="var">c[0]</span>, <span class="var">c[1]</span>, <span class="st">L</span>, <span class="st">R</span>.</td>
	  <td>there exist element <span class="var">v</span> and sets <span class="st">L</span> and <span class="st">R</span></td>
	</tr>
	<tr>
	  <td/>
	  <td><span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>) ∧</td>
	  <td>such that <span class="st">L</span>, <span class="var">v</span> and <span class="st">R</span> make up <span class="st">S</span>, and</td>
	</tr>
	<tr>
	  <td/>
	  <td><code>n</code> ↦ <span class="var">v</span>, <span class="var">c[0]</span>, <span class="var">c[1]</span>, <span class="constant">true</span> ∗</td>
	  <td><code>n</code> points to a black node containing <span class="var">v</span> and pointers</td>
	</tr>
	<tr>
	  <td/>
	  <td><span class="pred_name">BT</span>(<span class="var">c[0]</span>, <span class="st">L</span>, <span class="var">bh</span>−1) ∗</td>
	  <td>to black trees representing <span class="st">L</span> and <span class="st">R</span>,</td>
	</tr>
	<tr>
	  <td/>
	  <td><span class="pred_name">BT</span>(<span class="var">c[1]</span>, <span class="st">R</span>, <span class="var">bh</span>−1)</td>
          <td>which have one less black height.</td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    A general <span class="pred_name">2T</span> is either empty or non-empty:

    <div class="displaymath">
      <span class="pred_name">2T</span>(<code>n</code>, <span class="st">S</span>, <span class="var">bh</span>) =
      <span class="pred_name">ET</span>(<code>n</code>, <span class="st">S</span>, <span class="var">bh</span>) ∨ <span class="pred_name">N2T</span>(<code>n</code>, <span class="st">S</span>, <span class="var">bh</span>)
    </div>
  </p>

  <p>
    Next, three-nodes.
    We could create predicates <span class="pred_name">LeftLeaning3T</span> and <span class="pred_name">RightLeaning3T</span>,
    but then we lose the benefit of parameterizing the link direction.
    So we parameterize the predicate.
    Here's the left-leaning three-node:

    <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="177.16536" height="221.4567" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="3T0.svg">
  <defs id="defs4">
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.979899" inkscape:cx="53.976462" inkscape:cy="69.727466" inkscape:document-units="mm" inkscape:current-layer="g7054" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="2.5mm" spacingy="2.5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(4e-6,-308.26769)">
    <g id="g7054" transform="translate(-265.74801,104.29833)">
      <g transform="translate(70.866106,196.88277)" id="g3889">
        <g id="g3861" transform="translate(-8.8582671,-2.3025345e-6)">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:3.54330707000000000;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 265.74804,148.81888 -17.71654,35.43307 35.43308,0 z" id="path3828" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
          <text sodipodi:linespacing="125%" id="text3836" y="195.96849" x="265.74805" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="195.96849" x="265.74805" id="tspan3838" sodipodi:role="line">RT(L, <tspan style="font-style:italic" id="tspan21101">h</tspan>-1)</tspan></text>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="283.46457" y="219.40155" id="text3852-9" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0" x="283.46457" y="219.40155" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">3T(L ∪ {<tspan style="font-style:italic" id="tspan21097">v</tspan>} ∪ R, <tspan style="font-style:italic" id="tspan21099">h</tspan>, 0)</tspan></text>
        <path style="fill:none;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,35.433065 -79.72441,159.448815 159.44882,0 z" id="path9226" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc" transform="translate(-70.866133,7.0866)"/>
        <g transform="translate(44.291339,-2.3025345e-6)" id="g9236">
          <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path9238" d="m 265.74804,148.81888 -17.71654,35.43307 35.43308,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707000000000;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="265.74805" y="195.96849" id="text9240" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9242" x="265.74805" y="195.96849" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(R, <tspan style="font-style:italic" id="tspan21103">h</tspan>-1)</tspan></text>
        </g>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path9244" d="m 283.46458,95.669271 26.5748,53.149609" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
        <path inkscape:connector-curvature="0" id="path6429-4" d="m 283.46458,7.0865926 0,70.8661414" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" sodipodi:nodetypes="cc"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="M 283.46458,95.669271 256.88977,148.81888" id="path3834" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <g id="g3856" transform="translate(7.2778187e-6,-35.433071)">
          <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path3804" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text3004" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan3006" sodipodi:role="line">v</tspan></text>
        </g>
      </g>
    </g>
  </g>
</svg>
    <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="177.16536" height="221.4567" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="3T1.svg">
  <defs id="defs4">
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.979899" inkscape:cx="53.976462" inkscape:cy="69.727466" inkscape:document-units="mm" inkscape:current-layer="g3889" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="2.5mm" spacingy="2.5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(4e-6,-308.26769)">
    <g id="g7054" transform="translate(-265.74801,104.29833)">
      <g transform="translate(70.866106,196.88277)" id="g3889">
        <g id="g3861" transform="translate(-8.8582671,-2.3025345e-6)">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707000000000;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 265.74804,148.81888 -17.71654,35.43307 35.43308,0 z" id="path3828" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
          <text sodipodi:linespacing="125%" id="text3836" y="195.96849" x="265.74805" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="195.96849" x="265.74805" id="tspan3838" sodipodi:role="line">BT(L, <tspan style="font-style:italic" id="tspan21101">h</tspan>-1)</tspan></text>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="283.46457" y="219.40155" id="text3852-9" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0" x="283.46457" y="219.40155" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">3T(L ∪ {<tspan style="font-style:italic" id="tspan21097">v</tspan>} ∪ R, <tspan style="font-style:italic" id="tspan21099">h</tspan>, 1)</tspan></text>
        <path style="fill:none;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,35.433065 -79.72441,159.448815 159.44882,0 z" id="path9226" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc" transform="translate(-70.866133,7.0866)"/>
        <g transform="translate(44.291339,-2.3025345e-6)" id="g9236">
          <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path9238" d="m 265.74804,148.81888 -17.71654,35.43307 35.43308,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:3.54330707000000000;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="265.74805" y="195.96849" id="text9240" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9242" x="265.74805" y="195.96849" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(R, <tspan style="font-style:italic" id="tspan21103">h</tspan>-1)</tspan></text>
        </g>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path9244" d="m 283.46458,95.669271 26.5748,53.149609" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
        <path inkscape:connector-curvature="0" id="path6429-4" d="m 283.46458,7.0865926 0,70.8661414" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" sodipodi:nodetypes="cc"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="M 283.46458,95.669271 256.88977,148.81888" id="path3834" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <g id="g3856" transform="translate(7.2778187e-6,-35.433071)">
          <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path3804" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text3004" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan3006" sodipodi:role="line">v</tspan></text>
        </g>
      </g>
    </g>
  </g>
</svg>
  </p>

  <p>
    <span class="note">The right-leaning node is symmetrical, with link direction 1 and the children's colors swapped.</span>

    <table class="displaymath">
      <tbody>
	<tr>
	  <td><span class="pred_name">3T</span>(n, S, bh, 0) =</td>
	  <td>∃ v, c[0], c[1], L, R.</td>
	  
	</tr>
	<tr>
	  <td/>
	  <td>Compose(L, v, R, S)  ∧</td>
	</tr>
	<tr>
	  <td/>
	  <td>n↦v,c[0],c[1],true ∗</td>
	</tr>
	<tr>
	  <td/>
	  <td>RT(c[0], L, bh-1) ∗</td>
	</tr>
	<tr>
	  <td/>
	  <td>BT(c[1], R, bh-1).</td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    A general three-node is simply one that's left-leaning or right-leaning:

    <table class="displaymath">
      <tbody>
	<tr>
	  <td>3T(n, S, bh) =</td>
	  <td>3T(n, S, bh, 0) ||</td>
	</tr>
	<tr>
	  <td/>
	  <td>3T(n, S, bh, 1).</td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    Four-nodes are easier, as there is only one case:

    <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="177.16536" height="221.4567" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="4T.svg">
  <defs id="defs4">
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.979899" inkscape:cx="53.976462" inkscape:cy="69.727466" inkscape:document-units="mm" inkscape:current-layer="g7054" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="2.5mm" spacingy="2.5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(4e-6,-308.26769)">
    <g id="g7054" transform="translate(-265.74801,104.29833)">
      <g transform="translate(70.866106,196.88277)" id="g3889">
        <g id="g3861" transform="translate(-8.8582671,-2.3025345e-6)">
          <path style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:3.54330707000000000;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 265.74804,148.81888 -17.71654,35.43307 35.43308,0 z" id="path3828" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
          <text sodipodi:linespacing="125%" id="text3836" y="195.96849" x="265.74805" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="195.96849" x="265.74805" id="tspan3838" sodipodi:role="line">RT(L, <tspan style="font-style:italic" id="tspan21101">h</tspan>-1)</tspan></text>
        </g>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="283.46457" y="219.40155" id="text3852-9" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0" x="283.46457" y="219.40155" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">4T(L ∪ {<tspan style="font-style:italic" id="tspan21097">v</tspan>} ∪ R, <tspan style="font-style:italic" id="tspan21099">h</tspan>)</tspan></text>
        <path style="fill:none;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 354.33071,35.433065 -79.72441,159.448815 159.44882,0 z" id="path9226" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc" transform="translate(-70.866133,7.0866)"/>
        <g transform="translate(44.291339,-2.3025345e-6)" id="g9236">
          <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path9238" d="m 265.74804,148.81888 -17.71654,35.43307 35.43308,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:3.54330707000000000;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="265.74805" y="195.96849" id="text9240" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9242" x="265.74805" y="195.96849" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(R, <tspan style="font-style:italic" id="tspan21103">h</tspan>-1)</tspan></text>
        </g>
        <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path9244" d="m 283.46458,95.669271 26.5748,53.149609" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
        <path inkscape:connector-curvature="0" id="path6429-4" d="m 283.46458,7.0865926 0,70.8661414" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" sodipodi:nodetypes="cc"/>
        <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="M 283.46458,95.669271 256.88977,148.81888" id="path3834" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
        <g id="g3856" transform="translate(7.2778187e-6,-35.433071)">
          <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path3804" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
          <text sodipodi:linespacing="125%" id="text3004" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan3006" sodipodi:role="line">v</tspan></text>
        </g>
      </g>
    </g>
  </g>
</svg>
  </p>

  <p>
    <table class="displaymath">
      <tbody>
	<tr>
	  <td>4T(n, S, bh, 0) =</td>
	  <td>∃ v, c[0], c[1], L, R.</td>
	</tr>
	<tr>
	  <td/>
	  <td>Compose(L, v, R, S)  ∧</td>
	</tr>
	<tr>
	  <td/>
	  <td>n↦v,c[0],c[1],true ∗</td>
	</tr>
	<tr>
	  <td/>
	  <td>RT(c[0], L, bh-1) ∗</td>
	</tr>
	<tr>
	  <td/>
	  <td>RT(c[1], R, bh-1)</td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    We define a general black tree (BT) as one of the valid pseudo-node types:

    <table class="displaymath">
      <tbody>
	<tr>
	  <td>BT(n, S, bh) =</td>
	  <td>2T(n, S, bh) ||</td>
	</tr>
	<tr>
	  <td/>
	  <td>3T(n, S, bh) ||</td>
	</tr>
	<tr>
	  <td/>
	  <td>4T(n, S, bh).</td>
	</tr>
      </tbody>
    </table>
  </p>

  <p>
    We wrap things up with a separate RBT predicate:

    <div class="displaymath">
      RBT(n, S) = ∃ bh. BT(n, S, bh).
    </div>
  </p>

  <p>
    The above predicates describe valid parts of an RBT.
    Through the procedures, however, we have trees that are invalid, but have some guarantees.
    A red-violated tree is one with a red root and one RT as a child.
    As with the three-node, it swings both ways, so requires parameterization:

    <table class="displaymath">
      <tbody>
	RVT(n, S, bh, 0) =        // left-leaning red-violated tree
	∃ v, c[0], c[1], L, R.
	Compose(L, v, R, S)  ∧
	n↦v,c[0],c[1],false ∗
	RT(c[0], L, bh) ∗
	BT(c[1], R, bh).
      </tbody>
    </table>
  </p>

<!--


  RVT(n, S, bh, 1) =        // right-leaning red-violated tree
    ∃ v, c[0], c[1], L, R.
    Compose(L, v, R, S)  ∧
    n↦v,c[0],c[1],false ∗
    BT(c[0], L, bh) ∗
    RT(c[1], R, bh).
-->

</section>
  <section xml:base="recursive/recursive.html">
  
  <h3>Recursive <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> algorithms</h3>

  <p>
    As the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> data structure is just an augmentation of the <abbr title="Binary Search Tree" class="smallcaps">BST</abbr> data structure,
    the <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> <code>search</code> algorithm
    is basically identical to the <abbr title="Binary Search Tree" class="smallcaps">BST</abbr> <code>search</code> algorithm,
    and as such so is the proof of its correctness.
    I therefore exclude it here.
  </p>

  <section xml:base="insert/insert.html">

  <h4>A recursive <abbr title="Red-Black Tree" class="smallcaps">RBT</abbr> <code>insert</code> algorithm</h4>

  <p>
    <section class="generated_listing" xml:base="../../../../code/d/html/rb/blacken_rt.d.html"><pre class="prettyprint">module rb.blacken;

import rb.node;

Node* blacken(Node* root) { </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Function precondition.</div><span class="pred_name">RT</span>(<code>root</code>, <span class="st">S</span>, <span class="var">h</span>)</div></div>

<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Open <span class="pred_name">RT</span>(<code>root</code>, <span class="st">S</span>, <span class="var">h</span>).</div>∃<span class="var">v</span>, <span class="var">l</span>, <span class="var">r</span>, <span class="st">L</span>, <span class="st">R</span>. <div class="indent"><code>root</code> ↦ <span class="var">v</span>,<span class="red">●</span>,<span class="var">l</span>,<span class="var">r</span> ∗ <span class="pred_name">BT</span>(<span class="var">l</span>,<span class="st">L</span>,<span class="var">h</span>) ∗ <span class="pred_name">BT</span>(<span class="var">r</span>,<span class="st">R</span>,<span class="var">h</span>) ∧ <br/><span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>)</div></div></div>

<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl"><span class="var">a</span> ↦ _ ⇒ <span class="var">a</span> ≠ <code>null</code></div>∃<span class="var">v</span>, <span class="var">l</span>, <span class="var">r</span>, <span class="st">L</span>, <span class="st">R</span>. <div class="indent"><code>root</code> ↦ <span class="var">v</span>,<span class="red">●</span>,<span class="var">l</span>,<span class="var">r</span> ∗ <span class="pred_name">BT</span>(<span class="var">l</span>,<span class="st">L</span>,<span class="var">h</span>) ∗ <span class="pred_name">BT</span>(<span class="var">r</span>,<span class="st">R</span>,<span class="var">h</span>) ∧ <br/><span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>)</div></div></div>
<pre class="prettyprint">
  if (root == null) { </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Assert if-condition.</div>∃<span class="var">v</span>, <span class="var">l</span>, <span class="var">r</span>, <span class="st">L</span>, <span class="st">R</span>. <div class="indent"><code>root</code> ↦ <span class="var">v</span>,<span class="red">●</span>,<span class="var">l</span>,<span class="var">r</span> ∗ <span class="pred_name">BT</span>(<span class="var">l</span>,<span class="st">L</span>,<span class="var">h</span>) ∗ <span class="pred_name">BT</span>(<span class="var">r</span>,<span class="st">R</span>,<span class="var">h</span>) ∧ <br/><span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>)</div></div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Contradiction: this branch does not execute.</div><code>root</code> ≠ <code>null</code> ∧
<code>root</code> = <code>null</code></div></div>
<pre class="prettyprint">  }
  else { </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Deny if-condition.</div>∃<span class="var">v</span>, <span class="var">l</span>, <span class="var">r</span>, <span class="st">L</span>, <span class="st">R</span>. <div class="indent"><code>root</code> ↦ <span class="var">v</span>,<span class="red">●</span>,<span class="var">l</span>,<span class="var">r</span> ∗ <span class="pred_name">BT</span>(<span class="var">l</span>,<span class="st">L</span>,<span class="var">h</span>) ∗ <span class="pred_name">BT</span>(<span class="var">r</span>,<span class="st">R</span>,<span class="var">h</span>) ∧ <br/><span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>)</div></div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Discard <code>root</code> ≠ <code>null</code> (twice).</div>∃<span class="var">v</span>, <span class="var">l</span>, <span class="var">r</span>, <span class="st">L</span>, <span class="st">R</span>. <div class="indent"><code>root</code> ↦ <span class="var">v</span>,<span class="red">●</span>,<span class="var">l</span>,<span class="var">r</span> ∗ <span class="pred_name">BT</span>(<span class="var">l</span>,<span class="st">L</span>,<span class="var">h</span>) ∗ <span class="pred_name">BT</span>(<span class="var">r</span>,<span class="st">R</span>,<span class="var">h</span>) ∧ <br/><span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>)</div></div></div>

<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">∃I</div>∃<span class="var">v</span>, <span class="var">l</span>, <span class="var">r</span>, <span class="st">L</span>, <span class="st">R</span>, <span class="var">c</span>. <div class="indent"><code>root</code> ↦ <span class="var">v</span>,<span class="var">c</span>,<span class="var">l</span>,<span class="var">r</span> ∗ <span class="pred_name">BT</span>(<span class="var">l</span>,<span class="st">L</span>,<span class="var">h</span>) ∗ <span class="pred_name">BT</span>(<span class="var">r</span>,<span class="st">R</span>,<span class="var">h</span>) ∧ <br/><span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>)</div></div></div>
<pre class="prettyprint">
    if (root.black) { </pre>
<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Assert if-condition.</div>∃<span class="var">v</span>, <span class="var">l</span>, <span class="var">r</span>, <span class="st">L</span>, <span class="st">R</span>, <span class="var">c</span>. <div class="indent"><code>root</code> ↦ <span class="var">v</span>,<span class="var">c</span>,<span class="var">l</span>,<span class="var">r</span> ∗ <span class="pred_name">BT</span>(<span class="var">l</span>,<span class="st">L</span>,<span class="var">h</span>) ∗ <span class="pred_name">BT</span>(<span class="var">r</span>,<span class="st">R</span>,<span class="var">h</span>) ∧ <br/><span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>)</div></div></div>

<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Contradiction: this branch does not execute.</div><span class="var">c</span> = <span class="red">●</span> ∧
<span class="var">c</span> = <span class="black">●</span></div></div>
<pre class="prettyprint">    }
    else { </pre>
<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Deny if-condition.  Substitution.  Discard <span class="var">c</span> = <span class="red">●</span> (twice).</div>∃<span class="var">v</span>, <span class="var">l</span>, <span class="var">r</span>, <span class="st">L</span>, <span class="st">R</span>. <div class="indent"><code>root</code> ↦ <span class="var">v</span>,<span class="red">●</span>,<span class="var">l</span>,<span class="var">r</span> ∗ <span class="pred_name">BT</span>(<span class="var">l</span>,<span class="st">L</span>,<span class="var">h</span>) ∗ <span class="pred_name">BT</span>(<span class="var">r</span>,<span class="st">R</span>,<span class="var">h</span>) ∧ <br/><span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>)</div></div></div>
<pre class="prettyprint">
      root.black = true; </pre>
<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph">∃<span class="var">v</span>, <span class="var">l</span>, <span class="var">r</span>, <span class="st">L</span>, <span class="st">R</span>. <div class="indent"><code>root</code> ↦ <span class="var">v</span>,<span class="black">●</span>,<span class="var">l</span>,<span class="var">r</span> ∗ <span class="pred_name">BT</span>(<span class="var">l</span>,<span class="st">L</span>,<span class="var">h</span>) ∗ <span class="pred_name">BT</span>(<span class="var">r</span>,<span class="st">R</span>,<span class="var">h</span>) ∧ <br/><span class="pred_name">Compose</span>(<span class="st">L</span>, <span class="var">v</span>, <span class="st">R</span>, <span class="st">S</span>)</div></div></div>

<div class="section"><pre class="indent">      </pre><div class="AssertionParagraph"><div class="expl">Close <span class="pred_name">BT</span>(<code>root</code>, <span class="st">S</span>, <span class="var">h</span>+<span class="constant">1</span>).</div><span class="pred_name">BT</span>(<code>root</code>, <span class="st">S</span>, <span class="var">h</span>+<span class="constant">1</span>)</div></div>
<pre class="prettyprint">    } </pre>
<div class="section"><pre class="indent">    </pre><div class="AssertionParagraph"><div class="expl">Postcondition of executing branch.</div><span class="pred_name">BT</span>(<code>root</code>, <span class="st">S</span>, <span class="var">h</span>+<span class="constant">1</span>)</div></div>
<pre class="prettyprint">  } </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Postcondition of executing branch.</div><span class="pred_name">BT</span>(<code>root</code>, <span class="st">S</span>, <span class="var">h</span>+<span class="constant">1</span>)</div></div>
<pre class="prettyprint">
  return root;
} </pre></section>    
  </p>

  <p>
    Here is how the <code>ins_bal</code> procedure works:

    <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="938.97638" height="1027.5591" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="recursive_insert_bal.svg" inkscape:export-filename="/home/james/inst/edu/3-msc/net-storage/terms/3/verifying-concurrent-indexes/paper/rbt/recursive_insert_bal.png" inkscape:export-xdpi="90" inkscape:export-ydpi="90">
  <defs id="defs4">
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-6" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker17839" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path17841" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="SquareM" style="overflow:visible">
      <path id="path10104" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="SquareM-0" style="overflow:visible">
      <path id="path10104-7" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="marker18011" style="overflow:visible">
      <path id="path18013" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-4" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker18709" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path18711" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-1" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="0.7" inkscape:cx="767.80754" inkscape:cy="424.83162" inkscape:document-units="mm" inkscape:current-layer="layer1" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="5mm" spacingy="5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(0.53125,-308.78934)">
    <g id="g7054" transform="translate(2.6627089e-5,86.582635)">
      <rect style="fill:#b0aee2;fill-opacity:1;stroke:none" id="rect4527-36-6-5" width="230.31494" height="35.433033" x="34.901794" y="257.63977" ry="0.28726187"/>
      <rect ry="1.149049" y="293.07278" x="34.901764" height="141.73235" width="230.31496" id="rect4525-86-1-3" style="fill:#dbdaf2;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text4239-51-8-6" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line" id="tspan17819"><tspan style="font-weight:bold" id="tspan3553">Precondition: </tspan>Non-empty tree.  Subtrees <tspan style="font-style:italic" id="tspan19124">r</tspan></tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan19291">and <tspan style="font-style:italic" id="tspan19126">l</tspan> at height h; <tspan style="font-style:italic" id="tspan19122">l </tspan>is RVT(h), RT(h) or BT(h).</tspan></text>
      <path inkscape:connector-curvature="0" id="path9862-6" d="m 176.63408,328.5059 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="m 176.63408,328.50584 -70.86614,35.43314" id="path9864-5" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 176.63408,328.50584 35.43307,17.71661" id="path9870-7" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g9872-9" transform="translate(-106.8305,197.4035)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path9874-6" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text9876-4" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan9878-9" sodipodi:role="line">v</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="184.33485" y="317.93893" id="text9928-8" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9930-5" x="184.33485" y="317.93893" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="225.78369" y="346.22247" id="text11474-4" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11476-8" x="225.78369" y="346.22247" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <g id="g9892-3" transform="translate(-106.83049,161.9705)">
        <path inkscape:connector-curvature="0" id="path9894-1" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text9896-7" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan9898-8" sodipodi:role="line">r</tspan></text>
      </g>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19279" d="M 105.76794,363.93898 70.334868,381.65552" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 105.76794,363.93898 35.43307,17.71654" id="path19281" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g transform="translate(-177.69663,232.83664)" id="g19271">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path19273" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text19275" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19277" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lv</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19295" y="346.22247" x="85.783684" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="346.22247" x="85.783684" id="tspan19297" sodipodi:role="line">h</tspan></text>
      <g id="g9880-0" transform="translate(-106.83049,197.40357)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path9882-6" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text9884-1" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9886-6" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lr</tspan></text>
        <text sodipodi:linespacing="125%" id="text9888-6" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan9890-6" sodipodi:role="line"/></text>
      </g>
      <g transform="translate(-177.69663,197.40357)" id="g19255">
        <path inkscape:connector-curvature="0" id="path19257" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text19259" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan19261" sodipodi:role="line">ll</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text19263" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19265" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
    </g>
    <g id="g18103" transform="translate(2.992126e-7,70.86613)">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.334919" y="462.52161" id="text3852-9-8-5-9" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0-8-3-0" x="62.334919" y="462.52161" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Test color of <tspan style="font-style:italic" id="tspan19299">l</tspan> node</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="61.77824" y="479.22571" id="text6246-4" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6248-6" x="61.77824" y="479.22571" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan19301">l</tspan> is red</tspan></text>
      <path inkscape:connector-curvature="0" id="path7198-2" d="m 52.618356,450.52163 0,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
      <text transform="matrix(0,-1,1,0,0,0)" sodipodi:linespacing="125%" id="text17963" y="294.64984" x="-341.95471" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="294.64984" x="-341.95471" id="tspan17965" sodipodi:role="line"><tspan style="font-style:italic" id="tspan19303">l</tspan> is black</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618356,468.23816 230.314964,0 0,-177.16535 17.71653,0" id="path18101" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
    </g>
    <path inkscape:connector-curvature="0" id="path7198-2-0" d="m 52.618356,308.78935 0,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    <g transform="translate(265.74806,86.582636)" id="g19305">
      <rect ry="0.28726187" y="257.63977" x="34.901794" height="35.433033" width="230.31494" id="rect19307" style="fill:#b7e2ae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#def2da;fill-opacity:1;stroke:none" id="rect19309" width="230.31496" height="141.73235" x="34.901764" y="293.07278" ry="1.149049"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text19311" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan19411">Left subtree, as black-rooted, must be BT(h).</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 176.63408,328.5059 0,-35.43306" id="path19325" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19327" d="m 176.63408,328.50584 -70.86614,35.43314" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19329" d="m 176.63408,328.50584 35.43307,17.71661" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-106.8305,197.4035)" id="g19331">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path19333" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text19335" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19337" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19339" y="317.93893" x="184.33485" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.93893" x="184.33485" id="tspan19341" sodipodi:role="line"/></text>
      <text sodipodi:linespacing="125%" id="text19343" y="346.22247" x="225.78369" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="346.22247" x="225.78369" id="tspan19345" sodipodi:role="line">h</tspan></text>
      <g transform="translate(-106.83049,161.9705)" id="g19347">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path19349" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text19351" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19353" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="M 105.76794,363.93898 70.334868,381.65552" id="path19355" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19357" d="m 105.76794,363.93898 35.43307,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <g id="g19359" transform="translate(-177.69663,232.83664)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path19361" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text19363" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan19365" sodipodi:role="line">lv</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="77.783684" y="346.22247" id="text19367" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19369" x="77.783684" y="346.22247" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <g transform="translate(-106.83049,197.40357)" id="g19371">
        <path inkscape:connector-curvature="0" id="path19373" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text19375" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan19377" sodipodi:role="line">lr</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text19379" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19381" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g id="g19383" transform="translate(-177.69663,197.40357)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path19385" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text19387" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19389" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">ll</tspan></text>
        <text sodipodi:linespacing="125%" id="text19391" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan19393" sodipodi:role="line"/></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19395" y="381.65552" x="156.91754" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="381.65552" x="156.91754" id="tspan19397" sodipodi:role="line">h-1</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="56.917542" y="381.65552" id="text19403" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19405" x="56.917542" y="381.65552" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h-1</tspan></text>
    </g>
    <g id="g19503" transform="translate(2.6432548e-5,299.18106)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect19505" width="230.31494" height="35.433033" x="34.901794" y="257.63977" ry="0.28726187"/>
      <rect ry="1.0054178" y="293.07278" x="34.901764" height="124.01581" width="230.31496" id="rect19507" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text19509" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line" id="tspan19595"><tspan style="font-style:italic" id="tspan19597">l</tspan> is either RVT(h) or RT(h).  We can test</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan19603">subtrees; but blackening it is easier if possible.</tspan></text>
      <path inkscape:connector-curvature="0" id="path19515" d="m 176.63408,328.5059 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="m 176.63408,328.50584 -70.86614,17.71661" id="path19517" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 176.63408,328.50584 35.43307,17.71661" id="path19519" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g19521" transform="translate(-106.8305,197.4035)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path19523" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text19525" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan19527" sodipodi:role="line">v</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="184.33485" y="317.93893" id="text19529" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19531" x="184.33485" y="317.93893" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="212.06715" y="399.37204" id="text19533" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19535" x="212.06715" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <g id="g19537" transform="translate(-106.83049,161.9705)">
        <path inkscape:connector-curvature="0" id="path19539" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text19541" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan19543" sodipodi:role="line">r</tspan></text>
      </g>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19545" d="m 105.76794,346.22245 -35.433075,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 105.76794,346.22245 35.43307,0" id="path19547" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g transform="translate(-177.69663,215.12011)" id="g19549">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path19551" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text19553" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19555" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lv</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19557" y="330.22247" x="83.783684" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="330.22247" x="83.783684" id="tspan19559" sodipodi:role="line">h</tspan></text>
      <g id="g19561" transform="translate(-106.8305,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path19563" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text19565" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19567" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lr</tspan></text>
        <text sodipodi:linespacing="125%" id="text19569" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan19571" sodipodi:role="line"/></text>
      </g>
      <g transform="translate(-177.69664,161.9705)" id="g19573">
        <path inkscape:connector-curvature="0" id="path19575" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text19577" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan19579" sodipodi:role="line">ll</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text19581" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19583" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="141.201" y="399.37204" id="text19585" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19587" x="141.201" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <text sodipodi:linespacing="125%" id="text19589" y="399.37204" x="70.334862" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="70.334862" id="tspan19591" sodipodi:role="line">h</tspan></text>
    </g>
    <g transform="translate(2.992126e-7,265.74802)" id="g19605">
      <text sodipodi:linespacing="125%" id="text19607" y="462.52161" x="62.334919" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="462.52161" x="62.334919" id="tspan19609" sodipodi:role="line">Test color of root of <tspan style="font-style:italic" id="tspan19629">r</tspan></tspan></text>
      <text sodipodi:linespacing="125%" id="text19613" y="479.22571" x="61.77824" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="479.22571" x="61.77824" id="tspan19615" sodipodi:role="line"><tspan style="font-style:italic" id="tspan19633">r</tspan> is black</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618356,450.52163 0,35.43307" id="path19619" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-351.95471" y="294.64984" id="text19621" sodipodi:linespacing="125%" transform="matrix(0,-1,1,0,0,0)"><tspan sodipodi:role="line" id="tspan19623" x="-351.95471" y="294.64984" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan19631">r</tspan> is red</tspan></text>
      <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path19627" d="m 52.618356,468.23816 230.314964,0 0,-159.44881 17.71653,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    </g>
    <g transform="translate(265.74806,299.18106)" id="g19635">
      <rect ry="0.28726187" y="257.63977" x="34.901794" height="35.433033" width="283.46457" id="rect19637" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect19639" width="283.46457" height="124.01581" x="34.901764" y="293.07278" ry="1.0054178"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text19641" sodipodi:linespacing="125%"><tspan id="tspan19647" sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan id="tspan19645" style="font-style:italic">l</tspan> is either RVT(h) or RT(h).  The subtree <tspan style="font-style:italic" id="tspan19779">r</tspan> is an RT; <tspan style="font-style:italic" id="tspan19781">v</tspan> is</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan19783">therefore black.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 176.63408,328.50591 0,-35.43307" id="path19649" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19651" d="m 176.63408,328.50591 -70.86615,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19653" d="m 176.63408,328.50591 70.86613,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <g transform="translate(-106.83049,197.40357)" id="g19655">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path19657" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text19659" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19661" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19663" y="317.93893" x="184.33485" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.93893" x="184.33485" id="tspan19665" sodipodi:role="line"/></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 105.76793,346.22245 -35.433077,0" id="path19679" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19681" d="m 105.76793,346.22245 35.43307,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <g id="g19683" transform="translate(-177.69664,215.12011)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path19685" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text19687" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan19689" sodipodi:role="line">lv</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="83.783669" y="328.50595" id="text19691" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19693" x="83.783669" y="328.50595" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <g transform="translate(-106.8305,161.9705)" id="g19695">
        <path inkscape:connector-curvature="0" id="path19697" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text19699" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan19701" sodipodi:role="line">lr</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text19703" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19705" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g id="g19707" transform="translate(-177.69664,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path19709" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text19711" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19713" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">ll</tspan></text>
        <text sodipodi:linespacing="125%" id="text19715" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan19717" sodipodi:role="line"/></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19719" y="399.37207" x="141.20099" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37207" x="141.20099" id="tspan19721" sodipodi:role="line">h</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="70.334846" y="399.37207" id="text19723" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19725" x="70.334846" y="399.37207" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19727" d="m 247.50021,346.22245 -35.43308,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 247.50021,346.22245 35.43307,0" id="path19729" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g transform="translate(-35.964363,215.12011)" id="g19731">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path19733" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text19735" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19737" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rv</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19739" y="328.50595" x="275.51596" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="328.50595" x="275.51596" id="tspan19741" sodipodi:role="line">RT(h)</tspan></text>
      <g id="g19743" transform="translate(34.901777,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path19745" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text19747" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19749" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rr</tspan></text>
        <text sodipodi:linespacing="125%" id="text19751" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan19753" sodipodi:role="line"/></text>
      </g>
      <g transform="translate(-35.964363,161.9705)" id="g19755">
        <path inkscape:connector-curvature="0" id="path19757" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text19759" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan19761" sodipodi:role="line">rl</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text19763" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19765" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="282.93329" y="399.37207" id="text19767" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19769" x="282.93329" y="399.37207" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <text sodipodi:linespacing="125%" id="text19771" y="399.37207" x="212.06714" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37207" x="212.06714" id="tspan19773" sodipodi:role="line">BT(h)</tspan></text>
    </g>
    <g id="g19785" transform="translate(584.6457,299.18106)">
      <rect style="fill:#b7e2ae;fill-opacity:1;stroke:none" id="rect19787" width="283.46457" height="35.433033" x="34.901794" y="257.63977" ry="0.28726187"/>
      <rect ry="1.0054178" y="293.07278" x="34.901764" height="124.01581" width="283.46457" id="rect19789" style="fill:#def2da;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text19791" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line" id="tspan19928"><tspan style="font-style:italic" id="tspan19926">l</tspan> is blackened RVT(h) or RT(h) → BT(h+1).  <tspan style="font-style:italic" id="tspan19930">r</tspan> is blackened</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan19936">RT(h) → BT(h+1).  The tree is BT(h+1) → RT(h+1); done.</tspan></text>
      <path inkscape:connector-curvature="0" id="path19803" d="m 176.63408,346.22244 0,-53.1496" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="m 176.63407,328.50591 -70.86615,0" id="path19805" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="m 176.63407,328.50591 70.86614,0" id="path19807" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g19809" transform="translate(-106.8305,197.40357)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path19811" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text19813" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan19815" sodipodi:role="line">v</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="184.33485" y="317.93893" id="text19817" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19819" x="184.33485" y="317.93893" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19821" d="M 105.76792,328.50591 70.334851,346.22245" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="M 105.76792,328.50591 141.201,346.22245" id="path19823" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g transform="translate(-177.69664,197.40357)" id="g19825">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path19827" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text19829" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19831" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lv</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19833" y="318.50595" x="67.783669" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="318.50595" x="67.783669" id="tspan19835" sodipodi:role="line">BT(h+1)</tspan></text>
      <g id="g19837" transform="translate(-106.8305,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path19839" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text19841" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19843" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lr</tspan></text>
        <text sodipodi:linespacing="125%" id="text19845" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan19847" sodipodi:role="line"/></text>
      </g>
      <g transform="translate(-177.69664,161.9705)" id="g19849">
        <path inkscape:connector-curvature="0" id="path19851" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text19853" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan19855" sodipodi:role="line">ll</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text19857" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19859" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="141.20099" y="399.37207" id="text19861" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19863" x="141.20099" y="399.37207" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <text sodipodi:linespacing="125%" id="text19865" y="399.37207" x="70.334846" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37207" x="70.334846" id="tspan19867" sodipodi:role="line">h</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 247.50021,328.50591 -35.43308,17.71654" id="path19869" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19871" d="m 247.50021,328.50591 35.43307,17.71654" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <g id="g19873" transform="translate(-35.964365,197.40357)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path19875" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text19877" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan19879" sodipodi:role="line">rv</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="287.51596" y="318.50595" id="text19881" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19883" x="287.51596" y="318.50595" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h+1)</tspan></text>
      <g transform="translate(34.901775,161.9705)" id="g19885">
        <path inkscape:connector-curvature="0" id="path19887" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text19889" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan19891" sodipodi:role="line">rr</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text19893" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19895" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g id="g19897" transform="translate(-35.964365,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path19899" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text19901" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19903" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">rl</tspan></text>
        <text sodipodi:linespacing="125%" id="text19905" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan19907" sodipodi:role="line"/></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19909" y="399.37207" x="282.93329" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37207" x="282.93329" id="tspan19911" sodipodi:role="line">BT(h)</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="212.06714" y="399.37207" id="text19913" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19915" x="212.06714" y="399.37207" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <text sodipodi:linespacing="125%" id="text19917" y="359.939" x="176.63408" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="359.939" x="176.63408" id="tspan19919" sodipodi:role="line">RT(h+1)</tspan></text>
    </g>
    <g transform="translate(2.6432548e-5,494.06295)" id="g19970">
      <rect ry="0.28726187" y="257.63977" x="34.901794" height="35.433033" width="230.31494" id="rect19972" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect19974" width="230.31496" height="124.01582" x="34.901764" y="293.07278" ry="1.0054181"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text19976" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan20097">Color swaps are not a solution.  If <tspan style="font-style:italic" id="tspan20099">l</tspan> is an RVT,</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan20105">we will have to do a rotation.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 176.63408,328.5059 0,-35.43306" id="path19984" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19986" d="m 176.63408,328.50584 -70.86614,17.71661" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path19988" d="m 176.63408,328.50584 35.43307,17.71661" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-106.8305,197.4035)" id="g19990">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path19992" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text19994" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19996" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text19998" y="317.93893" x="184.33485" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.93893" x="184.33485" id="tspan20000" sodipodi:role="line"/></text>
      <text sodipodi:linespacing="125%" id="text20002" y="399.37204" x="212.06715" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="212.06715" id="tspan20004" sodipodi:role="line">BT(h)</tspan></text>
      <g transform="translate(-106.83049,161.9705)" id="g20006">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20008" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text20010" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20012" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 105.76793,346.22245 -35.433075,0" id="path20014" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20016" d="m 105.76793,346.22245 35.43307,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <g id="g20018" transform="translate(-177.69664,215.12011)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path20020" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text20022" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan20024" sodipodi:role="line">lv</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="83.783676" y="328.50595" id="text20026" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20028" x="83.783676" y="328.50595" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <g transform="translate(-106.8305,161.9705)" id="g20030">
        <path inkscape:connector-curvature="0" id="path20032" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20034" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan20036" sodipodi:role="line">lr</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text20038" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20040" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g id="g20042" transform="translate(-177.69664,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20044" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text20046" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20048" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">ll</tspan></text>
        <text sodipodi:linespacing="125%" id="text20050" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan20052" sodipodi:role="line"/></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20054" y="399.37204" x="141.201" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="141.201" id="tspan20056" sodipodi:role="line">h</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="70.334862" y="399.37204" id="text20058" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20060" x="70.334862" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
    </g>
    <g id="g20062" transform="translate(265.74803,265.74802)">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.334919" y="462.52161" id="text20064" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="62.334919" y="462.52161" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan20090">Blacken l and r.  Redden v.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618358,450.52163 0,17.71653 283.464562,0 10e-6,-159.44881 17.71653,0" id="path20084" inkscape:connector-curvature="0" sodipodi:nodetypes="ccccc"/>
    </g>
    <g id="g20107" transform="translate(318.89766,494.06295)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect20109" width="283.46457" height="35.433033" x="-18.247808" y="257.63977" ry="0.28726187"/>
      <rect ry="1.0054181" y="293.07278" x="-18.247808" height="124.01582" width="283.46454" id="rect20111" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20225" d="m 123.48448,346.22245 c -22.30803,-11.8262 -45.704699,-13.85458 -70.866143,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <text sodipodi:linespacing="125%" id="text20113" y="272.83463" x="2.7259744e-06" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan20119" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="2.7259744e-06" sodipodi:role="line"><tspan style="font-style:italic" id="tspan20232">ll</tspan> is an RT(h).  <tspan style="font-style:italic" id="tspan20234">l</tspan> is an RVT(h).  Therefore <tspan style="font-style:italic" id="tspan20236">lr</tspan> is black, and</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="2.7259744e-06" sodipodi:role="line" id="tspan20230"><tspan style="font-style:italic" id="tspan20238">v</tspan> is black because insertion was into an RT.</tspan></text>
      <path inkscape:connector-curvature="0" id="path20121" d="m 194.35062,328.5059 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="m 194.35062,328.50584 -70.86614,17.71661" id="path20123" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 194.35062,328.50584 35.43307,17.71661" id="path20125" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g20127" transform="translate(-89.113962,197.4035)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path20129" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text20131" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan20133" sodipodi:role="line">v</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="184.33485" y="317.93893" id="text20135" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20137" x="184.33485" y="317.93893" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="229.78369" y="399.37204" id="text20139" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20141" x="229.78369" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <g id="g20143" transform="translate(-89.113952,161.9705)">
        <path inkscape:connector-curvature="0" id="path20145" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20147" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan20149" sodipodi:role="line">r</tspan></text>
      </g>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20151" d="m 88.051412,346.22245 -35.433075,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 123.48447,346.22245 35.43307,0" id="path20153" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g transform="translate(-159.9801,215.12011)" id="g20155">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path20157" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text20159" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20161" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lv</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20163" y="322.50592" x="123.48447" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="322.50592" x="123.48447" id="tspan20165" sodipodi:role="line">RVT(h)</tspan></text>
      <g id="g20167" transform="translate(-89.113962,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20169" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text20171" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20173" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lr</tspan></text>
        <text sodipodi:linespacing="125%" id="text20175" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan20177" sodipodi:role="line"/></text>
      </g>
      <g transform="translate(-159.9801,161.9705)" id="g20179">
        <path inkscape:connector-curvature="0" id="path20181" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20183" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan20185" sodipodi:role="line">llr</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text20187" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20189" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="158.91754" y="399.37204" id="text20191" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20193" x="158.91754" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <text sodipodi:linespacing="125%" id="text20195" y="399.37204" x="88.051399" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="88.051399" id="tspan20197" sodipodi:role="line">BT(h)</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="17.185266" y="399.37204" id="text20219" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20221" x="17.185266" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 52.618341,346.22245 -35.433076,0" id="path20223" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g20199" transform="translate(-230.84623,215.12011)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path20201" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text20203" y="133.28091" x="283.64136" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="283.64136" id="tspan20205" sodipodi:role="line">llv</tspan></text>
      </g>
      <g id="g20207" transform="translate(-230.84623,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20209" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text20211" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20213" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lll</tspan></text>
        <text sodipodi:linespacing="125%" id="text20215" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan20217" sodipodi:role="line"/></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="25.500214" y="328.50595" id="text20240" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20242" x="25.500214" y="328.50595" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(h)</tspan></text>
    </g>
    <g transform="translate(637.7953,494.06295)" id="g20244">
      <rect ry="0.28726187" y="257.63977" x="-18.247808" height="35.433033" width="283.46457" id="rect20246" style="fill:#b7e2ae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#def2da;fill-opacity:1;stroke:none" id="rect20248" width="283.46454" height="124.01582" x="-18.247808" y="293.07278" ry="1.0054181"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="M 123.48447,328.50591 52.618337,346.22245" id="path20250" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="2.7259744e-06" y="272.83463" id="text20252" sodipodi:linespacing="125%"><tspan id="tspan20262" sodipodi:role="line" x="2.7259744e-06" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan id="tspan20256" style="font-style:italic">ll</tspan> remains an RT(h).  <tspan style="font-style:italic" id="tspan20512">v</tspan> becomes root of a new RT(h).  <tspan style="font-style:italic" id="tspan20516">lv</tspan> is</tspan><tspan sodipodi:role="line" x="2.7259744e-06" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan20514">root of new BT(h+1).  BT(h+1) → BT(h+1); done.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 123.48447,328.5059 0,-35.43306" id="path20266" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20268" d="M 194.35062,346.22245 123.48447,328.50591" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20270" d="m 194.35062,346.22245 35.43307,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <text sodipodi:linespacing="125%" id="text20280" y="317.93893" x="184.33485" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.93893" x="184.33485" id="tspan20282" sodipodi:role="line"/></text>
      <text sodipodi:linespacing="125%" id="text20284" y="399.37204" x="229.78369" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="229.78369" id="tspan20286" sodipodi:role="line">BT(h)</tspan></text>
      <g transform="translate(-89.113952,161.9705)" id="g20288">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20290" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text20292" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20294" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 88.051412,346.22245 -35.433075,0" id="path20296" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20298" d="m 194.35062,346.22245 -35.43308,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <g id="g20300" transform="translate(-159.9801,197.40357)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path20302" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text20304" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan20306" sodipodi:role="line">lv</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="225.50021" y="328.50595" id="text20308" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20310" x="225.50021" y="328.50595" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(h)</tspan></text>
      <g transform="translate(-89.113962,161.9705)" id="g20312">
        <path inkscape:connector-curvature="0" id="path20314" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20316" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan20318" sodipodi:role="line">lr</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text20320" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20322" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g id="g20324" transform="translate(-159.9801,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20326" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text20328" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20330" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">llr</tspan></text>
        <text sodipodi:linespacing="125%" id="text20332" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan20334" sodipodi:role="line"/></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20336" y="399.37204" x="158.91754" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="158.91754" id="tspan20338" sodipodi:role="line">BT(h)</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="88.051399" y="399.37204" id="text20340" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20342" x="88.051399" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <text sodipodi:linespacing="125%" id="text20344" y="399.37204" x="17.185266" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="17.185266" id="tspan20346" sodipodi:role="line">BT(h)</tspan></text>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20348" d="m 52.618341,346.22245 -35.433076,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <g transform="translate(-230.84623,215.12011)" id="g20350">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path20352" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="283.64136" y="133.28091" id="text20354" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20356" x="283.64136" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">llv</tspan></text>
      </g>
      <g transform="translate(-230.84623,161.9705)" id="g20358">
        <path inkscape:connector-curvature="0" id="path20360" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20362" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan20364" sodipodi:role="line">lll</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text20366" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20368" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20370" y="328.50595" x="23.500214" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="328.50595" x="23.500214" id="tspan20372" sodipodi:role="line">RT(h)</tspan></text>
      <g transform="translate(-89.113953,215.12011)" id="g20272">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path20274" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text20276" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20278" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="159.50021" y="310.50595" id="text20374" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20376" x="159.50021" y="310.50595" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h+1)</tspan></text>
    </g>
    <g transform="translate(265.74803,460.62991)" id="g20378">
      <text sodipodi:linespacing="125%" id="text20380" y="462.52161" x="62.334919" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan20382" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="462.52161" x="62.334919" sodipodi:role="line">Single rotate right with recoloring.</tspan></text>
      <path sodipodi:nodetypes="ccccc" inkscape:connector-curvature="0" id="path20384" d="m 52.618358,450.52163 0,17.71653 283.464562,0 10e-6,-159.44881 17.71653,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    </g>
    <g id="g20386" transform="translate(2.992126e-7,460.62992)">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.334919" y="462.52161" id="text20388" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20390" x="62.334919" y="462.52161" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Test color of root of <tspan id="tspan20392" style="font-style:italic">ll</tspan></tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="61.77824" y="479.22571" id="text20394" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20396" x="61.77824" y="479.22571" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan20410">ll</tspan> is black-rooted</tspan></text>
      <path inkscape:connector-curvature="0" id="path20400" d="m 52.618356,450.52163 0,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
      <text transform="matrix(0,-1,1,0,0,0)" sodipodi:linespacing="125%" id="text20402" y="294.64984" x="-383.95471" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="294.64984" x="-383.95471" id="tspan20404" sodipodi:role="line"><tspan style="font-style:italic" id="tspan20412">ll</tspan> is red-rooted</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618356,468.23816 230.314964,0 0,-159.44881 17.71653,0" id="path20408" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
    </g>
    <g id="g20414" transform="translate(2.6432548e-5,688.94484)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect20416" width="230.31494" height="35.433033" x="34.901794" y="257.63977" ry="0.28726187"/>
      <rect ry="1.0054181" y="293.07278" x="34.901764" height="124.01582" width="230.31496" id="rect20418" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text20420" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan20422" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line">Color swaps are not a solution.  If <tspan id="tspan20424" style="font-style:italic">l</tspan> is an RVT,</tspan><tspan id="tspan20426" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line">we will have to do a rotation.</tspan></text>
      <path inkscape:connector-curvature="0" id="path20428" d="m 176.63408,328.5059 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="m 176.63408,328.50584 -70.86614,17.71661" id="path20430" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 176.63408,328.50584 35.43307,17.71661" id="path20432" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g20434" transform="translate(-106.8305,197.4035)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path20436" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text20438" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan20440" sodipodi:role="line">v</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="184.33485" y="317.93893" id="text20442" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20444" x="184.33485" y="317.93893" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="212.06715" y="399.37204" id="text20446" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20448" x="212.06715" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <g id="g20450" transform="translate(-106.83049,161.9705)">
        <path inkscape:connector-curvature="0" id="path20452" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20454" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan20456" sodipodi:role="line">r</tspan></text>
      </g>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20458" d="m 105.76793,346.22245 -35.433075,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 105.76793,346.22245 35.43307,0" id="path20460" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g transform="translate(-177.69664,215.12011)" id="g20462">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path20464" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text20466" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20468" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lv</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20470" y="328.50595" x="83.783676" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="328.50595" x="83.783676" id="tspan20472" sodipodi:role="line">h</tspan></text>
      <g id="g20474" transform="translate(-106.8305,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20476" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text20478" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20480" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lr</tspan></text>
        <text sodipodi:linespacing="125%" id="text20482" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan20484" sodipodi:role="line"/></text>
      </g>
      <g transform="translate(-177.69664,161.9705)" id="g20486">
        <path inkscape:connector-curvature="0" id="path20488" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20490" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan20492" sodipodi:role="line">ll</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text20494" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20496" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="141.201" y="399.37204" id="text20498" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20500" x="141.201" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <text sodipodi:linespacing="125%" id="text20502" y="399.37204" x="70.334862" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="70.334862" id="tspan20504" sodipodi:role="line">BT(h)</tspan></text>
    </g>
    <g transform="translate(318.89766,688.94484)" id="g20518">
      <rect ry="0.28726187" y="257.63977" x="-18.247808" height="35.433033" width="283.46457" id="rect20520" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect20522" width="283.46454" height="124.01582" x="-18.247808" y="293.07278" ry="1.0054181"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="m 123.48448,346.22245 c -22.30803,-11.8262 -45.704699,-13.85458 -70.866143,0" id="path20524" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="2.7259744e-06" y="272.83463" id="text20526" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="2.7259744e-06" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan20528"><tspan id="tspan20530" style="font-style:italic">ll</tspan> is an RT(h).  <tspan id="tspan20532" style="font-style:italic">l</tspan> is an RVT(h).  Therefore <tspan id="tspan20534" style="font-style:italic">lr</tspan> is black, and</tspan><tspan id="tspan20536" sodipodi:role="line" x="2.7259744e-06" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan id="tspan20538" style="font-style:italic">v</tspan> is black because insertion was into an RT.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 194.35062,328.5059 0,-35.43306" id="path20540" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20542" d="M 194.35062,328.50584 C 139.91305,310.78938 95.913994,320.31761 52.618334,346.22245" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20544" d="m 194.35062,328.50584 35.43307,17.71661" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-89.113962,197.4035)" id="g20546">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path20548" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text20550" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20552" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20554" y="317.93893" x="184.33485" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.93893" x="184.33485" id="tspan20556" sodipodi:role="line"/></text>
      <text sodipodi:linespacing="125%" id="text20558" y="399.37204" x="229.78369" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="229.78369" id="tspan20560" sodipodi:role="line">BT(h)</tspan></text>
      <g transform="translate(-89.113952,161.9705)" id="g20562">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20564" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text20566" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20568" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 88.051412,346.22245 35.433068,0" id="path20570" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20572" d="m 123.48447,346.22245 35.43307,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <g id="g20574" transform="translate(-159.9801,215.12011)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path20576" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text20578" y="133.28091" x="284.03888" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="284.03888" id="tspan20580" sodipodi:role="line">lrv</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="155.201" y="334.50592" id="text20582" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20584" x="155.201" y="334.50592" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(h)</tspan></text>
      <g transform="translate(-89.113962,161.9705)" id="g20586">
        <path inkscape:connector-curvature="0" id="path20588" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20590" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan20592" sodipodi:role="line">lrr</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text20594" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20596" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g id="g20598" transform="translate(-159.9801,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20600" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text20602" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20604" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lrl</tspan></text>
        <text sodipodi:linespacing="125%" id="text20606" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan20608" sodipodi:role="line"/></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20610" y="399.37204" x="158.91754" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="158.91754" id="tspan20612" sodipodi:role="line">BT(h)</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="88.051399" y="399.37204" id="text20614" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20616" x="88.051399" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <text sodipodi:linespacing="125%" id="text20618" y="399.37204" x="17.185266" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="17.185266" id="tspan20620" sodipodi:role="line">BT(h)</tspan></text>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20622" d="m 52.618341,346.22245 -35.433076,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <g transform="translate(-230.84623,215.12011)" id="g20624">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path20626" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="284.12067" y="133.28091" id="text20628" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20630" x="284.12067" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lv</tspan></text>
      </g>
      <g transform="translate(-230.84623,161.9705)" id="g20632">
        <path inkscape:connector-curvature="0" id="path20634" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20636" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan20638" sodipodi:role="line">lll</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text20640" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20642" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20644" y="322.50592" x="52.618336" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="322.50592" x="52.618336" id="tspan20646" sodipodi:role="line">RVT(h)</tspan></text>
    </g>
    <g id="g20648" transform="translate(637.7953,688.94484)">
      <rect style="fill:#b7e2ae;fill-opacity:1;stroke:none" id="rect20650" width="283.46457" height="35.433033" x="-18.247808" y="257.63977" ry="0.28726187"/>
      <rect ry="1.0054181" y="293.07278" x="-18.247808" height="124.01582" width="283.46454" id="rect20652" style="fill:#def2da;fill-opacity:1;stroke:none"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20654" d="M 123.48447,328.50591 52.618337,346.22245" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <text sodipodi:linespacing="125%" id="text20656" y="272.83463" x="2.7259744e-06" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan20666" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="2.7259744e-06" sodipodi:role="line"><tspan style="font-style:italic" id="tspan20660">lv <tspan style="font-style:normal" id="tspan20780">and </tspan>v</tspan> become roots of two new RT(h).  <tspan id="tspan20664" style="font-style:italic">lrv</tspan> is root of a</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="2.7259744e-06" sodipodi:role="line" id="tspan20790">new BT(h+1).  BT(h+1) → BT(h+1); done.</tspan></text>
      <path inkscape:connector-curvature="0" id="path20668" d="m 123.48447,328.5059 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="M 194.35062,346.22245 123.48447,328.50591" id="path20670" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 194.35062,346.22245 35.43307,0" id="path20672" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="184.33485" y="317.93893" id="text20674" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20676" x="184.33485" y="317.93893" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="229.78369" y="399.37204" id="text20678" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20680" x="229.78369" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <g id="g20682" transform="translate(-89.113952,161.9705)">
        <path inkscape:connector-curvature="0" id="path20684" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20686" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan20688" sodipodi:role="line">r</tspan></text>
      </g>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20690" d="m 88.051412,346.22245 -35.433075,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 194.35062,346.22245 -35.43308,0" id="path20692" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g transform="translate(-159.9801,197.40357)" id="g20694">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path20696" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="284.40015" y="133.28091" id="text20698" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20700" x="284.40015" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lrv</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20702" y="328.50595" x="225.50021" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="328.50595" x="225.50021" id="tspan20704" sodipodi:role="line">RT(h)</tspan></text>
      <g id="g20706" transform="translate(-89.113962,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20708" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text20710" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20712" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lrr</tspan></text>
        <text sodipodi:linespacing="125%" id="text20714" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan20716" sodipodi:role="line"/></text>
      </g>
      <g transform="translate(-159.9801,161.9705)" id="g20718">
        <path inkscape:connector-curvature="0" id="path20720" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20722" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan20724" sodipodi:role="line">lrl</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text20726" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20728" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="158.91754" y="399.37204" id="text20730" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20732" x="158.91754" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <text sodipodi:linespacing="125%" id="text20734" y="399.37204" x="88.051399" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="88.051399" id="tspan20736" sodipodi:role="line">BT(h)</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="17.185266" y="399.37204" id="text20738" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20740" x="17.185266" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 52.618341,346.22245 -35.433076,0" id="path20742" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g20744" transform="translate(-230.84623,215.12011)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path20746" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text20748" y="133.28091" x="283.64136" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="283.64136" id="tspan20750" sodipodi:role="line">lv</tspan></text>
      </g>
      <g id="g20752" transform="translate(-230.84623,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20754" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text20756" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20758" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">lll</tspan></text>
        <text sodipodi:linespacing="125%" id="text20760" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan20762" sodipodi:role="line"/></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="23.500214" y="328.50595" id="text20764" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20766" x="23.500214" y="328.50595" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(h)</tspan></text>
      <g id="g20768" transform="translate(-89.113953,215.12011)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path20770" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text20772" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan20774" sodipodi:role="line">v</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20776" y="310.50595" x="159.50021" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="310.50595" x="159.50021" id="tspan20778" sodipodi:role="line">BT(h+1)</tspan></text>
    </g>
    <g id="g20798" transform="translate(265.74803,655.5118)">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.334919" y="462.52161" id="text20800" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="62.334919" y="462.52161" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan20802">Double rotate right with recoloring.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618358,450.52163 0,17.71653 283.464562,0 10e-6,-159.44881 17.71653,0" id="path20804" inkscape:connector-curvature="0" sodipodi:nodetypes="ccccc"/>
    </g>
    <g transform="translate(2.992126e-7,655.5118)" id="g20806">
      <text sodipodi:linespacing="125%" id="text20808" y="462.52161" x="62.334919" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="462.52161" x="62.334919" id="tspan20810" sodipodi:role="line">Test color of root of <tspan style="font-style:italic" id="tspan20812">lr</tspan></tspan></text>
      <text sodipodi:linespacing="125%" id="text20814" y="479.22571" x="61.77824" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="479.22571" x="61.77824" id="tspan20816" sodipodi:role="line"><tspan id="tspan20818" style="font-style:italic">lr</tspan> is black-rooted</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618356,450.52163 0,35.43307" id="path20820" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-383.95471" y="294.64984" id="text20822" sodipodi:linespacing="125%" transform="matrix(0,-1,1,0,0,0)"><tspan sodipodi:role="line" id="tspan20824" x="-383.95471" y="294.64984" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan id="tspan20826" style="font-style:italic">lr</tspan> is red-rooted</tspan></text>
      <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path20828" d="m 52.618356,468.23816 230.314964,0 0,-159.44881 17.71653,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    </g>
    <g transform="translate(2.6432548e-5,883.82673)" id="g20830">
      <rect ry="0.28726187" y="257.63977" x="34.901794" height="35.433033" width="230.31494" id="rect20832" style="fill:#b7e2ae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#def2da;fill-opacity:1;stroke:none" id="rect20834" width="230.31496" height="124.01582" x="34.901764" y="293.07278" ry="1.0054181"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text20836" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan20925"><tspan style="font-style:italic" id="tspan20929">l</tspan> is an RT(h).  If <tspan style="font-style:italic" id="tspan20927">v</tspan> is red, tree RT(h) → RVT(h);</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan20935">if <tspan style="font-style:italic" id="tspan20937">v</tspan> is black, BT(h) → RT(h); both are valid.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 176.63408,328.5059 0,-35.43306" id="path20844" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20846" d="m 176.63408,328.50584 -70.86614,17.71661" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20848" d="m 176.63408,328.50584 35.43307,17.71661" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-106.8305,197.4035)" id="g20850">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path20852" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text20854" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20856" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20858" y="317.93893" x="184.33485" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.93893" x="184.33485" id="tspan20860" sodipodi:role="line"/></text>
      <text sodipodi:linespacing="125%" id="text20862" y="399.37204" x="212.06715" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="212.06715" id="tspan20864" sodipodi:role="line">BT(h)</tspan></text>
      <g transform="translate(-106.83049,161.9705)" id="g20866">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20868" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text20870" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20872" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 105.76793,346.22245 -35.433075,0" id="path20874" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path20876" d="m 105.76793,346.22245 35.43307,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <g id="g20878" transform="translate(-177.69664,215.12011)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path20880" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text20882" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan20884" sodipodi:role="line">lv</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="79.783676" y="328.50595" id="text20886" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20888" x="79.783676" y="328.50595" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">RT(h)</tspan></text>
      <g transform="translate(-106.8305,161.9705)" id="g20890">
        <path inkscape:connector-curvature="0" id="path20892" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text20894" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan20896" sodipodi:role="line">lr</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text20898" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20900" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      </g>
      <g id="g20902" transform="translate(-177.69664,161.9705)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path20904" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text20906" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20908" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">ll</tspan></text>
        <text sodipodi:linespacing="125%" id="text20910" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan20912" sodipodi:role="line"/></text>
      </g>
      <text sodipodi:linespacing="125%" id="text20914" y="399.37204" x="141.201" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="399.37204" x="141.201" id="tspan20916" sodipodi:role="line">BT(h)</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="70.334862" y="399.37204" id="text20918" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan20920" x="70.334862" y="399.37204" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">BT(h)</tspan></text>
    </g>
  </g>
</svg>
  </p>

  <p>
    Here is how the <code>ins_aux</code> procedure works:

    <!-- Created with Inkscape (http://www.inkscape.org/) --><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="832.67719" height="620.07874" id="svg2" version="1.1" inkscape:version="0.48.1 r9760" sodipodi:docname="recursive_insert_aux.svg" inkscape:export-filename="/home/james/inst/edu/3-msc/net-storage/terms/3/verifying-concurrent-indexes/paper/rbt/recursive_insert_aux.png" inkscape:export-xdpi="90" inkscape:export-ydpi="90">
  <defs id="defs4">
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible">
      <path id="path4781" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mstart" orient="auto" refY="0" refX="0" id="Arrow2Mstart" style="overflow:visible">
      <path id="path4796" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(0.6,0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible">
      <path id="path4799" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible">
      <path id="path4793" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-7-6" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-3-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-7" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-6" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker17839" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path17841" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="SquareM" style="overflow:visible">
      <path id="path10104" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="SquareM-0" style="overflow:visible">
      <path id="path10104-7" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="SquareM" orient="auto" refY="0" refX="0" id="marker18011" style="overflow:visible">
      <path id="path18013" d="M -5,-5 -5,5 5,5 5,-5 -5,-5 z" style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;marker-start:none" transform="scale(0.4,0.4)" inkscape:connector-curvature="0"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-4" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-9" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="marker18709" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path18711" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend-9-9" style="overflow:visible">
      <path inkscape:connector-curvature="0" id="path4799-2-1" style="font-size:12px;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6,-0.6)"/>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.4" inkscape:cx="347.65898" inkscape:cy="345.52173" inkscape:document-units="mm" inkscape:current-layer="layer1" showgrid="true" inkscape:window-width="1920" inkscape:window-height="1032" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" units="mm" inkscape:snap-global="true" showguides="true" inkscape:guide-bbox="true" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0">
    <inkscape:grid type="xygrid" id="grid3012" empspacing="5" visible="true" enabled="true" snapvisiblegridlinesonly="true" units="mm" spacingx="5mm" spacingy="5mm"/>
  </sodipodi:namedview>
  <metadata id="metadata7">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(0.53125,-308.78934)">
    <g id="g9842" transform="translate(-0.53126553,228.83659)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect9844" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.0054181" y="292.55112" x="35.433056" height="124.01581" width="230.31496" id="rect9846" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text9848" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan9856" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line"><tspan style="font-style:italic" id="tspan18355">s</tspan> is a non-empty tree containing some value <tspan style="font-style:italic" id="tspan9938">v</tspan></tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan9936">at the root and two possibly empty subtrees.</tspan></text>
      <path inkscape:connector-curvature="0" id="path9862" d="m 141.7323,327.98423 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 141.7323,327.98417 -35.43307,35.43315" id="path9864" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 141.7323,327.98417 35.43307,35.43315" id="path9870" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g9872" transform="translate(-141.73227,196.88183)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path9874" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text9876" y="133.28091" x="281.10742" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="281.10742" id="tspan9878" sodipodi:role="line">v</tspan></text>
      </g>
      <g id="g9880" transform="translate(-141.73227,179.16537)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path9882" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text9884" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9886" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
        <text sodipodi:linespacing="125%" id="text9888" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan9890" sodipodi:role="line"/></text>
        <text sodipodi:linespacing="125%" id="text11470" y="191.73633" x="261.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="191.73633" x="261.56259" id="tspan11472" sodipodi:role="line">i</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="333.56259" y="191.73633" id="text11474" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11476" x="333.56259" y="191.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
      </g>
      <g id="g9892" transform="translate(-141.73227,179.16537)">
        <path inkscape:connector-curvature="0" id="path9894" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text9896" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan9898" sodipodi:role="line">r</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="167.14961" y="317.41727" id="text9928" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan9930" x="167.14961" y="317.41727" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
    </g>
    <g id="g7054" transform="translate(2.6627089e-5,86.582635)">
      <rect style="fill:#b0aee2;fill-opacity:1;stroke:none" id="rect4527-36-6-5" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="0.57875413" y="292.55112" x="35.433056" height="71.387878" width="230.31496" id="rect4525-86-1-3" style="fill:#dbdaf2;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text4239-51-8-6" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan6238" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line"><tspan style="font-weight:bold" id="tspan3553">Precondition:</tspan><tspan style="font-style:italic" id="tspan17809"> s</tspan> is a tree. We are going to insert</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan17819">the value <tspan style="font-style:italic" id="tspan17821">w</tspan> into it.</tspan></text>
      <g transform="translate(-177.16537,196.88184)" id="g3889">
        <path inkscape:connector-curvature="0" id="path6429-4" d="m 318.36638,131.62408 0,-35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
        <g id="g3868" transform="translate(-1.0625272,-69.822729)">
          <path inkscape:connector-curvature="0" id="path3812" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
          <text sodipodi:linespacing="125%" id="text3820" y="209.73633" x="319.4155" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.4155" id="tspan3822" sodipodi:role="line">s</tspan></text>
        </g>
      </g>
    </g>
    <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618356,468.23816 230.314964,0 0,-106.29921 17.71653,0" id="path7200-7" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
    <g id="g9993" transform="translate(265.21677,87.104311)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect9995" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="0.57452416" y="292.55112" x="35.433056" height="70.866119" width="230.31496" id="rect9997" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text9999" y="270.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="270.83463" x="53.149605" sodipodi:role="line" id="tspan10493">The tree <tspan style="font-style:italic" id="tspan12484">s</tspan> is empty, and represents the set ∅.</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="286.47394" x="53.149605" sodipodi:role="line" id="tspan18095"/></text>
      <g transform="translate(-177.16537,196.88184)" id="g10011">
        <path inkscape:connector-curvature="0" id="path10013" d="m 318.89764,95.669268 0,35.433072" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)" sodipodi:nodetypes="cc"/>
      </g>
      <g id="g10015" transform="translate(-177.16537,126.01569)">
        <text sodipodi:linespacing="125%" id="text10019" y="215.68503" x="316.89764" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="215.68503" x="316.89764" id="tspan10021" sodipodi:role="line">s</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text10023" y="329.41718" x="149.43304" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="329.41718" x="149.43304" id="tspan10025" sodipodi:role="line">BT(h=0)</tspan></text>
    </g>
    <g transform="translate(530.9648,87.104311)" id="g17969">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect17971" style="fill:#b7e2ae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#def2da;fill-opacity:1;stroke:none" id="rect17973" width="230.31496" height="70.866119" x="35.433056" y="292.55112" ry="0.57452416"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="270.83463" id="text17975" sodipodi:linespacing="125%"><tspan id="tspan17981" sodipodi:role="line" x="53.149605" y="270.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">∅ ∪ {<tspan id="tspan17983" style="font-style:italic">w</tspan>} = {w}, so we return a single-node tree.</tspan><tspan sodipodi:role="line" x="53.149605" y="283.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan18099">Same height, and BT → RT is fine.  We're done.</tspan></text>
    </g>
    <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 672.69711,415.08861 0,-35.43306" id="path12133" inkscape:connector-curvature="0"/>
    <path inkscape:connector-curvature="0" id="path12135" d="m 672.69711,415.08855 -35.43307,8e-5" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)" sodipodi:nodetypes="cc"/>
    <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path12137" d="m 672.69711,415.08855 35.43307,8e-5" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker-end:url(#SquareM)"/>
    <g transform="translate(389.23253,283.98621)" id="g12139">
      <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path12141" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text12143" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12145" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">s</tspan></text>
    </g>
    <g transform="translate(385.70145,247.06875)" id="g12147">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text12149" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12151" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
      <text sodipodi:linespacing="125%" id="text12153" y="185.73633" x="251.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.73633" x="251.56259" id="tspan12155" sodipodi:role="line">BT(0)</tspan></text>
      <text sodipodi:linespacing="125%" id="text12157" y="169.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="169.73633" x="247.56259" id="tspan12159" sodipodi:role="line"/></text>
    </g>
    <g transform="translate(385.70144,247.06875)" id="g12161">
      <text sodipodi:linespacing="125%" id="text12169" y="185.73633" x="322.42874" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.73633" x="322.42874" id="tspan12171" sodipodi:role="line">BT(0)</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="168.01979" id="text12165" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan12167" x="319.19" y="168.01979" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
    </g>
    <text sodipodi:linespacing="125%" id="text12173" y="397.37201" x="690.41364" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="397.37201" x="690.41364" id="tspan12175" sodipodi:role="line">RT(0)</tspan></text>
    <g id="g18103">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.334919" y="462.52161" id="text3852-9-8-5-9" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan3854-0-8-3-0" x="62.334919" y="462.52161" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Is the pointer to tree <tspan id="tspan17889" style="font-style:italic">s</tspan> null?</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="61.77824" y="479.22571" id="text6246-4" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6248-6" x="61.77824" y="479.22571" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Pointer to <tspan id="tspan17895" style="font-style:italic">s</tspan> is not null</tspan></text>
      <path inkscape:connector-curvature="0" id="path7198-2" d="m 52.618356,450.52163 0,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
      <text transform="matrix(0,-1,1,0,0,0)" sodipodi:linespacing="125%" id="text17963" y="294.64984" x="-451.95471" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="294.64984" x="-451.95471" id="tspan17965" sodipodi:role="line">Pointer to <tspan style="font-style:italic" id="tspan17967">s</tspan> is null</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618356,468.23816 230.314964,0 0,-106.29921 17.71653,0" id="path18101" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
    </g>
    <g id="g18116" transform="translate(265.74803,-2.9921259e-6)">
      <text sodipodi:linespacing="125%" id="text18118" y="462.52161" x="62.334919" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="462.52161" x="62.334919" id="tspan18120" sodipodi:role="line">Create and return new red node containing <tspan style="font-style:italic" id="tspan18140">w</tspan>.</tspan></text>
      <path sodipodi:nodetypes="ccccc" inkscape:connector-curvature="0" id="path18138" d="m 52.618358,450.52163 0,17.71654 230.314962,-1e-5 0,-106.29921 17.71653,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    </g>
    <g id="g18357" transform="translate(2.992126e-7,194.88189)">
      <text sodipodi:linespacing="125%" id="text18359" y="462.52161" x="62.334919" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="462.52161" x="62.334919" id="tspan18361" sodipodi:role="line"><tspan style="font-style:italic" id="tspan18551">v</tspan> = <tspan style="font-style:italic" id="tspan18553">w</tspan>?</tspan></text>
      <text sodipodi:linespacing="125%" id="text18365" y="479.22571" x="61.77824" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="479.22571" x="61.77824" id="tspan18367" sodipodi:role="line">v ≠ w</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618356,450.52163 0,35.43307" id="path18371" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-345.95471" y="294.64984" id="text18373" sodipodi:linespacing="125%" transform="matrix(0,-1,1,0,0,0)"><tspan sodipodi:role="line" id="tspan18375" x="-345.95471" y="294.64984" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan18557">v</tspan> = <tspan style="font-style:italic" id="tspan18555">w</tspan></tspan></text>
      <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path18379" d="m 52.618356,468.23816 230.314964,0 0,-159.44882 17.71653,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    </g>
    <g transform="translate(265.21677,228.83659)" id="g18489">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect18491" style="fill:#b7e2ae;fill-opacity:1;stroke:none"/>
      <rect style="fill:#def2da;fill-opacity:1;stroke:none" id="rect18493" width="230.31496" height="124.01581" x="35.433056" y="292.55112" ry="1.0054181"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text18495" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan18563"><tspan style="font-style:italic" id="tspan18565">w</tspan> is already in the set.  Returning the same</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan18571">tree satisfies the specification, so we're done.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 141.7323,327.98423 0,-35.43306" id="path18505" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path18507" d="m 141.7323,327.98417 -35.43307,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path18509" d="m 141.7323,327.98417 35.43307,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-141.73227,196.88183)" id="g18511">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path18513" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="281.10742" y="133.28091" id="text18515" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18517" x="281.10742" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">w</tspan></text>
      </g>
      <g transform="translate(-141.73227,179.16537)" id="g18519">
        <path inkscape:connector-curvature="0" id="path18521" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text18523" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan18525" sodipodi:role="line">l</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text18527" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18529" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.56259" y="191.73633" id="text18531" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18533" x="261.56259" y="191.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
        <text sodipodi:linespacing="125%" id="text18535" y="191.73633" x="333.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="191.73633" x="333.56259" id="tspan18537" sodipodi:role="line">i</tspan></text>
      </g>
      <g transform="translate(-141.73227,179.16537)" id="g18539">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path18541" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text18543" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18545" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text18547" y="317.41727" x="167.14961" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.41727" x="167.14961" id="tspan18549" sodipodi:role="line">h</tspan></text>
    </g>
    <g transform="translate(-0.53126553,423.71848)" id="g18573">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect18575" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect18577" width="230.31496" height="124.01581" x="35.433056" y="292.55112" ry="1.0054181"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text18579" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan18581">Value <tspan style="font-style:italic" id="tspan18789">w</tspan> is not at the top of the tree.  It may be</tspan><tspan id="tspan18587" sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">in a subtree.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 141.7323,327.98423 0,-35.43306" id="path18589" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path18591" d="m 141.7323,327.98417 -35.43307,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path18593" d="m 141.7323,327.98417 35.43307,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-141.73227,196.88183)" id="g18595">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path18597" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="284.20337" y="133.28091" id="text18599" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18601" x="284.20337" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v ≠ w</tspan></text>
      </g>
      <g transform="translate(-141.73227,179.16537)" id="g18603">
        <path inkscape:connector-curvature="0" id="path18605" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text18607" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan18609" sodipodi:role="line">l</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text18611" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18613" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.56259" y="191.73633" id="text18615" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18617" x="261.56259" y="191.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
        <text sodipodi:linespacing="125%" id="text18619" y="191.73633" x="333.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="191.73633" x="333.56259" id="tspan18621" sodipodi:role="line">i</tspan></text>
      </g>
      <g transform="translate(-141.73227,179.16537)" id="g18623">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path18625" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text18627" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18629" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text18631" y="317.41727" x="167.14961" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.41727" x="167.14961" id="tspan18633" sodipodi:role="line">h</tspan></text>
    </g>
    <g id="g18639" transform="translate(265.21677,423.71848)">
      <rect style="fill:#c8c8c8;fill-opacity:1;stroke:none" id="rect18641" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.0054181" y="292.55112" x="35.433056" height="124.01581" width="230.31496" id="rect18643" style="fill:#e6e6e6;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text18645" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan id="tspan18647" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line">Value <tspan style="font-style:italic" id="tspan18791">w</tspan> is not at the root.  We want it to be in</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan18649">the left subtree, <tspan style="font-style:italic" id="tspan18795">l</tspan>.</tspan></text>
      <path inkscape:connector-curvature="0" id="path18651" d="m 141.7323,327.98423 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.06299213, 1.06299213;stroke-dashoffset:0" d="m 141.7323,327.98417 -35.43307,35.43315" id="path18653" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 141.7323,327.98417 35.43307,35.43315" id="path18655" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g18657" transform="translate(-141.73227,196.88183)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path18659" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text18661" y="133.28091" x="284.20337" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="284.20337" id="tspan18663" sodipodi:role="line">v &gt; w</tspan></text>
      </g>
      <g id="g18665" transform="translate(-141.73227,179.16537)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path18667" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text18669" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18671" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
        <text sodipodi:linespacing="125%" id="text18673" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan18675" sodipodi:role="line"/></text>
        <text sodipodi:linespacing="125%" id="text18677" y="191.73633" x="261.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="191.73633" x="261.56259" id="tspan18679" sodipodi:role="line">i</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="333.56259" y="191.73633" id="text18681" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18683" x="333.56259" y="191.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
      </g>
      <g id="g18685" transform="translate(-141.73227,179.16537)">
        <path inkscape:connector-curvature="0" id="path18687" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text18689" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan18691" sodipodi:role="line">r</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="167.14961" y="317.41727" id="text18693" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18695" x="167.14961" y="317.41727" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
    </g>
    <g id="g18357-3" transform="translate(2.992126e-7,389.76378)">
      <text sodipodi:linespacing="125%" id="text18359-5" y="462.52161" x="62.334919" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="462.52161" x="62.334919" id="tspan18361-7" sodipodi:role="line"><tspan style="font-style:italic" id="tspan18551-5">v &lt; w</tspan>?</tspan></text>
      <text sodipodi:linespacing="125%" id="text18365-9" y="479.22571" x="61.77824" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="479.22571" x="61.77824" id="tspan18367-5" sodipodi:role="line">v &lt; w</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618356,450.52163 0,35.43307 230.314964,0 0,-17.71654" id="path18371-1" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="-345.95471" y="294.64984" id="text18373-9" sodipodi:linespacing="125%" transform="matrix(0,-1,1,0,0,0)"><tspan sodipodi:role="line" id="tspan18375-5" x="-345.95471" y="294.64984" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"><tspan style="font-style:italic" id="tspan18557-7">v &gt; w</tspan></tspan></text>
      <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path18379-6" d="m 52.618356,468.23816 230.314964,0 0,-159.44882 17.71653,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.334919" y="500.52151" id="text11072" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan11074" x="62.334919" y="500.52151" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">(Symmetrical to the case for <tspan style="font-style:italic" id="tspan11080">v &gt; w</tspan>)</tspan></text>
    </g>
    <g transform="translate(530.9648,423.71848)" id="g18801">
      <rect ry="0.28726187" y="257.1181" x="35.433086" height="35.433033" width="230.31494" id="rect18803" style="fill:#c8c8c8;fill-opacity:1;stroke:none"/>
      <rect style="fill:#e6e6e6;fill-opacity:1;stroke:none" id="rect18805" width="230.31496" height="124.01581" x="35.433056" y="292.55112" ry="1.0054181"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.149605" y="272.83463" id="text18807" sodipodi:linespacing="125%"><tspan id="tspan18813" sodipodi:role="line" x="53.149605" y="272.83463" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">The ins_aux call may have returned an RVT(i).</tspan><tspan sodipodi:role="line" x="53.149605" y="285.95963" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" id="tspan18911">The tree may therefore be invalid.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 159.44883,327.98424 0,-35.43306" id="path18817" inkscape:connector-curvature="0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path18819" d="m 159.44883,327.98418 -35.43307,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path18821" d="m 159.44883,327.98418 35.43307,35.43315" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0"/>
      <g transform="translate(-124.01574,196.88184)" id="g18823">
        <path sodipodi:type="arc" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="path18825" sodipodi:cx="297.85715" sodipodi:cy="99.505035" sodipodi:rx="34.285713" sodipodi:ry="34.285713" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="284.20337" y="133.28091" id="text18827" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18829" x="284.20337" y="133.28091" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">v &gt; w</tspan></text>
      </g>
      <g transform="translate(-124.01574,179.16538)" id="g18831">
        <path inkscape:connector-curvature="0" id="path18833" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text18835" y="209.73633" x="247.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="247.56259" id="tspan18837" sodipodi:role="line">l</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="261.74802" y="185.96849" id="text18839" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18841" x="261.74802" y="185.96849" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="295.56259" y="183.73633" id="text18843" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18845" x="295.56259" y="183.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
        <text sodipodi:linespacing="125%" id="text18847" y="191.73633" x="333.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="191.73633" x="333.56259" id="tspan18849" sodipodi:role="line">i</tspan></text>
      </g>
      <g transform="translate(-124.01574,179.16538)" id="g18851">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" id="path18853" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="319.19" y="209.73633" id="text18855" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18857" x="319.19" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">r</tspan></text>
      </g>
      <text sodipodi:linespacing="125%" id="text18859" y="317.41727" x="184.86615" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="317.41727" x="184.86615" id="tspan18861" sodipodi:role="line">h</tspan></text>
      <path style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" d="m 103.24078,355.44993 c -11.225119,7.89072 -14.072922,23.31242 -10.86578,35.97679 1.60873,6.46591 5.419721,12.44421 10.9264,16.26078 -0.3416,-1.31822 -2.47816,-2.64673 -3.21509,-4.20314 -7.471936,-11.6024 -7.970683,-27.2987 -2.346616,-39.80554 1.395325,-3.00426 3.316526,-5.79573 5.743556,-8.03188 l -0.18185,-0.24248 -0.0606,0.0454 z" id="path5981-6" inkscape:connector-curvature="0"/>
      <path style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" d="m 157.25182,355.64694 c 9.03109,8.87477 10.88356,22.81877 8.69869,34.8402 -1.27297,6.2828 -3.93445,12.56835 -8.71384,16.95789 1.32634,0.0343 2.83147,-2.05233 4.04625,-3.04606 9.23731,-9.57691 10.25123,-24.74921 5.83449,-36.77998 -1.96016,-4.90004 -5.3251,-9.20547 -9.66858,-12.22968 l -0.19701,0.25763 z" id="path5983-5" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="53.14962" y="381.13385" id="text6008-3" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6010-2" x="53.14962" y="381.13385" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">ins_aux</tspan></text>
      <text sodipodi:linespacing="125%" id="text18890" y="381.13385" x="147.14963" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="381.13385" x="147.14963" id="tspan18892" sodipodi:role="line">, <tspan style="font-style:italic" id="tspan18894">w</tspan></tspan></text>
    </g>
    <g id="g18913" transform="translate(530.9648,228.83659)">
      <rect style="fill:#d3aee2;fill-opacity:1;stroke:none" id="rect18915" width="230.31494" height="35.433033" x="35.433086" y="257.1181" ry="0.28726187"/>
      <rect ry="1.0054181" y="292.55112" x="35.433056" height="124.01581" width="230.31496" id="rect18917" style="fill:#ebdaf2;fill-opacity:1;stroke:none"/>
      <text sodipodi:linespacing="125%" id="text18919" y="272.83463" x="53.149605" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="272.83463" x="53.149605" sodipodi:role="line" id="tspan19033">bal() will fix the tree to be either valid or an</tspan><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="285.95963" x="53.149605" sodipodi:role="line" id="tspan19037">RVT.  Both are valid ins_aux return values.</tspan></text>
      <path inkscape:connector-curvature="0" id="path18925" d="m 185.16537,327.98424 0,-35.43306" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" d="M 185.16537,327.98418 149.7323,363.41733" id="path18927" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.0629921, 1.0629921;stroke-dashoffset:0" d="m 185.16537,327.98418 35.43307,35.43315" id="path18929" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
      <g id="g18931" transform="translate(-98.2992,196.88184)">
        <path transform="matrix(0.5167323,0,0,0.5167323,129.55216,79.684877)" d="m 332.14286,99.505035 c 0,18.935475 -15.35024,34.285715 -34.28571,34.285715 -18.93548,0 -34.28572,-15.35024 -34.28572,-34.285715 0,-18.935476 15.35024,-34.285713 34.28572,-34.285713 18.93547,0 34.28571,15.350237 34.28571,34.285713 z" sodipodi:ry="34.285713" sodipodi:rx="34.285713" sodipodi:cy="99.505035" sodipodi:cx="297.85715" id="path18933" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:6.85714245;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" sodipodi:type="arc"/>
        <text sodipodi:linespacing="125%" id="text18935" y="133.28091" x="284.20337" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="133.28091" x="284.20337" id="tspan18937" sodipodi:role="line">v &gt; w</tspan></text>
      </g>
      <g id="g18939" transform="translate(-98.2992,179.16538)">
        <path style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" d="m 248.0315,184.25195 -17.71653,35.43307 35.43307,0 z" id="path18941" inkscape:connector-curvature="0"/>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="247.56259" y="209.73633" id="text18943" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18945" x="247.56259" y="209.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">l</tspan></text>
        <text sodipodi:linespacing="125%" id="text18947" y="185.96849" x="261.74802" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="185.96849" x="261.74802" id="tspan18949" sodipodi:role="line"/></text>
        <text sodipodi:linespacing="125%" id="text18951" y="183.73633" x="295.56259" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="183.73633" x="295.56259" id="tspan18953" sodipodi:role="line">i</tspan></text>
        <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="333.56259" y="191.73633" id="text18955" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18957" x="333.56259" y="191.73633" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">i</tspan></text>
      </g>
      <g id="g18959" transform="translate(-98.2992,179.16538)">
        <path inkscape:connector-curvature="0" id="path18961" d="m 318.89764,184.25195 -17.71653,35.43307 35.43307,0 z" style="fill:#ffffff;fill-opacity:1;stroke:#969696;stroke-width:3.54330707;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
        <text sodipodi:linespacing="125%" id="text18963" y="209.73633" x="319.19" style="font-size:40px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;text-anchor:middle;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="209.73633" x="319.19" id="tspan18965" sodipodi:role="line">r</tspan></text>
      </g>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="210.58269" y="317.41727" id="text18967" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18969" x="210.58269" y="317.41727" style="font-size:10.5px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">h</tspan></text>
      <path inkscape:connector-curvature="0" id="path18971" d="m 128.95732,355.44993 c -11.22512,7.89072 -14.07292,23.31242 -10.86578,35.97679 1.60873,6.46591 5.41972,12.44421 10.9264,16.26078 -0.3416,-1.31822 -2.47816,-2.64673 -3.21509,-4.20314 -7.47194,-11.6024 -7.97069,-27.2987 -2.34662,-39.80554 1.39533,-3.00426 3.31653,-5.79573 5.74356,-8.03188 l -0.18185,-0.24248 -0.0606,0.0454 z" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/>
      <path inkscape:connector-curvature="0" id="path18973" d="m 182.96836,355.64694 c 9.03109,8.87477 10.88356,22.81877 8.69869,34.8402 -1.27297,6.2828 -3.93445,12.56835 -8.71384,16.95789 1.32634,0.0343 2.83147,-2.05233 4.04625,-3.04606 9.23731,-9.57691 10.25123,-24.74921 5.83449,-36.77998 -1.96016,-4.90004 -5.3251,-9.20547 -9.66858,-12.22968 l -0.19701,0.25763 z" style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro"/>
      <text sodipodi:linespacing="125%" id="text18975" y="381.13385" x="78.866158" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="381.13385" x="78.866158" id="tspan18977" sodipodi:role="line">ins_aux</tspan></text>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="172.86617" y="381.13385" id="text18979" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18981" x="172.86617" y="381.13385" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">, <tspan id="tspan18983" style="font-style:italic">w</tspan></tspan></text>
      <path style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" d="m 86.284965,302.72061 c -19.250786,23.81241 -21.587187,58.48589 -10.806127,86.57323 2.845951,6.91799 6.801908,13.3763 11.675586,19.05356 C 68.221097,376.9428 68.341248,334.43261 86.284965,302.72061 z" id="path19019" inkscape:connector-curvature="0"/>
      <path style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" d="m 239.43337,302.07473 c 15.55841,25.04282 17.23564,57.14994 9.3781,85.14636 -2.01943,6.98588 -5.37489,14.42522 -8.88127,20.18233 20.62019,-24.92248 21.80702,-61.74789 9.40727,-90.53849 -2.7427,-5.67399 -6.25834,-11.02106 -10.5003,-15.70934 l 0.43259,0.66692 0.16361,0.25222 z" id="path19021" inkscape:connector-curvature="0"/>
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="50.866158" y="359.13385" id="text19027" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan19029" x="50.866158" y="359.13385" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">bal</tspan></text>
    </g>
    <g transform="translate(265.74803,389.76378)" id="g18985">
      <text xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="62.334919" y="462.52161" id="text18987" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan18989" x="62.334919" y="462.52161" style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro">Assign ins_aux(<tspan style="font-style:italic" id="tspan19013">l</tspan>, <tspan style="font-style:italic" id="tspan19015">w</tspan>) to the <tspan style="font-style:italic" id="tspan19017">l</tspan> pointer.</tspan></text>
      <path style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)" d="m 52.618358,450.52163 0,17.71653 230.314962,0 0,-159.44882 17.71653,0" id="path19005" inkscape:connector-curvature="0" sodipodi:nodetypes="ccccc"/>
    </g>
    <g id="g19039" transform="translate(496.06299,194.88189)">
      <text sodipodi:linespacing="125%" id="text19041" y="63.348648" x="-446.60034" style="font-size:40px;font-style:normal;font-weight:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" xml:space="preserve" transform="matrix(0,-1,1,0,0,0)"><tspan style="font-size:10.5px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;text-anchor:start;font-family:Minion Pro;-inkscape-font-specification:Minion Pro" y="63.348648" x="-446.60034" id="tspan19043" sodipodi:role="line">Apply bal() to the whole tree.</tspan></text>
      <path sodipodi:nodetypes="ccccc" inkscape:connector-curvature="0" id="path19051" d="m 88.051429,485.9547 0,-17.71654 -35.433071,0 0,-159.44882 17.71653,0" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
    </g>
    <path inkscape:connector-curvature="0" id="path7198-2-0" d="m 52.618356,308.78935 0,35.43307" style="fill:none;stroke:#000000;stroke-width:1.0629921;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Mend-9)"/>
  </g>
</svg>
  </p>

  <section class="generated_listing" xml:base="../../../../code/d/html/rb/insert/recursive.d.html"><pre class="prettyprint">module rb.insert.recursive;

import rb.node;
import rb.blacken;
import rb.insert.balance;

Node* insert_aux(Node* root, int w) {
  if (root == null) return new Node(w);
  else if (root.value == w) return root;
  int dir = root.value &lt; w;
  root.c[dir] = insert_aux(root.c[dir], w);
  return balance(root, dir);
}


Node* insert(Node* root, int value) { </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Function precondition.</div><span class="pred_name">BT</span>(<code>root</code>, <span class="st">S</span>, <span class="var">h</span>)</div></div>
<pre class="prettyprint">
  Node* i = insert_aux(root, value); </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Specification for <code>insert_aux</code>.</div><span class="pred_name">RBT</span>(<code>i</code>, <span class="st">S</span> ∪ {<code>value</code>}), <span class="var">h</span> ∨ <span class="pred_name">RVT</span>(<code>i</code>, <span class="st">S</span> ∪ {<code>value</code>}), <span class="var">h</span></div></div>
<pre class="prettyprint">
  Node* o = blacken(i); </pre>
<div class="section"><pre class="indent">  </pre><div class="AssertionParagraph"><div class="expl">Specification for <code>blacken</code>.</div>∃<span class="var">nh</span>. <span class="pred_name">BT</span>(<code>o</code>, <span class="st">S</span> ∪ {<code>value</code>}), <span class="var">nh</span> ∧ <span class="var">nh</span> ∈ {
        <span class="var">h</span>,
        <span class="var">h</span>+<span class="constant">1</span>
      }</div></div>
<pre class="prettyprint">
  return o;
} </pre></section>    
</section>
  <!--<xi:include href="./remove/remove.html" />-->
</section>
  <!-- <xi:include href="iterative.html" /> -->
</section>
      <!--<xi:include href="concurrent/concurrent.html" /> -->
    </section>
  </body>
</html>
